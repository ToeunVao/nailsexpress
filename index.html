<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nail Express</title>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d63384">
    <link rel="icon" type="image/png" href="https://placehold.co/32x32/d63384/FFFFFF?text=NE">


    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&family=Parisienne&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <link rel="stylesheet" href="style.css">

</head>

<body class="bg-gray-100">

    <div id="loading-screen" class="fixed inset-0 z-[100] flex items-center justify-center bg-white">
        <h2 class="text-3xl font-bold text-pink-700">NailsXpress...</h2>
    </div>

    <div id="landing-page-content" style="display: none;">
        <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <div id="landing-logo">
                    <h2 class="text-2xl font-bold text-pink-700 tracking-wider"><a href="#">NailsXpress</a></h2>
                    <p class="text-xs text-gray-500 -mt-1">Nails salon & Spa</p>
                </div>
                <nav id="landing-nav" class="hidden md:flex space-x-8 text-sm font-semibold text-gray-600">
                    <a href="#shop-landing" class="hover:text-pink-600">Shop</a>
                    <a href="#promotions-landing" class="hover:text-pink-600 nav-item-promotions">Promotions</a>
                    <a href="#nails-idea-landing" class="hover:text-pink-600 nav-item-nails-idea">Nails Inspo</a>
                    <a href="#royalty-card-landing" class="hover:text-pink-600">Royalty Card</a>
                    <a href="#gift-card-landing" class="hover:text-pink-600 nav-item-gift-card">Gift Cards</a>
                    <a href="#memberships-landing" class="hover:text-pink-600">Memberships</a>
                    <a href="#booking-landing" class="hover:text-pink-600">Booking</a>
                    <a href="#about-landing" class="hover:text-pink-600">About Us</a>
                    <a href="#contact-landing" class="hover:text-pink-600">Contact Us</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <button id="cart-button" class="relative text-gray-600 hover:text-pink-600">
                        <i class="fas fa-shopping-cart fa-lg"></i>
                        <span id="cart-badge"
                            class="absolute -top-2 -right-2 bg-pink-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                    </button>
                    <button id="user-icon"
                        class="text-gray-600 hover:text-pink-600 flex items-center space-x-2 text-sm font-semibold">
                        <i class="fas fa-user"></i>
                        <span>Log In</span>
                    </button>
                </div>
            </div>
        </header>
        <section class="hero-section-new relative">
            <div class="hero-overlay-new w-full h-full flex items-center justify-center text-center">
                <div class="container mx-auto px-6 py-16">
                    <h1 class="text-5xl md:text-7xl font-bold text-pink-700 leading-tight">Elegance at<br>Your
                        Fingertips</h1>
                    <p class="mt-4 text-gray-600 max-w-md mx-auto">
                        Experience elegance at its finest with our nail art creations. From delicate patterns to
                        intricate details, our salon ensures that sophistication is just a brushstroke away.
                    </p>
                    <div class="mt-8 flex justify-center items-center space-x-6">
                        <a href="https://www.facebook.com/profile.php?id=61566760681750" target="_blank"
                            class="text-gray-600 hover:text-pink-600 transition-colors">
                            <i class="fab fa-facebook fa-2x"></i>
                        </a>
                        <a href="https://youtube.com/@NailExpressKY" target="_blank"
                            class="text-gray-600 hover:text-pink-600 transition-colors">
                            <i class="fab fa-youtube fa-2x"></i>
                        </a>
                        <a href="https://www.tiktok.com/@nailsexpressky" target="_blank"
                            class="text-gray-600 hover:text-pink-600 transition-colors">
                            <i class="fab fa-tiktok fa-2x"></i>
                        </a>
                    </div>
                    <div class="mt-6 flex justify-center space-x-4">
                        <a href="#booking-landing"
                            class="bg-pink-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-pink-700 transition-colors">
                            Book your appointment now
                        </a>
                    </div>
                </div>
            </div>
        </section>


        <section id="promotions-landing" class="py-20 bg-pink-50">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">Current Promotions</h2>
                <div id="promotions-container-landing" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
            </div>
        </section>

        <section id="nails-idea-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">Nail Art Inspiration</h2>
                <div id="nails-idea-container-landing" class="columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4">
                </div>
            </div>
        </section>
        <section id="royalty-card-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Join Our Royalty Program</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed mb-8">
                    We love our loyal clients! Sign up for our free Royalty Card and earn rewards with every visit. Get
                    closer to a complimentary service with each stamp.
                </p>
                <button id="join-royalty-btn"
                    class="bg-pink-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-pink-700 transition-colors">
                    Get Your Royalty Card
                </button>
            </div>
        </section>
        <section id="gift-card-landing" class="py-20 bg-pink-50">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Give the Gift of Glamour</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed mb-8">
                    Treat your loved ones to a relaxing and beautifying experience with a NailsXpress digital gift card.
                    Perfect for birthdays, holidays, or just because!
                </p>
                <button id="buy-gift-card-btn"
                    class="bg-pink-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-pink-700 transition-colors">
                    Buy a Gift Card
                </button>
            </div>
        </section>

        <section id="memberships-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Become a VIP Member</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed mb-8">
                    Join our exclusive membership program for discounts, included services, and special perks. Elevate
                    your nail care routine and save!
                </p>
                <div id="landing-memberships-container" class="grid grid-cols-1 md:grid-cols-3 gap-8 cursor-pointer">
                </div>
            </div>
        </section>
        <main class="container mx-auto max-w-7xl p-4 sm:p-6 lg:p-8">

            <section id="booking-landing" class="py-20">
                <div class="container mx-auto px-6">
                    <div class="bg-white p-8 md:p-12 rounded-2xl shadow-2xl max-w-4xl mx-auto">
                        <h2 class="text-3xl font-bold text-center text-pink-700 mb-2">Book a New Appointment</h2>
                        <p class="text-center text-gray-600 mb-8">Your moment of relaxation is just a few clicks away.
                        </p>
                        <form id="add-appointment-form-landing" class="relative">

                            <div id="booking-step-1">
                                <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Step 1: Your
                                    Information
                                </h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div><label for="appointment-client-name-landing"
                                            class="block text-sm font-medium text-gray-600">Client Name</label><input
                                            type="text" id="appointment-client-name-landing"
                                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="e.g., Jane Doe" required></div>
                                    <div><label for="appointment-phone-landing"
                                            class="block text-sm font-medium text-gray-600">Phone</label><input
                                            type="tel" id="appointment-phone-landing"
                                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="(555) 123-4567" required></div>
                                    <div>
                                        <label for="appointment-email-landing"
                                            class="block text-sm font-medium text-gray-600">Email (Optional)</label>
                                        <input type="email" id="appointment-email-landing"
                                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="Enter email for reminders">
                                    </div>
                                    <div><label for="appointment-people-landing"
                                            class="block text-sm font-medium text-gray-600">Group Size</label><select
                                            id="appointment-people-landing"
                                            class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg"></select>
                                    </div>
                                    <div><label for="appointment-technician-select-landing"
                                            class="block text-sm font-medium text-gray-600">Technician
                                            Request</label><select id="appointment-technician-select-landing"
                                            class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg">
                                            <option>Any Technician</option>
                                        </select></div>
                                    <div><label for="appointment-datetime-landing"
                                            class="block text-sm font-medium text-gray-600">Date & Time</label><input
                                            type="datetime-local" id="appointment-datetime-landing"
                                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                                            required>
                                    </div>
                                    <div class="md:col-span-2"><label for="appointment-notes-landing"
                                            class="block text-sm font-medium text-gray-600">Notes
                                            (optional)</label><textarea id="appointment-notes-landing" rows="2"
                                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="Any special requests or notes?"></textarea></div>
                                </div>
                                <div class="mt-8 text-center">
                                    <button type="button" id="booking-next-btn"
                                        class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105">Next:
                                        Select Services</button>
                                </div>
                            </div>

                            <div id="booking-step-2" class="hidden">
                                <div class="flex justify-between items-center border-b pb-3 mb-6">
                                    <h3 class="text-xl font-semibold text-gray-700">Step 2: Select Your Services</h3>
                                </div>
                                <div id="services-container-landing" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                </div>
                                <div id="hidden-checkbox-container-landing" class="hidden">
                                </div>
                                <div class="mt-8 text-center">
                                    <label class="flex items-center justify-center">
                                        <input type="checkbox" id="appointment-policy-agree-landing"
                                            class="form-checkbox" checked required>
                                        <span class="ml-2 text-sm text-gray-600">I agree to the <button type="button"
                                                class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon
                                                Policy</button>.</span>
                                    </label>
                                </div>
                                <div class="mt-6 flex justify-center gap-4">
                                    <button type="button" id="booking-prev-btn"
                                        class="w-full md:w-auto bg-gray-300 text-gray-800 font-bold py-3 px-12 rounded-full hover:bg-gray-400">Previous</button>
                                    <button type="submit"
                                        class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105">Save
                                        Appointment</button>
                                </div>
                            </div>
                        
                     <div id="waitlist-cta-landing" class="hidden text-center mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
    <p id="waitlist-message-landing" class="font-semibold text-yellow-800 mb-2">This time slot is unavailable.</p>
    <p class="text-sm text-yellow-700 mb-4">Would you like to be added to the waitlist for this day?</p>
    <button type="button" id="join-waitlist-btn-landing"
        class="bg-yellow-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-yellow-600">Join
        Waitlist</button>
</div>
                        </form>
                    </div>
                </div>
            </section>

        </main>

        <section id="shop-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">Shop Our Products</h2>
                <div id="shop-products-container"
                    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                    <!-- Products will be dynamically inserted here -->
                </div>
            </div>
        </section>

        <section id="testimonials-landing" class="py-20 bg-pink-50">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">What Our Clients Say</h2>
                <div id="testimonials-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
            </div>
        </section>

        <section id="about-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Your Sanctuary for Beauty & Relaxation</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed">Welcome to Nail Express, your personal
                    retreat for beauty and wellness in Danville. Our passionate team is dedicated to providing
                    exceptional service in a clean, serene, and friendly environment.</p>
                <p class="text-gray-600 max-w-3xl mx-auto mt-4 leading-relaxed">From classic manicures to luxurious
                    spa
                    pedicures, we use only high-quality products to ensure lasting results. Treat yourself to our
                    signature pedicure experience that will leave you walking on air.</p>
            </div>
        </section>

        <section id="contact-landing" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Get In Touch</h2>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-12">
                    <div class="flex items-center"><i class="fas fa-map-marker-alt fa-2x text-pink-600 mr-4"></i>
                        <div>
                            <h4 class="font-semibold">Our Address</h4>
                            <p>1560 Hustonville Rd #345, Danville, KY 40422</p>
                        </div>
                    </div>
                    <div class="flex items-center"><i class="fas fa-phone fa-2x text-pink-600 mr-4"></i>
                        <div>
                            <h4 class="font-semibold">Call Us</h4>
                            <p>(859) 236-2873</p>
                        </div>
                    </div>
                    <div class="flex items-center"><i class="fas fa-envelope fa-2x text-pink-600 mr-4"></i>
                        <div>
                            <h4 class="font-semibold">Email Us</h4>
                            <p>nailsexpressky@gmail.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="client-dashboard-content" style="display: none;">
        <header class="bg-white shadow-md">
            <div class="container mx-auto max-w-5xl p-4 flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold text-pink-700">My Dashboard</h1>
                    <p id="client-welcome-name" class="text-sm text-gray-500">Welcome back!</p>
                </div>
                <div class="flex items-center gap-4">
                    <nav id="client-top-nav"
                        class="hidden md:flex items-center gap-2 text-sm font-semibold text-gray-600">
                    </nav>
                    <button id="client-sign-out-btn"
                        class="bg-pink-100 text-pink-700 font-semibold p-2 rounded-lg hover:bg-pink-200 transition-colors h-10 w-10 flex items-center justify-center">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <main class="container mx-auto max-w-5xl p-4 sm:p-6 lg:p-8">

            <div id="client-overview-content" class="client-tab-content">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card bg-pink-50 text-center">
                        <h4 class="font-semibold text-pink-800">Total Visits</h4>
                        <p id="client-total-visits" class="text-4xl font-bold text-pink-600">0</p>
                    </div>
                    <div class="dashboard-card bg-green-50 text-center">
                        <h4 class="font-semibold text-green-800">Est. Total Spent</h4>
                        <p id="client-total-spent" class="text-4xl font-bold text-green-600">$0</p>
                    </div>
                    <div class="dashboard-card bg-blue-50 text-center">
                        <h4 class="font-semibold text-blue-800">Last Visit</h4>
                        <p id="client-last-visit" class="text-2xl font-bold text-blue-600">N/A</p>
                    </div>
                    <div class="dashboard-card bg-purple-50 text-center">
                        <h4 class="font-semibold text-purple-800">Next Appointment</h4>
                        <p id="client-next-appt" class="text-2xl font-bold text-purple-600">None</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                    <div class="lg:col-span-3 bg-white p-6 rounded-2xl shadow-lg h-96">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Spending Over Time</h3>
                        <canvas id="client-spending-chart"></canvas>
                    </div>
                    <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg h-96">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">My Top Services</h3>
                        <canvas id="client-services-chart"></canvas>
                    </div>
                </div>
            </div>
            <div id="appointments-content" class="client-tab-content">
                <div class="flex justify-end items-center mb-4">
                    <button id="client-book-new-btn"
                        class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700">
                        Book New Appointment
                    </button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 mb-4">Upcoming Appointments</h3>
                        <div id="client-upcoming-appointments" class="space-y-4">
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 mb-4">Appointment History</h3>
                        <div id="client-appointment-history" class="space-y-4">
                        </div>
                    </div>
                </div>
            </div>

            <div id="favorites-content" class="client-tab-content hidden">
                <h3 class="text-xl font-semibold text-gray-700 mb-4">My Favorites</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-pink-800 mb-2">Favorite Technician</h4>
                        <p id="favorite-technician" class="text-2xl font-bold text-pink-600">-</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-pink-800 mb-2">Favorite Color</h4>
                        <p id="favorite-color" class="text-2xl font-bold text-pink-600">-</p>
                    </div>
                </div>
            </div>


            <div id="gift-cards-content" class="client-tab-content hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold text-gray-700">My Gift Cards</h3>
                    <button id="client-buy-gift-card-btn"
                        class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700">
                        <i class="fas fa-gift mr-2"></i>Buy More
                    </button>
                </div>
                <div id="client-gift-cards-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                </div>
            </div>
            <div id="membership-content" class="client-tab-content hidden">
                <div id="client-membership-display">
                </div>
            </div>
            <div id="royalty-card-content" class="client-tab-content hidden">
            </div>

            <div id="account-settings-content" class="client-tab-content hidden">
                <h3 class="text-xl font-semibold text-gray-700 mb-6">Account Settings</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                     <div class="bg-white p-6 rounded-lg shadow">
                    <div class="space-y-4 border-b pb-4 mb-4">
    <h3 class="text-xl font-semibold text-gray-800">Personal Information</h3>
    
    <div>
        <label for="client-settings-name" class="block text-sm font-medium text-gray-700">Name</label>
        <input type="text" id="client-settings-name" 
               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-pink-500 focus:border-pink-500" 
               required>
    </div>
    
    <button type="button" id="client-settings-save-btn" 
            class="bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-150 ease-in-out">
        Save Changes
    </button>
</div></div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-pink-800 mb-4">Change Email Address</h4>
                        <form id="client-change-email-form" class="space-y-4">
                            <div>
                                <label for="client-new-email" class="block text-sm font-medium text-gray-600">New
                                    Email</label>
                                <input type="email" id="client-new-email"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                            </div>
                            <button type="submit"
                                class="w-full bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700">Update
                                Email</button>
                        </form>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-pink-800 mb-4">Change Password</h4>
                        <form id="client-change-password-form" class="space-y-4">
                            <div>
                                <label for="client-current-password"
                                    class="block text-sm font-medium text-gray-600">Current Password</label>
                                <input type="password" id="client-current-password"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                                <p class="text-xs text-gray-500 mt-1">Note: Your default password is your phone number.
                                </p>
                            </div>
                            <div>
                                <label for="client-new-password" class="block text-sm font-medium text-gray-600">New
                                    Password</label>
                                <input type="password" id="client-new-password"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required
                                    minlength="6">
                            </div>
                            <button type="submit"
                                class="w-full bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700">Update
                                Password</button>
                        </form>
                    </div>
                </div>
            </div>


        </main>
    </div>

    <div id="app-content" style="display: none;">
        <header class="bg-white shadow-md">
            <div class="container mx-auto max-w-7xl p-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <div id="logo-link" class="cursor-pointer">
                        <h1 class="text-2xl font-bold text-pink-700">Nails Express</h1>
                        <p id="app-subtitle" class="text-sm text-gray-500">Nails salon & Spa</p>
                    </div>
                    <div id="notification-bell" class="relative cursor-pointer">
                        <i class="fas fa-bell text-xl text-gray-600"></i>
                        <span id="notification-count" class="notification-badge">0</span>
                        <div id="notification-dropdown" class="notification-dropdown hidden">
                        </div>
                    </div>
                </div>
                <nav id="top-nav" class="hidden md:flex items-center gap-2 text-sm font-semibold text-gray-600">
                </nav>
                <div class="flex items-center gap-4">
                    <div class="text-right hidden md:block">
                        <div id="live-clock" class="clock text-3xl font-bold text-gray-800"></div>
                        <div id="live-date" class="text-sm text-gray-500"></div>
                    </div>
                    <button id="sign-out-btn"
                        class="bg-pink-100 text-pink-700 font-semibold py-2 px-4 rounded-lg hover:bg-pink-200 transition-colors hidden sm:block">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                    <button id="mobile-menu-btn" class="md:hidden text-2xl text-gray-600">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </header>

        <div id="mobile-sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>
        <div id="mobile-sidebar"
            class="fixed top-0 right-0 h-full w-64 bg-white shadow-lg z-50 transform translate-x-full">
            <div class="p-4 flex justify-between items-center border-b">
                <h2 class="font-bold text-lg text-pink-700">Menu</h2>
                <button id="mobile-sidebar-close-btn"
                    class="text-gray-600 hover:text-gray-900 text-2xl">&times;</button>
            </div>
            <nav id="mobile-nav-links" class="p-4 flex flex-col space-y-2">
            </nav>
        </div>
        <main class="container mx-auto max-w-7xl p-4 sm:p-6 lg:p-8">
            <div id="dashboard-content">

                <div id="admin-dashboard-view" class="hidden">
                    <div id="admin-quick-nav"
                        class="top-0 bg-white/80 backdrop-blur-md z-30 p-2 mb-6 rounded-lg shadow flex justify-between items-center">
                        <div class="hidden md:flex items-center gap-2">
                            <span class="font-semibold text-sm text-gray-600">Quick Links:</span>
                            <a href="#staff-earning-cards-container" class="quick-nav-link">Staff Summary</a>
                            <a href="#salon-revenue-chart-container" class="quick-nav-link">Revenue Trend</a>
                            <a href="#admin-upcoming-appointments-list-container" class="quick-nav-link">Upcoming</a>
                            <a href="#dashboard-staff-earning-report-container" class="quick-nav-link">Earning
                                Report</a>
                        </div>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700">Date Range:</label>
                            <select id="dashboard-range-filter"
                                class="form-select p-2 border border-gray-300 rounded-lg"></select>
                            <input type="date" id="dashboard-date-filter"
                                class="p-2 border border-gray-300 rounded-lg hidden">
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="dashboard-card bg-pink-100">
                            <h4 class="font-bold text-pink-800">Total Salon Revenue</h4>
                            <p id="total-salon-revenue-card" class="text-3xl font-bold text-pink-600">$0</p>
                        </div>
                        <div class="dashboard-card bg-green-100">
                            <h4 class="font-bold text-green-800">Total Cash</h4>
                            <p id="total-salon-cash-card" class="text-3xl font-bold text-green-600">$0</p>
                        </div>
                        <div class="dashboard-card bg-blue-100">
                            <h4 class="font-bold text-blue-800">Top Earning Technician</h4>
                            <p id="top-earning-technician-card" class="text-xl font-bold text-blue-600">-</p>
                        </div>
                        <div class="dashboard-card bg-purple-100">
                            <h4 class="font-bold text-purple-800">Top Booking Technician</h4>
                            <p id="top-booking-technician-card" class="text-xl font-bold text-purple-600">-</p>
                        </div>
                        <div class="dashboard-card bg-teal-100">
                            <h4 class="font-bold text-teal-800">Total Appointments</h4>
                            <p id="total-appointments-card" class="text-3xl font-bold text-teal-600">0</p>
                        </div>
                        <div class="dashboard-card bg-indigo-100">
                            <h4 class="font-bold text-indigo-800">Total Clients</h4>
                            <p id="total-clients-card" class="text-3xl font-bold text-indigo-600">0</p>
                        </div>
                        <div class="dashboard-card bg-orange-100">
                            <h4 class="font-bold text-orange-800">Total Gift Cards Sales</h4>
                            <p id="total-gift-card-card" class="text-3xl font-bold text-orange-600">0</p>
                        </div>
                        <div class="dashboard-card bg-red-100">
                            <h4 class="font-bold text-red-800">Total Expense</h4>
                            <p id="total-expense-card" class="text-3xl font-bold text-red-600">$0</p>
                        </div>
                    </div>
                    <div class="mt-8 mb-8 bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Staff Earnings Summary</h3>
                        <div id="staff-earning-cards-container"
                            class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8">
                        </div>
                        <div class="h-96">
                            <canvas id="staff-earnings-chart"></canvas>
                        </div>
                    </div>

                    <div id="salon-revenue-chart-container" class="bg-white p-6 rounded-2xl shadow-lg h-96 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Salon Revenue Trend</h3>
                        <canvas id="salon-revenue-chart"></canvas>
                    </div>

                    <div id="admin-upcoming-appointments-list-container"
                        class="mt-8 mb-8 bg-white p-6 rounded-2xl shadow-lg">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-bold text-gray-700">Upcoming Appointments</h3>
                            <div id="tech-filter-container-dashboard-appointments"
                                class="tech-filter-container flex gap-2 flex-wrap">
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                    data-tech="All">All</button>
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm"
                                    data-tech="Any Technician">Any Technician</button>
                            </div>
                        </div>
                        <div id="admin-upcoming-appointments-list" class="overflow-x-auto max-h-72">
                        </div>
                    </div>


                    <div id="dashboard-staff-earning-report-container" class="mt-8 bg-white p-6 rounded-2xl shadow-lg">
                        <h3
                            class="text-xl font-bold text-gray-700 border-b pb-3 mb-6 flex justify-between items-center">
                            <span id="dashboard-staff-earning-title">Staff Earning Report</span>
                            <div class="flex gap-4">
                                <span id="dashboard-filtered-earning-total-main"
                                    class="ml-2 bg-pink-100 text-pink-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                <span id="dashboard-filtered-earning-total-tip"
                                    class="ml-2 bg-green-100 text-green-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                            </div>
                        </h3>
                        <form id="dashboard-staff-earning-form-full"
                            class="grid grid-cols-1 md:grid-cols-6 gap-6 mb-8 items-end p-4 border-b">
                            <div>
                                <label for="dashboard-staff-earning-date-full"
                                    class="block text-sm font-medium text-gray-600 mb-1">Date</label>
                                <input type="date" id="dashboard-staff-earning-date-full"
                                    class="form-input w-full p-3 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label for="dashboard-staff-name-full"
                                    class="block text-sm font-medium text-gray-600 mb-1">Staff Name</label>
                                <select id="dashboard-staff-name-full"
                                    class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select>
                            </div>
                            <div>
                                <label for="dashboard-staff-earning-service"
                                    class="block text-sm font-medium text-gray-600 mb-1">Service</label>
                                <input type="text" id="dashboard-staff-earning-service"
                                    list="dashboard-staff-earning-services-list"
                                    class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="Type or select service">
                                <datalist id="dashboard-staff-earning-services-list"></datalist>
                            </div>
                            <div>
                                <label for="dashboard-staff-earning-full"
                                    class="block text-sm font-medium text-gray-600 mb-1">Earning</label>
                                <input type="number" step="0.01" id="dashboard-staff-earning-full"
                                    class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="e.g., 100" required>
                            </div>
                            <div>
                                <label for="dashboard-staff-tip-full"
                                    class="block text-sm font-medium text-gray-600 mb-1">Tip</label>
                                <input type="number" step="0.01" id="dashboard-staff-tip-full"
                                    class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                    placeholder="e.g., 20">
                            </div>
                            <div>
                                <button type="submit"
                                    class="w-full bg-pink-600 text-white font-bold py-3 px-6 rounded-full hover:bg-pink-700">Add
                                    Earning</button>
                            </div>
                        </form>
                        <div class="flex justify-between items-center mb-4">
                            <div id="dashboard-tech-filter-container-earning"
                                class="tech-filter-container flex gap-2 flex-wrap"><button
                                    class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                    data-tech="All">All</button></div>
                            <div class="flex items-center gap-2">
                                <select id="dashboard-earning-range-filter"
                                    class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                <input type="date" id="dashboard-earning-date-filter"
                                    class="p-2 border border-gray-300 rounded-lg">
                            </div>
                        </div>
                        <div class="overflow-x-auto max-h-96">
                            <table id="dashboard-staff-earning-table-full"
                                class="w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0">
                                    <tr>
										<th scope="col" class="px-6 py-3 text-center">No.</th>
                                        <th scope="col" class="px-6 py-3">Date</th>
                                        <th scope="col" class="px-6 py-3">Staff Name</th>
                                        <th scope="col" class="px-6 py-3">Service</th>
                                        <th scope="col" class="px-6 py-3">Earning</th>
                                        <th scope="col" class="px-6 py-3">Tip</th>
                                        <th scope="col" class="px-6 py-3 text-center"
                                            id="dashboard-earning-action-header">Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                               <tfoot class="bg-gray-100 sticky bottom-0 font-semibold">
									<tr>
										<td colspan="4" class="px-6 py-3 text-right">Total:</td>
										<td id="dashboard-total-earning" class="px-6 py-3"></td>
										<td id="dashboard-total-tip" class="px-6 py-3"></td>
										<td class="px-6 py-3"></td> 
									</tr>
								</tfoot>
                            </table>
                        </div>
                    </div>

                    <div class="mt-8 bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold text-gray-700 border-b pb-3 mb-6">Salon Task Manager</h3>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                            <div class="md:col-span-1">
                                <form id="add-task-form" class="space-y-4">
                                    <div>
                                        <label for="task-description"
                                            class="block text-sm font-medium text-gray-600">New Task</label>
                                        <input type="text" id="task-description" class="form-input w-full mt-1"
                                            placeholder="e.g., Order more DND #401" required>
                                    </div>
                                    <div>
                                        <label for="task-category"
                                            class="block text-sm font-medium text-gray-600">Category</label>
                                        <select id="task-category" class="form-select w-full mt-1">
                                            <option value="Nails Supply">Nails Supply</option>
                                            <option value="Maintenance">Maintenance</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                    <button type="submit"
                                        class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">
                                        <i class="fas fa-plus mr-2"></i>Add Task
                                    </button>
                                </form>
                            </div>
                            <div id="task-list-container" class="md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-2 pb-2 border-b">Nails Supply</h4>
                                    <div id="task-list-supply" class="space-y-2 max-h-64 overflow-y-auto pr-2">
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-2 pb-2 border-b">Maintenance</h4>
                                    <div id="task-list-maintenance" class="space-y-2 max-h-64 overflow-y-auto pr-2">
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-2 pb-2 border-b">Other</h4>
                                    <div id="task-list-other" class="space-y-2 max-h-64 overflow-y-auto pr-2">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

                <div id="staff-dashboard-view" class="hidden">
                    <div class="flex justify-end items-center mb-6 gap-2">
                        <label class="text-sm font-medium text-gray-700">Date Range:</label>
                        <select id="staff-dashboard-range-filter"
                            class="form-select p-2 border border-gray-300 rounded-lg"></select>
                        <input type="date" id="staff-dashboard-date-filter"
                            class="p-2 border border-gray-300 rounded-lg hidden">
                    </div>

                    <div class="space-y-6 mb-8">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="dashboard-card bg-pink-100 p-8">
                                <h4 class="font-bold text-pink-800">My Earning</h4>
                                <p id="my-earning-card" class="text-4xl font-bold text-pink-600">$0</p>
                            </div>
                            <div class="dashboard-card bg-green-100 p-8">
                                <h4 class="font-bold text-green-800">My Total Payout (70%)</h4>
                                <p id="my-total-payout-card" class="text-4xl font-bold text-green-600">$0</p>
                            </div>
                            <div class="dashboard-card bg-yellow-100 p-8">
                                <h4 class="font-bold text-yellow-800">My Cash Payout</h4>
                                <p id="my-cash-payout-card" class="text-3xl font-bold text-yellow-600">$0</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="dashboard-card bg-blue-100">
                                <h4 class="font-bold text-blue-800">My Check Payout</h4>
                                <p id="my-check-payout-card" class="text-3xl font-bold text-blue-600">$0</p>
                            </div>
                            <div class="dashboard-card bg-orange-100">
                                <h4 class="font-bold text-orange-800">My Tips</h4>
                                <p id="my-tips-card" class="text-3xl font-bold text-orange-600">$0</p>
                            </div>
                            <div class="dashboard-card bg-teal-100">
                                <h4 class="font-bold text-teal-800">My Appointments</h4>
                                <p id="my-appointments-card" class="text-3xl font-bold text-teal-600">0</p>
                            </div>
                            <div class="dashboard-card bg-indigo-100">
                                <h4 class="font-bold text-indigo-800">My Clients</h4>
                                <p id="my-clients-card" class="text-3xl font-bold text-indigo-600">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 mb-8 bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">My Upcoming Appointments</h3>
                        <div id="staff-upcoming-appointments-list" class="overflow-x-auto max-h-72">
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-lg h-96 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">My Earning Trend</h3>
                        <canvas id="my-earnings-chart"></canvas>
                    </div>

                    <div class="mt-8 bg-white p-6 rounded-2xl shadow-lg">
                        <h3
                            class="text-xl font-bold text-gray-700 border-b pb-3 mb-6 flex justify-between items-center flex-wrap">
                            <span id="staff-details-title">My Earning Details</span>
                            <div class="flex items-center gap-4">
                                <span id="staff-dashboard-filtered-earning-total-main"
                                    class="ml-2 bg-pink-100 text-pink-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                <span id="staff-dashboard-filtered-earning-total-tip"
                                    class="ml-2 bg-green-100 text-green-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                <div class="flex items-center gap-2">
                                    <label for="staff-details-date-filter" class="text-sm font-medium">Date:</label>
                                    <input type="date" id="staff-details-date-filter"
                                        class="p-2 border border-gray-300 rounded-lg">
                                </div>
                            </div>
                        </h3>
                        <div class="overflow-x-auto max-h-96">
                            <table id="staff-dashboard-earning-table" class="w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">Date</th>
                                        <th scope="col" class="px-6 py-3">Staff Name</th>
                                        <th scope="col" class="px-6 py-3">Service</th>
                                        <th scope="col" class="px-6 py-3">Earning</th>
                                        <th scope="col" class="px-6 py-3">Tip</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                                <tfoot class="bg-gray-100 sticky bottom-0 font-semibold">
                                    <tr>
                                        <td colspan="3" class="px-6 py-3 text-right">Total:</td>
                                        <td id="staff-dashboard-total-earning" class="px-6 py-3"></td>
                                        <td id="staff-dashboard-total-tip" class="px-6 py-3"></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div id="main-app-container" class="hidden">
                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl">

                    <div id="check-in-section" class="main-section">
                        <div id="main-tabs-container" class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center scrollable-tabs"
                                id="main-tabs">
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg active"
                                        id="check-in-tab" type="button">Check In</button></li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg"
                                        id="queue-tab" type="button">Active Queue <span id="active-count"
                                            class="ml-2 bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button>
                                </li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg"
                                        id="processing-tab" type="button">Processing <span id="processing-count"
                                            class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button>
                                </li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg"
                                        id="finished-tab" type="button">Finished Clients <span id="finished-count"
                                            class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button>
                                </li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg"
                                        id="waitlist-tab" type="button">Waitlist <span id="waitlist-count"
                                            class="ml-2 bg-yellow-100 text-yellow-800 text-xs font-semibold px-2.5 py-0.5 rounded-full hidden">0</span></button>
                                </li>
                            </ul>
                        </div>
                        <div id="check-in-content" class="tab-content">
                            <form id="check-in-form">
                                <div class="space-y-8">
                                    <div>
                                        <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Your
                                            Information</h3>
                                        <div class="grid grid-cols-2 md:grid-cols-5 gap-6">
                                            <div class="col-span-2 md:col-span-1">
                                                <label for="full-name"
                                                    class="block text-sm font-medium text-gray-600 mb-1">Full
                                                    Name</label>
                                                <input type="text" id="full-name" list="checkin-client-names"
                                                    class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                                    placeholder="e.g., Jane Doe" required>
                                                <datalist id="checkin-client-names"></datalist>
                                            </div>
                                            <div class="col-span-2 md:col-span-1">
                                                <label for="phone-number"
                                                    class="block text-sm font-medium text-gray-600 mb-1">Phone</label>
                                                <input type="tel" id="phone-number" list="checkin-client-phones"
                                                    class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                                    placeholder="(555) 123-4567">
                                                <datalist id="checkin-client-phones"></datalist>
                                            </div>
                                            <div>
                                                <label for="checkin-technician-select"
                                                    class="block text-sm font-medium text-gray-600 mb-1">Technician</label>
                                                <select id="checkin-technician-select"
                                                    class="form-select w-full p-3 border border-gray-300 rounded-lg">
                                                    <option>Any Technician</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label for="people-count"
                                                    class="block text-sm font-medium text-gray-600 mb-1">Group
                                                    Size</label>
                                                <select id="people-count"
                                                    class="form-select w-full p-3 border border-gray-300 rounded-lg"></select>
                                            </div>
                                            <div>
                                                <label for="booking-type"
                                                    class="block text-sm font-medium text-gray-600 mb-1">Booking
                                                    Type</label>
                                                <select id="booking-type"
                                                    class="form-select w-full p-3 border border-gray-300 rounded-lg">
                                                    <option>Walk-in</option>
                                                    <option value="Phone">Phone</option>
                                                    <option value="Online">Online</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="flex justify-between items-center border-b pb-3 mb-6">
                                            <h3 class="text-xl font-semibold text-gray-700">Select Your Services</h3>
                                        </div>
                                        <div id="services-container" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                        </div>
                                        <div id="hidden-checkbox-container" class="hidden"></div>
                                    </div>
                                </div>
                                <div class="mt-8 text-center">
                                    <label class="flex items-center justify-center">
                                        <input type="checkbox" id="policy-agree" class="form-checkbox" checked required>
                                        <span class="ml-2 text-sm text-gray-600">I agree to the <button type="button"
                                                class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon
                                                Policy</button>.</span>
                                    </label>
                                </div>
                                <div class="mt-4 text-center">
                                    <button type="submit"
                                        class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transition-all duration-300 transform hover:scale-105">
                                        <i class="fas fa-check mr-2"></i> Check In
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div id="queue-content" class="tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-active" class="w-64 p-2 border border-gray-300 rounded-lg"
                                    placeholder="Search active clients by name...">
                                <div id="tech-filter-container-active" class="tech-filter-container flex gap-2">
                                    <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                        data-tech="All">All</button>
                                    <button class="tech-filter-btn px-3 py-1 rounded-full text-sm"
                                        data-tech="Any Technician">Any Technician</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="clients-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-center">No.</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="processing-content" class="tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-processing"
                                    class="w-64 p-2 border border-gray-300 rounded-lg"
                                    placeholder="Search processing clients by name...">
                                <div id="tech-filter-container-processing" class="tech-filter-container flex gap-2">
                                    <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                        data-tech="All">All</button>
                                    <button class="tech-filter-btn px-3 py-1 rounded-full text-sm"
                                        data-tech="Any Technician">Any Technician</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="processing-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-center">No.</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3">Technician</th>
                                            <th scope="col" class="px-6 py-3">Check-in Time</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="finished-content" class="tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-finished"
                                    class="w-64 p-2 border border-gray-300 rounded-lg"
                                    placeholder="Search finished clients by name...">
                                <div class="flex items-center gap-4">
                                    <div id="tech-filter-container-finished" class="tech-filter-container flex gap-2">
                                        <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                            data-tech="All">All</button>
                                        <button class="tech-filter-btn px-3 py-1 rounded-full text-sm"
                                            data-tech="Any Technician">Any Technician</button>
                                    </div>
                                    <div>
                                        <label for="finished-date-filter"
                                            class="text-sm font-medium text-gray-700 mr-2">Date:</label>
                                        <input type="date" id="finished-date-filter"
                                            class="p-2 border border-gray-300 rounded-lg">
                                    </div>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="finished-clients-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-center">No.</th>
                                        <th scope="col" class="px-6 py-3">Name</th>
                                        <th scope="col" class="px-6 py-3">Group</th> <th scope="col" class="px-6 py-3">Services</th>
                                        <th scope="col" class="px-6 py-3">Check-in Time</th>
                                        <th scope="col" class="px-6 py-3 text-center">Rating</th> <th scope="col" class="px-6 py-3 text-center">Action</th>
                                    </tr>
                                </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="waitlist-content" class="tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Client Waitlist</h3>
                                <input type="date" id="waitlist-date-filter"
                                    class="p-2 border border-gray-300 rounded-lg">
                            </div>
                            <div class="overflow-x-auto">
                                <table id="waitlist-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date Requested</th>
                                            <th scope="col" class="px-6 py-3">Client Name</th>
                                            <th scope="col" class="px-6 py-3">Phone</th>
                                            <th scope="col" class="px-6 py-3">Requested Services</th>
                                            <th scope="col" class="px-6 py-3">Requested Tech</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="calendar-content" class="main-section hidden">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center gap-2">
                                <button id="today-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg">List all
                                    Booking <span id="today-count"
                                        class="ml-2 bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button>
                                <button id="month-view-btn"
                                    class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hidden">Month View</button>
                            </div>
                            <div id="tech-filter-container-calendar" class="tech-filter-container flex gap-2">
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                    data-tech="All">All</button>
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm"
                                    data-tech="Any Technician">Any Technician</button>
                            </div>
                            <div id="month-nav" class="flex items-center gap-2">
                                <button id="prev-month-btn" class="px-4 py-2 bg-pink-600 text-white rounded-lg"><i
                                        class="fas fa-chevron-left"></i></button>
                                <h3 id="month-year-display" class="text-xl font-bold w-48 text-center"></h3>
                                <button id="next-month-btn" class="px-4 py-2 bg-pink-600 text-white rounded-lg"><i
                                        class="fas fa-chevron-right"></i></button>
                                <span
                                    class="ml-4 bg-gray-200 text-gray-800 text-sm font-semibold px-3 py-1 rounded-full">Month
                                    Total: <span id="calendar-count">0</span></span>
                            </div>
                        </div>
                        <div id="list-view" class="hidden">
                            <div id="today-bookings-table-container" class="overflow-x-auto">
                                <table id="today-bookings-table" class="w-full text-sm text-left text-gray-600">
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="month-view">
                            <div class="grid grid-cols-7 text-center font-semibold mb-2">
                                <div>Sun</div>
                                <div>Mon</div>
                                <div>Tue</div>
                                <div>Wed</div>
                                <div>Thu</div>
                                <div>Fri</div>
                                <div>Sat</div>
                            </div>
                            <div id="calendar"></div>
                        </div>
                    </div>

                    <div id="nails-idea-content" class="main-section hidden">
                        <div class="mb-6 border-b pb-3">
                            <h3 class="text-xl font-semibold text-gray-700">Nail Art Gallery</h3>
                        </div>
                        <div class="flex flex-wrap gap-4 mb-8">
                            <input type="text" id="nail-idea-search" placeholder="Search by name or category..."
                                class="form-input p-2 border border-gray-300 rounded-lg flex-grow">
                            <div id="nail-idea-tag-filter-container" class="flex flex-wrap gap-2 items-center">
                                <span class="text-sm font-semibold text-gray-600 mr-2">Category:</span>
                            </div>
                            <select id="nail-idea-shape-filter"
                                class="form-select p-2 border border-gray-300 rounded-lg">
                                <option value="">All Shapes</option>
                            </select>
                        </div>
                        <div id="nails-idea-gallery" class="columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4">
                        </div>
                    </div>

                    <div id="color-chart-content" class="main-section hidden">
                        <div class="mb-6 border-b pb-3">
                            <h3 class="text-xl font-semibold text-gray-700">Interactive Color Chart</h3>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="md:col-span-1">
                                <h4 class="font-semibold mb-2">Brands</h4>
                                <div id="color-brands-tabs" class="flex flex-wrap gap-2 mb-4">
                                </div>

                                <div class="mb-4">
                                    <label for="color-group-filter" class="font-semibold">Color Group</label>
                                    <select id="color-group-filter"
                                        class="form-select w-full mt-1 p-2 border border-gray-300 rounded-lg">
                                    </select>
                                </div>
                                <div class="mb-4">
                                    <label for="color-search-input" class="font-semibold">Search Color</label>
                                    <input type="text" id="color-search-input"
                                        class="form-input w-full mt-1 p-2 border border-gray-300 rounded-lg"
                                        placeholder="Enter color name or number...">
                                </div>
                                <h4 class="font-semibold mb-2">Colors</h4>
                                <div id="color-swatches-container"
                                    class="grid grid-cols-5 gap-3 max-h-[50vh] overflow-y-auto pr-2">
                                </div>
                            </div>
                            <div class="md:col-span-2 flex items-center justify-center">
                                <div id="nail-shape-preview-container" class="w-full p-4 bg-gray-100 rounded-lg">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="reports-content" class="main-section hidden">
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center scrollable-tabs"
                                id="reports-sub-tabs">
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active"
                                        id="salon-earning-report-tab" type="button">Salon Earning</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="profit-dashboard-tab" type="button">Profit Dashboard</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="staff-earning-report-tab" type="button">Staff Earning</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="expense-report-tab" type="button">Expense Report</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="clients-list-report-tab" type="button">Clients List</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="royalty-card-report-tab" type="button">Royalty Cards</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="gift-card-report-tab" type="button">Gift Cards</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="memberships-report-tab" type="button">Memberships</button></li>

                            </ul>
                        </div>

                        <div id="salon-earning-report-content" class="sub-tab-content">
                            <div class="mb-6 border-b pb-3">
                                <h3 class="text-xl font-semibold text-gray-700">Salon Earning Report</h3>
                            </div>
                            <form id="salon-earning-form" class="space-y-6 mb-8">
                                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                    <div>
                                        <label for="salon-earning-date"
                                            class="block text-sm font-medium text-gray-600">Date</label>
                                        <input type="date" id="salon-earning-date"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            required>
                                    </div>
                                </div>
                                <div id="salon-earning-inputs" class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                    <div><label for="sell-gift-card"
                                            class="block text-sm font-medium text-gray-600">Sell Gift Card</label><input
                                            type="number" step="0.01" id="sell-gift-card"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Amount"></div>
                                    <div><label for="return-gift-card"
                                            class="block text-sm font-medium text-gray-600">Return Gift
                                            Card</label><input type="number" step="0.01" id="return-gift-card"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Amount"></div>
                                    <div><label for="check-payment"
                                            class="block text-sm font-medium text-gray-600">Check</label><input
                                            type="number" step="0.01" id="check-payment"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Amount"></div>
                                    <div><label for="no-of-credit" class="block text-sm font-medium text-gray-600">No.
                                            of Credit</label><input type="number" id="no-of-credit"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Count"></div>
                                    <div><label for="total-credit" class="block text-sm font-medium text-gray-600">Total
                                            Credit</label><input type="number" step="0.01" id="total-credit"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Amount"></div>
                                    <div><label for="venmo-payment"
                                            class="block text-sm font-medium text-gray-600">Venmo</label><input
                                            type="number" step="0.01" id="venmo-payment"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Amount"></div>
                                    <div><label for="square-payment"
                                            class="block text-sm font-medium text-gray-600">Square</label><input
                                            type="number" step="0.01" id="square-payment"
                                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg"
                                            placeholder="Amount"></div>
                                </div>
                                <div class="text-center pt-4">
                                    <button type="submit"
                                        class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">Add/Update
                                        Salon Earning</button>
                                </div>
                            </form>
                            <div class="flex justify-end items-center mb-4 gap-2">
                                <input type="file" id="import-salon-earnings-input" class="hidden" accept=".xlsx, .xls">
                                <button id="import-salon-earnings-btn"
                                    class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600"><i
                                        class="fas fa-file-import mr-2"></i>Import</button>
                                <button id="export-salon-earnings-btn"
                                    class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600"><i
                                        class="fas fa-file-excel mr-2"></i>Export</button>
                                <button id="print-salon-earnings-btn"
                                    class="bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-600"><i
                                        class="fas fa-print mr-2"></i>Print</button>
                                <select id="salon-earning-range-filter"
                                    class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                <input type="date" id="salon-earning-date-filter"
                                    class="p-2 border border-gray-300 rounded-lg hidden">
                            </div>
                            <div class="overflow-x-auto">
                                <table id="salon-earning-table" class="w-full text-sm text-left text-gray-600">
                                    <thead id="salon-earning-table-head"
                                        class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0"></thead>
                                    <tbody></tbody>
                                    <tfoot id="salon-earning-table-foot"
                                        class="bg-gray-100 sticky bottom-0 font-semibold"></tfoot>
                                </table>
                            </div>
                        </div>

                        <div id="staff-earning-report-content" class="sub-tab-content hidden">
                            <h3
                                class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6 flex justify-between items-center">
                                <span>Staff Earning Report</span>
                                <div class="flex gap-4">
                                    <span id="filtered-earning-total-main"
                                        class="ml-2 bg-pink-100 text-pink-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                    <span id="filtered-earning-total-tip"
                                        class="ml-2 bg-green-100 text-green-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                </div>
                            </h3>
                            <form id="staff-earning-form" class="grid grid-cols-1 md:grid-cols-6 gap-6 mb-8 items-end">
                                <div><label for="staff-earning-date"
                                        class="block text-sm font-medium text-gray-600 mb-1">Date</label><input
                                        type="date" id="staff-earning-date"
                                        class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                                <div><label for="staff-name" class="block text-sm font-medium text-gray-600 mb-1">Staff
                                        Name</label><select id="staff-name"
                                        class="form-select w-full p-3 border border-gray-300 rounded-lg"
                                        required></select></div>
                                <div>
                                    <label for="staff-earning-service"
                                        class="block text-sm font-medium text-gray-600 mb-1">Service</label>
                                    <input type="text" id="staff-earning-service" list="staff-earning-services-list"
                                        class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                        placeholder="Type or select service">
                                    <datalist id="staff-earning-services-list"></datalist>
                                </div>
                                <div><label for="staff-earning"
                                        class="block text-sm font-medium text-gray-600 mb-1">Earning</label><input
                                        type="number" step="0.01" id="staff-earning"
                                        class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                        placeholder="e.g., 100" required></div>
                                <div><label for="staff-tip"
                                        class="block text-sm font-medium text-gray-600 mb-1">Tip</label><input
                                        type="number" step="0.01" id="staff-tip"
                                        class="form-input w-full p-3 border border-gray-300 rounded-lg"
                                        placeholder="e.g., 20"></div>
                                <div><button type="submit"
                                        class="w-full bg-pink-600 text-white font-bold py-3 px-6 rounded-full hover:bg-pink-700">Add
                                        Earning</button></div>
                            </form>
                            <div class="flex justify-between items-center mb-4">
                                <div id="tech-filter-container-earning"
                                    class="tech-filter-container flex gap-2 flex-wrap"><button
                                        class="tech-filter-btn px-3 py-1 rounded-full text-sm active"
                                        data-tech="All">All</button></div>
                                <div class="flex items-center gap-2">
                                    <select id="earning-range-filter"
                                        class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                    <input type="date" id="earning-date-filter"
                                        class="p-2 border border-gray-300 rounded-lg">
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="staff-earning-table" class="w-full text-sm text-left text-gray-600">
                                   <thead>
                                    <tr>
                                        <th scope="col" class="px-6 py-3">NO.</th> 
                                        
                                        <th scope="col" class="px-6 py-3">Date</th>
                                        <th scope="col" class="px-6 py-3">Staff</th>
                                        <th scope="col" class="px-6 py-3">Service</th>
                                        <th scope="col" class="px-6 py-3">Earning</th>
                                        <th scope="col" class="px-6 py-3">Tip</th>
                                        <th scope="col" class="px-6 py-3 text-center">Actions</th>
                                    </tr>
                                </thead>
                                    <tbody></tbody>
                                    <tfoot class="bg-gray-100 sticky bottom-0 font-semibold">
                                        <tr>
                                            <td colspan="4" class="px-6 py-3 text-right">Total:</td>
                                            <td id="total-earning" class="px-6 py-3"></td>
                                            <td id="total-tip" class="px-6 py-3"></td>
                                            <td class="px-6 py-3"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>

                        <div id="expense-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Monthly Expense Report</h3>
                            <form id="add-expense-form"
                                class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-expense-id">
                                <div><label for="expense-date"
                                        class="block text-sm font-medium text-gray-600">Date</label><input type="date"
                                        id="expense-date" class="form-input w-full mt-1" required></div>
                                <div><label for="expense-name" class="block text-sm font-medium text-gray-600">Expense
                                        Name</label><input type="text" id="expense-name" class="form-input w-full mt-1"
                                        placeholder="e.g., Rent, Supplies" required></div>
                                <div><label for="expense-amount"
                                        class="block text-sm font-medium text-gray-600">Amount</label><input
                                        type="number" id="expense-amount" step="0.01" class="form-input w-full mt-1"
                                        placeholder="e.g., 1500.00" required></div>
                                <div><label for="expense-category"
                                        class="block text-sm font-medium text-gray-600">Category</label><select
                                        id="expense-category" class="form-select w-full mt-1">
                                        <option value="">Select Category</option>
                                    </select></div>
                                <div><label for="expense-supplier"
                                        class="block text-sm font-medium text-gray-600">Supplier</label><select
                                        id="expense-supplier" class="form-select w-full mt-1">
                                        <option value="">Select Supplier</option>
                                    </select></div>
                                <div><label for="expense-payment-account"
                                        class="block text-sm font-medium text-gray-600">Payment Account</label><select
                                        id="expense-payment-account" class="form-select w-full mt-1">
                                        <option value="">Select Account</option>
                                    </select></div>
                                <div class="md:col-span-2"><label for="expense-attachment"
                                        class="block text-sm font-medium text-gray-600">Attachment</label><input
                                        type="file" id="expense-attachment" class="form-input w-full mt-1 text-sm">
                                    <div id="current-attachment-info" class="text-xs text-gray-500 mt-1"></div>
                                </div>
                                <div class="self-end flex gap-2">
                                    <button type="submit" id="add-expense-btn"
                                        class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add
                                        Expense</button>
                                    <button type="button" id="cancel-edit-expense-btn"
                                        class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>

                            <div class="flex justify-end items-center mb-4 gap-4">
                                <div>
                                    <label for="expense-category-filter"
                                        class="text-sm font-medium text-gray-700 mr-2">Category:</label>
                                    <select id="expense-category-filter"
                                        class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                </div>
                                <div>
                                    <label for="expense-supplier-filter"
                                        class="text-sm font-medium text-gray-700 mr-2">Supplier:</label>
                                    <select id="expense-supplier-filter"
                                        class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                </div>
                                <div>
                                    <label for="expense-month-filter"
                                        class="text-sm font-medium text-gray-700 mr-2">Month:</label>
                                    <select id="expense-month-filter"
                                        class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                </div>
                                <button id="print-expenses-btn"
                                    class="bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-600 transition-colors self-end">
                                    <i class="fas fa-print mr-2"></i>Print
                                </button>
                                <button id="export-expenses-btn"
                                    class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors self-end">
                                    <i class="fas fa-file-excel mr-2"></i>Export
                                </button>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="expense-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Expense Name</th>
                                            <th scope="col" class="px-6 py-3">Category</th>
                                            <th scope="col" class="px-6 py-3">Supplier</th>
                                            <th scope="col" class="px-6 py-3">Paid Via</th>
                                            <th scope="col" class="px-6 py-3">Attachment</th>
                                            <th scope="col" class="px-6 py-3 text-right">Amount</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot class="bg-gray-100 font-semibold">
                                        <tr>
                                            <td colspan="6" class="px-6 py-3 text-right">Total:</td>
                                            <td id="total-expense" class="px-6 py-3 text-right"></td>
                                            <td class="px-6 py-3"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>

                        <div id="clients-list-report-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-clients-list"
                                    class="w-1/2 p-2 border border-gray-300 rounded-lg"
                                    placeholder="Search by client name...">
                                <div class="flex gap-2">
                                    <button id="create-new-client-btn"
                                        class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700 transition-colors"><i
                                            class="fas fa-plus mr-2"></i>Create New</button>
                                    <input type="file" id="import-clients-input" class="hidden" accept=".xlsx, .xls">
                                    <button id="import-clients-btn"
                                        class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors"><i
                                            class="fas fa-file-import mr-2"></i>Import</button>
                                    <button id="export-clients-btn"
                                        class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors"><i
                                            class="fas fa-file-export mr-2"></i>Export</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="clients-list-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Phone</th>
                                            <th scope="col" class="px-6 py-3">Email</th>
                                            <th scope="col" class="px-6 py-3">Last Visit</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="gift-card-report-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Gift Card Sales</h3>
                                <input type="text" id="search-gift-cards"
                                    class="form-input w-64 p-2 border border-gray-300 rounded-lg"
                                    placeholder="Search by code or name...">
                            </div>
                            <div class="overflow-x-auto">
                                <table id="gift-cards-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Code</th>
                                            <th scope="col" class="px-6 py-3">Initial</th>
                                            <th scope="col" class="px-6 py-3">Balance</th>
                                            <th scope="col" class="px-6 py-3">Buyer / Recipient</th>
                                            <th scope="col" class="px-6 py-3">Sender</th>
                                            <th scope="col" class="px-6 py-3">Status</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="memberships-report-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Client Memberships</h3>
                                <input type="text" id="search-memberships"
                                    class="form-input w-64 p-2 border border-gray-300 rounded-lg"
                                    placeholder="Search by name or tier...">
                            </div>
                            <div class="overflow-x-auto">
                                <table id="client-memberships-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3">Client Name</th>
                                            <th class="px-6 py-3">Membership Tier</th>
                                            <th class="px-6 py-3">Start Date</th>
                                            <th class="px-6 py-3">Status</th>
                                            <th class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="royalty-card-report-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Royalty Cards</h3>
                                <div class="flex items-center gap-2">
                                    <input type="text" id="search-royalty-cards"
                                        class="form-input w-64 p-2 border border-gray-300 rounded-lg"
                                        placeholder="Search by name or phone...">
                                    <button id="add-royalty-card-btn"
                                        class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700 whitespace-nowrap"><i
                                            class="fas fa-plus mr-2"></i>Add for Client</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="royalty-cards-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3">Client Name</th>
                                            <th class="px-6 py-3">Phone</th>
                                            <th class="px-6 py-3 text-center">Visits</th>
                                            <th class="px-6 py-3 text-center">Status</th>
                                            <th class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="profit-dashboard-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-6 border-b pb-3">
                                <h3 class="text-xl font-semibold text-gray-700">Expense & Revenue Dashboard</h3>
                                <div class="flex items-center gap-2">
                                    <label class="text-sm font-medium text-gray-700">Date Range:</label>
                                    <select id="profit-dashboard-range-filter"
                                        class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                    <input type="date" id="profit-dashboard-date-filter"
                                        class="p-2 border border-gray-300 rounded-lg hidden">
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                <div class="dashboard-card bg-blue-100">
                                    <h4 class="font-bold text-blue-800">Total Revenue</h4>
                                    <p id="profit-total-revenue" class="text-3xl font-bold text-blue-600">$0.00</p>
                                </div>
                                <div class="dashboard-card bg-red-100">
                                    <h4 class="font-bold text-red-800">Total Expenses</h4>
                                    <p id="profit-total-expenses" class="text-3xl font-bold text-red-600">$0.00</p>
                                </div>
                                <div class="dashboard-card bg-green-100">
                                    <h4 class="font-bold text-green-800">Net Profit</h4>
                                    <p id="profit-net-profit" class="text-3xl font-bold text-green-600">$0.00</p>
                                </div>
                                <div class="dashboard-card bg-purple-100">
                                    <h4 class="font-bold text-purple-800">Profit Margin</h4>
                                    <p id="profit-margin" class="text-3xl font-bold text-purple-600">0%</p>
                                </div>
                            </div>

                            <div class="bg-white p-6 rounded-2xl shadow-lg h-96 mb-8">
                                <h3 class="text-xl font-bold text-gray-700 mb-4">Revenue vs. Expenses</h3>
                                <canvas id="profit-chart"></canvas>
                            </div>
                        </div>


                    </div>

                    <div id="admin-content" class="main-section hidden">
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center scrollable-tabs"
                                id="admin-sub-tabs">
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active"
                                        id="ecommerce-management-tab" type="button">E-commerce</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active"
                                        id="user-management-tab" type="button">User Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="inventory-management-tab" type="button">Inventory Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="inventory-report-tab" type="button">Inventory Report</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="service-management-tab" type="button">Service Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="color-chart-management-tab" type="button">Color Chart</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="nail-ideas-management-tab" type="button">Nail Ideas Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="royalty-management-tab" type="button">Royalty Program</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="gift-card-management-tab" type="button">Gift Card Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="promotions-management-tab" type="button">Promotions</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="membership-management-tab" type="button">Memberships</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="settings-management-tab" type="button">Settings</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg"
                                        id="backup-management-tab" type="button">Backup & Restore</button></li>
                            </ul>
                        </div>

                        <div id="user-management-content" class="sub-tab-content">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Users</h3>
                            <form id="add-user-form"
                                class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-user-id">
                                <div><label for="new-user-name"
                                        class="block text-sm font-medium text-gray-600">Name</label><input type="text"
                                        id="new-user-name" class="form-input w-full mt-1" required></div>
                                <div><label for="new-user-phone"
                                        class="block text-sm font-medium text-gray-600">Phone</label><input type="tel"
                                        id="new-user-phone" class="form-input w-full mt-1"></div>
                                <div><label for="new-user-email"
                                        class="block text-sm font-medium text-gray-600">Email</label><input type="email"
                                        id="new-user-email" class="form-input w-full mt-1" required></div>
                                <div><label for="new-user-password"
                                        class="block text-sm font-medium text-gray-600">Password</label><input
                                        type="password" id="new-user-password" class="form-input w-full mt-1"
                                        placeholder="Min. 6 characters"></div>
                                <div><label for="user-role"
                                        class="block text-sm font-medium text-gray-600">Role</label><select
                                        id="user-role" class="form-select w-full mt-1">
                                        <option value="technician">Technician</option>
                                        <option value="staff">Staff</option>
                                        <option value="admin">Admin</option>
                                    </select></div>
                                <div>
                                    <label for="payout-type" class="block text-sm font-medium text-gray-600">Payout
                                        Type</label>
                                    <select id="payout-type" class="form-select w-full mt-1">
                                        <option value="standard">Standard (Commission Only)</option>
                                        <option value="commission_plus_tips">Commission + Tips</option>
                                    </select>
                                    <p class="text-xs text-gray-500 mt-1">Determines how staff payout is calculated.</p>
                                </div>
                                <div class="self-end"><button type="submit"
                                        class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add/Update
                                        User</button></div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="users-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Email</th>
                                            <th scope="col" class="px-6 py-3">Phone</th>
                                            <th scope="col" class="px-6 py-3">Role</th>
                                            <th scope="col" class="px-6 py-3">Payout Type</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th> 
                                            <th scope="col" class="px-6 py-3 text-center">Schedule</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="ecommerce-management-content" class="sub-tab-content">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                <div class="lg:col-span-1">
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Add/Edit Product</h3>
                                    <form id="ecomm-add-product-form"
                                        class="p-4 border rounded-lg bg-gray-50 space-y-4">
                                        <input type="hidden" id="ecomm-edit-product-id">
                                        <div>
                                            <label for="ecomm-product-name"
                                                class="block text-sm font-medium text-gray-600">Product Name</label>
                                            <input type="text" id="ecomm-product-name" class="form-input w-full mt-1"
                                                required>
                                        </div>
                                        <div>
                                            <label for="ecomm-product-desc"
                                                class="block text-sm font-medium text-gray-600">Description</label>
                                            <textarea id="ecomm-product-desc" rows="3"
                                                class="form-input w-full mt-1"></textarea>
                                        </div>
                                        <div>
                                            <label for="ecomm-product-price"
                                                class="block text-sm font-medium text-gray-600">Price ($)</label>
                                            <input type="number" id="ecomm-product-price" step="0.01"
                                                class="form-input w-full mt-1" required>
                                        </div>
                                        <div>
                                            <label for="ecomm-product-stock"
                                                class="block text-sm font-medium text-gray-600">Stock Quantity</label>
                                            <input type="number" id="ecomm-product-stock" class="form-input w-full mt-1"
                                                required>
                                        </div>
                                        <div>
                                            <label for="ecomm-product-image-urls"
                                                class="block text-sm font-medium text-gray-600">Product Image
                                                URLs</label>
                                            <textarea id="ecomm-product-image-urls" rows="4"
                                                class="form-input w-full mt-1"
                                                placeholder="Enter one image URL per line..."></textarea>
                                        </div>
                                        <div class="flex gap-2">
                                            <button type="submit" id="ecomm-add-product-btn"
                                                class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add
                                                Product</button>
                                            <button type="button" id="ecomm-cancel-edit-btn"
                                                class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hidden">Cancel</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="lg:col-span-2">
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Product List</h3>
                                    <div class="overflow-x-auto max-h-[50vh]">
                                        <table id="products-admin-table" class="w-full text-sm text-left">
                                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0">
                                                <tr>
                                                    <th class="px-4 py-2">Image</th>
                                                    <th class="px-4 py-2">Name</th>
                                                    <th class="px-4 py-2">Price</th>
                                                    <th class="px-4 py-2">Stock</th>
                                                    <th class="px-4 py-2 text-center">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8">
                                <h3 class="text-xl font-semibold text-gray-700 mb-4">Customer Orders</h3>
                                <div class="overflow-x-auto">
                                    <table id="orders-admin-table" class="w-full text-sm text-left">
                                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                            <tr>
                                                <th class="px-4 py-2">Order Date</th>
                                                <th class="px-4 py-2">Customer</th>
                                                <th class="px-4 py-2">Items</th>
                                                <th class="px-4 py-2">Total</th>
                                                <th class="px-4 py-2">Status</th>
                                                <th class="px-4 py-2 text-center">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id="inventory-management-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Manage Inventory</h3>
                                <button id="log-usage-btn"
                                    class="bg-purple-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-600"><i
                                        class="fas fa-dolly-flatbed mr-2"></i>Log Product Usage</button>
                            </div>
                            <form id="add-product-form"
                                class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-product-id">
                                <div><label for="product-name" class="block text-sm font-medium text-gray-600">Product
                                        Name</label><input type="text" id="product-name" class="form-input w-full mt-1"
                                        required></div>
                                <div><label for="product-category"
                                        class="block text-sm font-medium text-gray-600">Category</label><input
                                        type="text" id="product-category" class="form-input w-full mt-1"></div>
                                <div><label for="product-supplier"
                                        class="block text-sm font-medium text-gray-600">Supplier</label><select
                                        id="product-supplier" class="form-select w-full mt-1">
                                        <option value="">Select Supplier</option>
                                    </select></div>
                                <div><label for="product-quantity"
                                        class="block text-sm font-medium text-gray-600">Quantity</label><input
                                        type="number" id="product-quantity" class="form-input w-full mt-1" required>
                                </div>
                                <div><label for="product-price" class="block text-sm font-medium text-gray-600">Price
                                        Per Unit</label><input type="number" step="0.01" id="product-price"
                                        class="form-input w-full mt-1" required></div>
                                <div><label for="low-stock-alert" class="block text-sm font-medium text-gray-600">Low
                                        Stock Alert</label><input type="number" id="low-stock-alert"
                                        class="form-input w-full mt-1" value="10" required></div>
                                <div class="self-end flex gap-2 col-span-2">
                                    <button type="submit" id="add-product-btn"
                                        class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add
                                        Product</button>
                                    <button type="button" id="cancel-edit-product-btn"
                                        class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="inventory-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Product Name</th>
                                            <th scope="col" class="px-6 py-3">Category</th>
                                            <th scope="col" class="px-6 py-3">Supplier</th>
                                            <th scope="col" class="px-6 py-3 text-center">Quantity</th>
                                            <th scope="col" class="px-6 py-3 text-right">Price/Unit</th>
                                            <th scope="col" class="px-6 py-3 text-right">Total Price</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="inventory-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Inventory Reorder Suggestions</h3>
                            <p class="text-sm text-gray-600 mb-6">This report shows items that are below their low stock
                                threshold and suggests reorder quantities based on usage in the last 30 days.</p>
                            <div class="overflow-x-auto">
                                <table id="inventory-report-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Product Name</th>
                                            <th scope="col" class="px-6 py-3 text-center">Current Qty</th>
                                            <th scope="col" class="px-6 py-3 text-center">Low Stock At</th>
                                            <th scope="col" class="px-6 py-3 text-center">Usage (Last 30d)</th>
                                            <th scope="col" class="px-6 py-3 text-center font-bold">Suggested Reorder
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="nail-ideas-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Nail Ideas</h3>
                            <form id="add-nail-idea-form"
                                class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-6 p-6 border rounded-lg bg-gray-50">
                                <input type="hidden" id="edit-nail-idea-id">
                                <div class="lg:col-span-2 space-y-6">
                                    <div>
                                        <label for="nail-idea-name"
                                            class="block text-sm font-medium text-gray-700">Title</label>
                                        <input type="text" id="nail-idea-name"
                                            class="form-input w-full mt-1 p-3 border border-gray-300 rounded-lg text-lg font-semibold"
                                            required placeholder="e.g., Cherry Blossom Dreams">
                                    </div>
                                    <div>
                                        <label for="nail-idea-description"
                                            class="block text-sm font-medium text-gray-700">Description</label>
                                        <textarea id="nail-idea-description" rows="10"
                                            class="form-input w-full mt-1 p-3 border border-gray-300 rounded-lg"
                                            placeholder="Write a short description..."></textarea>
                                    </div>
                                </div>
                                <div class="space-y-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Image Source</label>
                                        <div class="flex items-center space-x-4 mt-2">
                                            <label class="flex items-center"><input type="radio" name="imageSource"
                                                    value="upload" class="form-radio" checked><span class="ml-2">Upload
                                                    File</span></label>
                                            <label class="flex items-center"><input type="radio" name="imageSource"
                                                    value="url" class="form-radio"><span class="ml-2">From
                                                    URL</span></label>
                                        </div>
                                    </div>
                                    <div id="nail-idea-file-upload-container">
                                        <label for="nail-idea-image"
                                            class="block text-sm font-medium text-gray-700">Image File</label>
                                        <input type="file" id="nail-idea-image" class="form-input w-full mt-1 text-sm"
                                            accept="image/*">
                                    </div>
                                    <div id="nail-idea-url-container" class="hidden">
                                        <label for="nail-idea-image-url"
                                            class="block text-sm font-medium text-gray-700">Image URLs</label>
                                        <textarea id="nail-idea-image-url" rows="4"
                                            class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="Enter one image URL per line..."></textarea>
                                    </div>
                                    <div>
                                        <label for="nail-idea-shape"
                                            class="block text-sm font-medium text-gray-700">Nail Shape</label>
                                        <input type="text" id="nail-idea-shape" list="nail-shapes-list"
                                            class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="e.g., Almond, Square">
                                        <datalist id="nail-shapes-list"></datalist>
                                    </div>
                                    <div>
                                        <label for="nail-idea-color"
                                            class="block text-sm font-medium text-gray-700">Color Code</label>
                                        <input type="text" id="nail-idea-color"
                                            class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="e.g., #FFC0CB, Red">
                                    </div>
                                    <div>
                                        <label for="nail-idea-categories"
                                            class="block text-sm font-medium text-gray-700">Categories</label>
                                        <input type="text" id="nail-idea-categories"
                                            class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                                            placeholder="e.g., minimalist, glitter">
                                    </div>
                                    <div class="flex gap-2 pt-4 border-t">
                                        <button type="submit" id="add-nail-idea-btn"
                                            class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add
                                            Idea</button>
                                        <button type="button" id="cancel-edit-nail-idea-btn"
                                            class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                    </div>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="nail-ideas-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Image</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Shape</th>
                                            <th scope="col" class="px-6 py-3">Categories</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="color-chart-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Color Brands</h3>
                            <form id="add-color-brand-form" class="p-4 border rounded-lg bg-gray-50 mb-6">
                                <label for="new-color-brand-name" class="block text-sm font-medium text-gray-600">New
                                    Brand Name</label>
                                <div class="flex gap-2 mt-1">
                                    <input type="text" id="new-color-brand-name" class="form-input w-full"
                                        placeholder="e.g., OPI" required>
                                    <button type="submit"
                                        class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add
                                        Brand</button>
                                </div>
                            </form>
                            <div id="color-brands-admin-list" class="space-y-2">
                            </div>
                        </div>
                        <div id="gift-card-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Gift Card Management</h3>

                            <div class="space-y-8 mt-6">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-700 mb-2">Printable Gift Card Designer
                                    </h4>
                                    <div
                                        class="bg-gray-50 p-6 rounded-2xl border grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                                        <div id="designer-controls" class="space-y-4">
                                            <form id="physical-gift-card-form" class="space-y-4">
                                                <div class="flex items-center gap-4">
                                                    <input type="checkbox" id="designer-show-to" class="form-checkbox"
                                                        checked> <label for="designer-show-to">Show 'To' Field</label>
                                                    <input type="checkbox" id="designer-show-from" class="form-checkbox"
                                                        checked> <label for="designer-show-from">Show 'From'
                                                        Field</label>
                                                </div>
                                                <div id="designer-to-wrapper"><label for="designer-to"
                                                        class="block text-sm font-medium text-gray-600">To</label><input
                                                        type="text" id="designer-to"
                                                        class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg">
                                                </div>
                                                <div id="designer-from-wrapper"><label for="designer-from"
                                                        class="block text-sm font-medium text-gray-600">From</label><input
                                                        type="text" id="designer-from"
                                                        class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg">
                                                </div>
                                                <div><label for="designer-amount"
                                                        class="block text-sm font-medium text-gray-600">Amount
                                                        ($)</label><input type="number" id="designer-amount"
                                                        class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg"
                                                        required></div>
                                                <div>
                                                    <label for="designer-code" class="block text-sm font-medium text-gray-600">Gift Card Code (Optional)</label>
                                                    <input type="text" id="designer-code" class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg" placeholder="Leave blank for GC-">
                                                    <p class="text-xs text-gray-500 mt-1">Enter a specific code, or leave blank to write manually after printing.</p>
                                                </div>
                                                <div class="border-t pt-4">
                                                    <div class="flex items-center gap-6">
                                                        <label for="designer-set-expiry"
                                                            class="flex items-center gap-2"><input type="checkbox"
                                                                id="designer-set-expiry" class="form-checkbox"> Set
                                                            Expiration Date</label>
                                                        <label for="designer-no-expiry"
                                                            class="flex items-center gap-2"><input type="checkbox"
                                                                id="designer-no-expiry" class="form-checkbox"> No
                                                            Expiration (Handwritten)</label>
                                                    </div>
                                                    <div id="designer-expiry-inputs"
                                                        class="flex items-center gap-2 mt-2 hidden">
                                                        <input type="number" id="designer-expiry-value"
                                                            class="form-input w-24 p-2 border-gray-300 rounded-lg"
                                                            min="1" value="12">
                                                        <select id="designer-expiry-unit"
                                                            class="form-select p-2 border-gray-300 rounded-lg">
                                                            <option value="months">Months</option>
                                                            <option value="years">Years</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="border-t pt-4">
                                                    <label for="designer-quantity"
                                                        class="block text-sm font-medium text-gray-600">Quantity to
                                                        Generate</label>
                                                    <input type="number" id="designer-quantity"
                                                        class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg"
                                                        min="1" value="1">
                                                </div>
                                            </form>
                                            <div>
                                                <h3 class="font-semibold text-gray-700 border-b pb-2 mt-6">Background
                                                    Style</h3>
                                                <div id="designer-background-tabs"
                                                    class="flex flex-wrap gap-2 mt-2 border-b"></div>
                                                <div id="designer-background-options"
                                                    class="grid grid-cols-3 gap-2 mt-2"></div>
                                            </div>
                                            <div class="mt-6 text-center">
                                                <button id="save-and-print-btn"
                                                    class="w-full bg-green-500 text-white font-bold py-3 px-12 rounded-full hover:bg-green-600"><i
                                                        class="fas fa-print mr-2"></i>Save & Print</button>
                                            <button type="button" id="download-gc-images-btn"
    class="w-full mt-3 bg-indigo-500 text-white font-semibold py-2 px-4 rounded-xl hover:bg-indigo-600 transition duration-150 shadow-md">
    <i class="fas fa-download mr-2"></i> Download for Print (Front/Back)
</button>
                                            
                                             </div>
                                            
                                        </div>
                                        <div class="flex items-center justify-center">
                                            <div id="printable-gift-card-area">
                                                <div id="printable-gift-card"
                                                    class="w-[400px] h-[228px] shadow-lg rounded-lg p-4 flex flex-col justify-between bg-cover bg-center text-white transition-all duration-300 printable-gift-card"
                                                    style="background-image: url('https://images.unsplash.com/photo-1596048135132-911961bd4350?q=80&w=1887&auto=format&fit=crop');">
                                                    <div class="flex justify-between items-start"
                                                        style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
            <div id="preview-logo"
                class="w-10 h-10 flex items-center justify-center text-xl font-bold rounded-full border-2 border-white bg-pink-600 text-[#ffffff">
                NE
            </div>
                                                        <div class="text-right">
                                                            <p class="font-parisienne text-3xl">Gift Card</p>
                                                            <p class="text-xs font-semibold tracking-wider">Nails
                                                                Express</p>
                                                        </div>
                                                    </div>
                                                    <div class="text-center"
                                                        style="text-shadow: 1px 1px 3px rgba(0,0,0,0.7);">
                                                        <p id="preview-amount" class="text-5xl font-bold">$0.00</p>
                                                    </div>
                                                    <div class="text-xs"
                                                        style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
                                                        <div id="preview-to-from-wrapper"
                                                            class="flex justify-between font-semibold">
                                                            <span>FOR: <span id="preview-to"
                                                                    class="font-normal"></span></span>
                                                            <span>FROM: <span id="preview-from"
                                                                    class="font-normal"></span></span>
                                                        </div>
                                                        <p class="mt-2 text-center font-mono tracking-widest text-sm"
                                                            id="preview-code">CODE-HERE</p>
                                                        <p class="mt-1 text-center text-[10px] opacity-80"
                                                            id="preview-expiry">Expires: --/--/----</p>
                                                    </div>
                                                </div>
<!-- Gift Card Back Card Preview for Download -->
<div id="gc-card-preview-back"
    class="mt-8 w-[400px] h-[228px] p-4 relative overflow-hidden shadow-xl rounded-xl transition-all duration-300 border border-gray-300"
    style="background-color: #ffffff; color: #333; font-family: 'Poppins', sans-serif;">
    <div class="h-full flex flex-col justify-between p-2 text-xs">
        
        <!-- Header/Logo Area -->
       <div class="w-full h-10 bg-black mt-2"></div>

        <!-- Terms and Conditions -->
        <div class="mb-2 text-center mt-2 flex-grow flex items-center justify-center">
            <p class="text-xs text-center text-gray-600 px-4 leading-relaxed">
                    This card is redeemable for services at Nails Express. Treat this card like cash; it is not replaceable if lost or stolen. This card is non-refundable and cannot be exchanged for cash.
                </p>
        </div>

        <!-- Contact Information -->
        <div class="text-center pt-2 border-t mt-auto">
            <p class="font-semibold text-pink-700 mb-0.5">Nails Express</p>
            <p class="text-[11px] leading-tight">
                1560 Hustonville Rd #345, Danville, KY 40422
            </p>
            <p class="text-[11px] font-mono mt-0.5">
                (859) 236-2873
            </p>
        </div>
    </div>
</div>
<!-- End Gift Card Back Card Preview -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-8">
                                    <h4 class="text-lg font-semibold text-gray-700 mb-2">Existing Gift Cards</h4>
                                    <div class="overflow-x-auto">
                                        <table id="gift-cards-table-admin"
                                            class="w-full text-sm text-left text-gray-600">
                                            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                                <tr>
                                                    <th scope="col" class="px-6 py-3">Date</th>
                                                    <th scope="col" class="px-6 py-3">Code</th>
                                                    <th scope="col" class="px-6 py-3">Initial</th>
                                                    <th scope="col" class="px-6 py-3">Balance</th>
                                                    <th scope="col" class="px-6 py-3">Buyer / Recipient</th>
                                                    <th scope="col" class="px-6 py-3">Sender</th>
                                                    <th scope="col" class="px-6 py-3">Status</th>
                                                    <th scope="col" class="px-6 py-3 text-center">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="membership-management-content" class="sub-tab-content hidden">
                            <div class="mt-12 pt-8 border-t">
    <h3 class="text-xl font-semibold text-gray-700 mb-4">Printable Membership Card Designer</h3>
    <div class="bg-gray-50 p-6 rounded-2xl border grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <div id="membership-designer-controls" class="space-y-4">
            <form id="membership-card-designer-form" class="space-y-4">
                <input type="hidden" id="designer-client-id"> <div>
                    <label for="designer-ms-client-name" class="block text-sm font-medium text-gray-600">Client Name</label>
                    <input type="text" id="designer-ms-client-name" class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg" required placeholder="Enter client's full name">
                </div>
                <div>
                    <label for="designer-ms-tier-select" class="block text-sm font-medium text-gray-600">Membership Tier</label>
                    <select id="designer-ms-tier-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                        </select>
                </div>
                <div>
    <label class="block text-sm font-medium text-gray-600 mb-2">Membership Start Date</label>
    <div class="flex items-center space-x-4">
        <input type="date" id="designer-ms-start-date" class="form-input w-full p-2 border-gray-300 rounded-lg" required>
        <div class="flex items-center">
            <input type="checkbox" id="designer-ms-no-start-date" class="form-checkbox text-pink-600 h-4 w-4 rounded border-gray-300">
            <label for="designer-ms-no-start-date" class="ml-2 text-sm text-gray-700 whitespace-nowrap">Write Later</label>
        </div>
    </div>
    <p class="text-xs text-gray-500 mt-1" id="start-date-help-text">Select a date or choose 'Write Later'.</p>
</div>
                <div>
                    <label for="designer-ms-id" class="block text-sm font-medium text-gray-600">Membership ID (Optional)</label>
                    <input type="text" id="designer-ms-id" class="form-input w-full p-2 mt-1 border-gray-300 rounded-lg" placeholder="Leave blank for MEMBER-ID">
                    <p class="text-xs text-gray-500 mt-1">Enter a specific ID, or leave blank to write manually after printing.</p>
                </div>
                 <div class="border-t pt-4">
                    <label for="designer-ms-quantity" class="block text-sm font-medium text-gray-600">Quantity to Generate</label>
                    <input type="number" id="designer-ms-quantity" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" min="1" value="1">
                 </div>
            </form>
             <div class="mt-6 space-y-2">
                 <button id="generate-print-ms-cards-btn" class="w-full bg-green-500 text-white font-bold py-3 px-12 rounded-full hover:bg-green-600">
                     <i class="fas fa-print mr-2"></i>Generate & Print Cards
                 </button>
                 <button id="download-ms-card-images-btn" class="w-full bg-blue-500 text-white font-bold py-3 px-12 rounded-full hover:bg-blue-600">
                     <i class="fas fa-download mr-2"></i>Download Images (Front/Back)
                 </button>
             </div>
        </div>

        <div class="flex flex-col items-center space-y-4">
            <div id="printable-membership-card-area-front" class="transform scale-90 origin-top">
                 <p class="text-center text-sm font-semibold mb-1 text-gray-600">Front Preview</p>
                 <div id="ms-card-preview-front" class="card rounded-lg p-4 flex flex-col justify-between bg-gradient-to-br from-gray-700 via-gray-900 to-black text-white" style="width:400px; height:228px; text-shadow: 1px 1px 3px rgba(0,0,0,0.4);">
                     </div>
            </div>
             <div id="printable-membership-card-area-back" class="transform scale-90 origin-top">
                 <p class="text-center text-sm font-semibold mb-1 text-gray-600">Back Preview (Default)</p>
                 <div id="ms-card-preview-back" class="card rounded-lg p-4 flex flex-col justify-between bg-white text-gray-800 border" style="width:400px; height:228px; text-shadow: none;">
                    <div class="w-full h-10 bg-black mt-2"></div>
                    <p class="text-xs text-center text-gray-600 px-4 leading-relaxed">
                        Welcome, VIP! This card must be presented to receive benefits. Membership is non-transferable and benefits apply only to the registered member.
                    </p>
                    <div class="px-4 pb-2 text-center">
                        <p id="ms-back-signature-name" class="font-parisienne text-2xl text-gray-700">    </p>
                        <div class="mt-10 w-full border-t border-dashed border-gray-400 pt-1 mt-1"></div>
                        <p class="text-xs text-gray-500">Member Signature</p>
                    </div>
                    <div class="text-center text-xs pb-2">
                        <p class="font-bold">Nails Express</p>
                        <p>1560 Hustonville Rd #345, Danville, KY 40422</p>
                    </div>
                 </div>
            </div>
        </div>
    </div>
</div>
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Manage Membership Tiers</h3>
                                <button id="add-new-membership-tier-btn"
                                    class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">
                                    <i class="fas fa-plus mr-2"></i>Add New Tier
                                </button>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="memberships-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3">Tier Name</th>
                                            <th class="px-6 py-3">Price</th>
                                            <th class="px-6 py-3">Discount</th>
                                            <th class="px-6 py-3">Benefits</th>
                                            <th class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="promotions-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Promotions</h3>
                            <div class="flex justify-end mb-4">
                                <button id="open-email-marketing-btn"
                                    class="bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700">
                                    <i class="fas fa-envelope mr-2"></i>Create Email Campaign
                                </button>
                            </div>
                            <form id="add-promotion-form"
                                class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-promotion-id">
                                <div class="md:col-span-2"><label for="promotion-title"
                                        class="block text-sm font-medium text-gray-600">Title</label><input type="text"
                                        id="promotion-title" class="form-input w-full mt-1" required></div>
                                <div class="md:col-span-2"><label for="promotion-description"
                                        class="block text-sm font-medium text-gray-600">Description</label><textarea
                                        id="promotion-description" rows="2" class="form-input w-full mt-1"
                                        required></textarea></div>
                                <div><label for="promotion-start-date"
                                        class="block text-sm font-medium text-gray-600">Start Date</label><input
                                        type="date" id="promotion-start-date" class="form-input w-full mt-1" required>
                                </div>
                                <div><label for="promotion-end-date" class="block text-sm font-medium text-gray-600">End
                                        Date</label><input type="date" id="promotion-end-date"
                                        class="form-input w-full mt-1" required>
                                </div>
                                <div class="md:col-span-2 self-end flex gap-2">
                                    <button type="submit" id="add-promotion-btn"
                                        class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add
                                        Promotion</button>
                                    <button type="button" id="cancel-edit-promotion-btn"
                                        class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="promotions-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Title</th>
                                            <th scope="col" class="px-6 py-3">Description</th>
                                            <th scope="col" class="px-6 py-3">Duration</th>
                                            <th scope="col" class="px-6 py-3">Status</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="royalty-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Royalty Program Settings</h3>
                            <form id="royalty-settings-form"
                                class="p-4 border rounded-lg bg-gray-50 space-y-4 max-w-lg">
                                <div>
                                    <label for="royalty-visits-needed"
                                        class="block text-sm font-medium text-gray-600">Visits Required for
                                        Reward</label>
                                    <input type="number" id="royalty-visits-needed" class="form-input w-full mt-1"
                                        min="1" value="10">
                                </div>
                                <div>
                                    <label for="royalty-reward-description"
                                        class="block text-sm font-medium text-gray-600">Reward Description</label>
                                    <input type="text" id="royalty-reward-description" class="form-input w-full mt-1"
                                        placeholder="e.g., One Free Classic Manicure">
                                </div>
                                <div class="text-right">
                                    <button type="submit"
                                        class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                        Settings</button>
                                </div>
                            </form>
                            <div class="mt-8">
                                <h3 class="text-xl font-semibold text-gray-700 mb-4">Printable Royalty Card Designer
                                </h3>
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl border grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                                    <div class="space-y-4">
                                        <form id="royalty-card-designer-form" class="space-y-4">
                                            <div>
                                                <label for="designer-royalty-quantity"
                                                    class="block text-sm font-medium text-gray-600">Quantity to Generate
                                                    & Print</label>
                                                <input type="number" id="designer-royalty-quantity"
                                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                                                    min="1" value="4">
                                            </div>
                                        </form>
                                        <div class="mt-6 text-center">
                                            <button id="print-royalty-cards-btn"
                                                class="w-full bg-green-500 text-white font-bold py-3 px-12 rounded-full hover:bg-green-600">
                                                <i class="fas fa-print mr-2"></i>Generate & Print Cards
                                            </button>
                                        </div>
                                        <p class="text-xs text-center text-gray-500 mt-2">The number of stamps on the
                                            card is based on the "Visits Required" setting above.</p>
                                    </div>

                                    <div class="flex items-center justify-center">
                                        <div id="printable-royalty-card-area" class="space-y-4 transform scale-90">
                                            <div id="royalty-card-preview-front"
                                                class="card rounded-lg p-4 flex flex-col justify-between bg-gradient-to-br from-pink-50 to-pink-200 text-pink-900"
                                                style="width:400px; height:228px; text-shadow: none;">
                                            </div>
                                            <div id="royalty-card-preview-back"
                                                class="card rounded-lg p-4 flex flex-col justify-between bg-white text-gray-800"
                                                style="width:400px; height:228px; text-shadow: none;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="settings-management-content" class="sub-tab-content hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">General Settings</h3>
                                    <form id="settings-form" class="p-4 border rounded-lg bg-gray-50 mb-6 space-y-4">
                                        <div>
                                            <label for="min-booking-hours"
                                                class="block text-sm font-medium text-gray-600">Minimum Booking
                                                Notice (in hours)</label>
                                            <input type="number" id="min-booking-hours"
                                                class="form-input w-full md:w-1/3 mt-1" placeholder="e.g., 2" required>
                                            <p class="text-xs text-gray-500 mt-1">Set the minimum number of
                                                hours in advance a client can book an appointment.</p>
                                        </div>
                                        <div>
                                            <label for="default-service-duration"
                                                class="block text-sm font-medium text-gray-600">Default Service Duration
                                                (minutes)</label>
                                            <input type="number" id="default-service-duration"
                                                class="form-input w-full md:w-1/3 mt-1" value="30" required>
                                            <p class="text-xs text-gray-500 mt-1">Used if a service doesn't have a
                                                specific duration set.</p>
                                        </div>
                                        <div>
                                            <label for="booking-buffer-time"
                                                class="block text-sm font-medium text-gray-600">Buffer Time Between
                                                Appointments (minutes)</label>
                                            <input type="number" id="booking-buffer-time"
                                                class="form-input w-full md:w-1/3 mt-1" value="0" required>
                                            <p class="text-xs text-gray-500 mt-1">Adds extra blocked time after each
                                                appointment for cleanup.</p>
                                        </div>
                                        <div class="border-t pt-4">
                                            <h4 class="font-semibold text-gray-800 mb-2">Login Security</h4>
                                            <div>
                                                <label for="max-login-attempts"
                                                    class="block text-sm font-medium text-gray-600">Max Login
                                                    Attempts</label>
                                                <input type="number" id="max-login-attempts"
                                                    class="form-input w-full md:w-1/3 mt-1" value="5" required>
                                                <p class="text-xs text-gray-500 mt-1">Number of failed login
                                                    attempts before lockout.</p>
                                            </div>
                                            <div class="mt-4">
                                                <label for="login-lockout-minutes"
                                                    class="block text-sm font-medium text-gray-600">Login
                                                    Lockout Duration (in minutes)</label>
                                                <input type="number" id="login-lockout-minutes"
                                                    class="form-input w-full md:w-1/3 mt-1" value="15" required>
                                                <p class="text-xs text-gray-500 mt-1">How long to disable login
                                                    after too many failures.</p>
                                            </div>
                                        </div>
                                        <div class="text-right"><button type="submit"
                                                class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                                Settings</button></div>
                                    </form>

                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Salon Hours</h3>
                                    <form id="salon-hours-form" class="p-4 border rounded-lg bg-gray-50 mb-6 space-y-4">
                                        <div id="salon-hours-inputs" class="space-y-3"></div>
                                        <div class="text-right">
                                            <button type="submit"
                                                class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                                Hours</button>
                                        </div>
                                    </form>
                                    <h3 class="text-xl font-semibold text-gray-700 mt-8 mb-4">Birthday Rewards
                                        Automation</h3>
                                    <form id="birthday-rewards-form" class="p-4 border rounded-lg bg-gray-50 space-y-4">
                                        <div class="flex items-center justify-between">
                                            <div class="flex flex-col">
                                                <span class="text-sm font-medium text-gray-900">Enable Automated
                                                    Birthday Emails</span>
                                                <p class="text-xs text-gray-500">If enabled, the system will
                                                    automatically send an email 7 days before a client's birthday.</p>
                                            </div>
                                            <label for="toggle-birthday-rewards"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-birthday-rewards"
                                                    class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div class="border-t pt-4 space-y-4">
                                            <div>
                                                <label for="birthday-email-subject"
                                                    class="block text-sm font-medium text-gray-600">Birthday Email
                                                    Subject</label>
                                                <input type="text" id="birthday-email-subject"
                                                    class="form-input w-full mt-1"
                                                    placeholder="Happy Birthday from Nails Express!">
                                            </div>
                                            <div>
                                                <label for="birthday-email-body"
                                                    class="block text-sm font-medium text-gray-600">Birthday Email
                                                    Body</label>
                                                <textarea id="birthday-email-body" rows="6"
                                                    class="form-input w-full mt-1"></textarea>
                                                <p class="text-xs text-gray-500 mt-1">You can use
                                                    <code>{clientName}</code> to personalize the email. For example: "Hi
                                                    {clientName}, wishing you a happy birthday!"</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <button type="submit"
                                                class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                                Birthday Settings</button>
                                        </div>
                                    </form>
                                    <h3 class="text-xl font-semibold text-gray-700 mt-8 mb-4">Gift Card Payment Guide
                                    </h3>
                                    <form id="payment-guide-form" class="p-4 border rounded-lg bg-gray-50 space-y-4">
                                        <div>
                                            <label for="gift-card-payment-guide-textarea"
                                                class="block text-sm font-medium text-gray-600">Payment
                                                Instructions</label>
                                            <textarea id="gift-card-payment-guide-textarea" rows="4"
                                                class="form-input w-full mt-1"
                                                placeholder="e.g., Please send payment to our Venmo @NailsXpress or call us at (555) 123-4567 to pay by phone."></textarea>
                                            <p class="text-xs text-gray-500 mt-1">This text will be shown to clients
                                                when they are about to purchase a gift card.</p>
                                        </div>
                                        <div class="text-right">
                                            <button type="submit"
                                                class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                                Guide</button>
                                        </div>
                                    </form>

                                    <h3 class="text-xl font-semibold text-gray-700 mb-4 mt-4">Frontend Feature
                                        Management</h3>
                                    <div id="feature-toggles-form" class="p-4 border rounded-lg bg-gray-50 space-y-4">
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Shop Section</span>
                                            <label for="toggle-shop"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-shop" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Enable Client
                                                Registration</span>
                                            <label for="toggle-client-login"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-client-login" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Promotions
                                                Section</span>
                                            <label for="toggle-promotions"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-promotions" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Gift Card
                                                Section</span>
                                            <label for="toggle-gift-card"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-gift-card" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Royalty Card
                                                Section</span>
                                            <label for="toggle-royalty-card"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-royalty-card" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Memberships
                                                Section</span>
                                            <label for="toggle-memberships"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-memberships" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>

                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Nail Art
                                                Gallery</span>
                                            <label for="toggle-nails-idea"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-nails-idea" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div id="ecommerce-settings" class="bg-white p-6 rounded-lg shadow mt-6">
    <h3 class="text-xl font-bold text-pink-700 mb-4">E-commerce Fee Settings</h3>
    <form id="ecommerce-settings-form">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label for="admin-tax-rate" class="block text-sm font-medium text-gray-700">Tax Rate (%)</label>
                <input type="number" step="0.01" id="admin-tax-rate"
                    class="mt-1 block w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 8.25"
                    required>
                <p class="text-xs text-gray-500 mt-1">Enter tax rate as a percentage (e.g., 8.25 for 8.25%).</p>
            </div>
            <div>
                <label for="admin-shipping-fee" class="block text-sm font-medium text-gray-700">Fixed Shipping Fee
                    ($)</label>
                <input type="number" step="0.01" id="admin-shipping-fee"
                    class="mt-1 block w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 5.00"
                    required>
                <p class="text-xs text-gray-500 mt-1">Enter shipping fee as a dollar amount.</p>
            </div>
            <div class="md:col-span-2 mt-4 border-t pt-4">
                 <h4 class="text-lg font-semibold text-gray-700 mb-2">Online Gift Card Codes</h4>
                 <div>
                    <label for="online-gc-start-number" class="block text-sm font-medium text-gray-700">Start Number (4+ digits)</label>
                    <input type="number" id="online-gc-start-number" class="mt-1 block w-full md:w-1/2 p-3 border border-gray-300 rounded-lg" placeholder="e.g., 1000" min="1000">
                    <p class="text-xs text-gray-500 mt-1">Set the starting number for automatically generated online gift card codes (must be at least 1000).</p>
                    <p class="text-xs text-gray-500">Last used code: <span id="last-used-online-gc-display">N/A</span></p>
                 </div>
            </div>
        </div>
        <div class="mt-6">
            <button type="submit" id="save-ecommerce-settings-btn"
                class="bg-pink-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-pink-700">Save Fee
                Settings</button>
        </div>
    </form>
</div>

                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Holiday & Closure Management
                                    </h3>
                                    <div class="p-4 border rounded-lg bg-gray-50 mb-6 space-y-4">
                                        <div>
                                            <label for="holiday-message"
                                                class="block text-sm font-medium text-gray-600">Closure Message</label>
                                            <textarea id="holiday-message" class="form-input w-full mt-1" rows="2"
                                                placeholder="e.g., We are closed for the holiday."></textarea>
                                            <p class="text-xs text-gray-500 mt-1">This message will be shown when a user
                                                tries to book on a blocked day.</p>
                                            <div class="text-right mt-2">
                                                <button id="save-holiday-message-btn"
                                                    class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                                    Message</button>
                                            </div>
                                        </div>
                                        <div class="border-t pt-4">
                                            <h4 class="font-semibold text-gray-800 mb-2">Block Dates</h4>
                                            <div id="holiday-calendar-controls"
                                                class="flex justify-between items-center mb-2">
                                                <button id="prev-holiday-month-btn"
                                                    class="px-3 py-1 bg-gray-200 rounded-lg">&lt;</button>
                                                <span id="holiday-month-year" class="font-bold"></span>
                                                <button id="next-holiday-month-btn"
                                                    class="px-3 py-1 bg-gray-200 rounded-lg">&gt;</button>
                                            </div>
                                            <div id="holiday-calendar-grid" class="grid grid-cols-7 text-center gap-1">
                                            </div>
                                        </div>
                                        <div class="border-t pt-4">
                                            <h4 class="font-semibold text-gray-800 mb-2">Upcoming Closures</h4>
                                            <div id="holiday-list-admin"
                                                class="text-sm space-y-1 max-h-32 overflow-y-auto">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Salon Announcement Popup</h3>
                                    <form id="announcement-form"
                                        class="p-4 border rounded-lg bg-gray-50 mb-6 space-y-4">
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Enable Announcement
                                                Popup</span>
                                            <label for="toggle-announcement"
                                                class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-announcement" class="sr-only peer">
                                                <div
                                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600">
                                                </div>
                                            </label>
                                        </div>
                                        <div>
                                            <label for="announcement-form-title"
                                                class="block text-sm font-medium text-gray-600">Title</label>
                                            <input type="text" id="announcement-form-title"
                                                class="form-input w-full mt-1">
                                        </div>
                                        <div>
                                            <label for="announcement-form-text"
                                                class="block text-sm font-medium text-gray-600">Text</label>
                                            <textarea id="announcement-form-text" rows="5"
                                                class="form-input w-full mt-1"></textarea>
                                        </div>
                                        <div>
                                            <label for="announcement-form-image"
                                                class="block text-sm font-medium text-gray-600">Image (Optional)</label>
                                            <input type="file" id="announcement-form-image"
                                                class="form-input w-full mt-1 text-sm" accept="image/*">
                                            <div id="current-announcement-image-wrapper" class="mt-2 hidden">
                                                <p class="text-xs font-semibold">Current Image:</p>
                                                <img id="current-announcement-image" src=""
                                                    class="w-32 h-auto rounded border">
                                                <button type="button" id="remove-announcement-image-btn"
                                                    class="text-xs text-red-600 hover:underline">Remove Image</button>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <button type="submit"
                                                class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                                Announcement</button>
                                        </div>
                                    </form>
                                </div>
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Expense Settings</h3>
                                    <div class="space-y-6">
                                        <div class="p-4 border rounded-lg bg-gray-50">
                                            <h4 class="font-semibold mb-2">Manage Categories</h4>
                                            <form id="add-expense-category-form" class="flex gap-2 mb-2"><input
                                                    type="text" id="new-expense-category-name" class="form-input w-full"
                                                    placeholder="New category name" required><button type="submit"
                                                    class="bg-blue-500 text-white px-4 rounded-lg">Add</button>
                                            </form>
                                            <div id="expense-categories-list" class="text-sm max-h-32 overflow-y-auto">
                                            </div>
                                        </div>
                                        <div class="p-4 border rounded-lg bg-gray-50">
                                            <h4 class="font-semibold mb-2">Manage Payment Accounts</h4>
                                            <form id="add-payment-account-form" class="flex gap-2 mb-2"><input
                                                    type="text" id="new-payment-account-name" class="form-input w-full"
                                                    placeholder="New account name" required><button type="submit"
                                                    class="bg-blue-500 text-white px-4 rounded-lg">Add</button>
                                            </form>
                                            <div id="payment-accounts-list" class="text-sm max-h-32 overflow-y-auto">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8">
                                <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Suppliers</h3>
                                <form id="add-supplier-form"
                                    class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                    <input type="hidden" id="edit-supplier-id">
                                    <div><label for="supplier-name" class="block text-sm font-medium">Name</label><input
                                            type="text" id="supplier-name" class="form-input w-full mt-1" required>
                                    </div>
                                    <div><label for="supplier-phone"
                                            class="block text-sm font-medium">Phone</label><input type="tel"
                                            id="supplier-phone" class="form-input w-full mt-1"></div>
                                    <div><label for="supplier-email"
                                            class="block text-sm font-medium">Email</label><input type="email"
                                            id="supplier-email" class="form-input w-full mt-1"></div>
                                    <div><label for="supplier-website"
                                            class="block text-sm font-medium">Website</label><input type="url"
                                            id="supplier-website" class="form-input w-full mt-1"></div>
                                    <div class="flex gap-2"><button type="submit" id="add-supplier-btn"
                                            class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg">Add
                                            Supplier</button><button type="button" id="cancel-edit-supplier-btn"
                                            class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hidden">Cancel</button>
                                    </div>
                                </form>
                                <div class="overflow-x-auto">
                                    <table id="suppliers-table" class="w-full text-sm text-left text-gray-600">
                                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                            <tr>
                                                <th class="px-6 py-3">Name</th>
                                                <th class="px-6 py-3">Phone</th>
                                                <th class="px-6 py-3">Email</th>
                                                <th class="px-6 py-3">Website</th>
                                                <th class="px-6 py-3 text-center">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>


                            <div class="mt-8">
                                <h3 class="text-xl font-semibold text-gray-700 mb-4">Email Templates</h3>
                                <form id="email-templates-form" class="p-4 border rounded-lg bg-gray-50 space-y-6">
                                    <div>
                                        <h4 class="font-semibold text-gray-800 mb-2">Gift Card Purchase Confirmation
                                        </h4>
                                        <label for="gift-card-subject"
                                            class="block text-sm font-medium text-gray-600">Subject</label>
                                        <input type="text" id="gift-card-subject" class="form-input w-full mt-1">
                                        <label for="gift-card-body"
                                            class="block text-sm font-medium text-gray-600 mt-2">Body</label>
                                        <textarea id="gift-card-body" rows="6"
                                            class="form-input w-full mt-1"></textarea>
                                        <p class="text-xs text-gray-500 mt-1">Variables: <code>{clientName}</code>,
                                            <code>{amount}</code>, <code>{recipientName}</code>,
                                            <code>{senderName}</code>
                                        </p>
                                    </div>
                                    <div class="border-t pt-6">
                                        <h4 class="font-semibold text-gray-800 mb-2">Membership Sign-up Confirmation
                                        </h4>
                                        <label for="membership-subject"
                                            class="block text-sm font-medium text-gray-600">Subject</label>
                                        <input type="text" id="membership-subject" class="form-input w-full mt-1">
                                        <label for="membership-body"
                                            class="block text-sm font-medium text-gray-600 mt-2">Body</label>
                                        <textarea id="membership-body" rows="6"
                                            class="form-input w-full mt-1"></textarea>
                                        <p class="text-xs text-gray-500 mt-1">Variables: <code>{clientName}</code>,
                                            <code>{tierName}</code>
                                        </p>
                                    </div>
                                    <div class="border-t pt-6">
                                        <h4 class="font-semibold text-gray-800 mb-2">Appointment Reminder</h4>
                                        <label for="reminder-subject"
                                            class="block text-sm font-medium text-gray-600">Subject</label>
                                        <input type="text" id="reminder-subject" class="form-input w-full mt-1">
                                        <label for="reminder-body"
                                            class="block text-sm font-medium text-gray-600 mt-2">Body</label>
                                        <textarea id="reminder-body" rows="6" class="form-input w-full mt-1"></textarea>
                                        <p class="text-xs text-gray-500 mt-1">Variables: <code>{clientName}</code>,
                                            <code>{appointmentDate}</code>, <code>{appointmentTime}</code>,
                                            <code>{technician}</code>, <code>{services}</code>
                                        </p>
                                    </div>
                                    <div class="text-right">
                                        <button type="submit"
                                            class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save
                                            Email Templates</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div id="backup-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Data Management</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="p-6 border rounded-lg bg-gray-50 space-y-4">
                                    <h4 class="font-semibold text-gray-800">Manual Backup & Restore</h4>
                                    <p class="text-sm text-gray-600">Download a complete backup of all salon data to a
                                        single JSON file. You can restore from this file at any time.</p>
                                    <div>
                                        <button id="backup-data-btn"
                                            class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center">
                                            <i class="fas fa-download mr-2"></i> Backup All Data
                                        </button>
                                    </div>
                                    <div class="border-t pt-4">
                                        <label for="restore-data-input"
                                            class="block text-sm font-medium text-gray-600">Restore from Backup
                                            File</label>
                                        <input type="file" id="restore-data-input"
                                            class="form-input w-full mt-1 text-sm" accept=".json">
                                        <p class="text-xs text-red-600 mt-1 font-semibold">Warning: Restoring will
                                            overwrite all current data. This action cannot be undone.</p>
                                    </div>
                                </div>

                                <div class="p-6 border rounded-lg bg-gray-50 space-y-4">
                                    <h4 class="font-semibold text-gray-800">Automatic Backup</h4>
                                    <p class="text-sm text-gray-600">The application can automatically prompt you to
                                        download a backup file if one hasn't been created recently.</p>
                                    <div>
                                        <label for="auto-backup-frequency"
                                            class="block text-sm font-medium text-gray-600">Backup Frequency</label>
                                        <select id="auto-backup-frequency" class="form-select w-full mt-1">
                                            <option value="weekly">Weekly (Default)</option>
                                            <option value="daily">Daily</option>
                                            <option value="monthly">Monthly</option>
                                            <option value="off">Off</option>
                                        </select>
                                    </div>
                                    <div class="border-t pt-4">
                                        <p class="text-sm font-medium text-gray-600">Last Backup Status</p>
                                        <p id="last-backup-status" class="text-sm text-gray-800 font-semibold mt-1">No
                                            backup recorded.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="service-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Services</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <form id="add-category-form" class="p-4 border rounded-lg bg-gray-50 mb-6">
                                        <label for="new-category-name"
                                            class="block text-sm font-medium text-gray-600">New Category
                                            Name</label>
                                        <div class="flex gap-2 mt-1">
                                            <input type="text" id="new-category-name" class="form-input w-full"
                                                required>
                                            <button type="submit"
                                                class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add</button>
                                        </div>
                                    </form>
                                    <div id="service-categories-admin" class="space-y-4"></div>
                                </div>
                                <div id="edit-service-section" class="p-4 border rounded-lg bg-gray-50 hidden">
                                    <h4 id="edit-service-title" class="text-lg font-semibold mb-3">Add/Edit
                                        Service</h4>
                                    <form id="add-service-form" class="space-y-3">
                                        <input type="hidden" id="edit-category-id"><input type="hidden"
                                            id="edit-service-index">
                                        <div><label for="service-prefix"
                                                class="block text-sm font-medium text-gray-600">Prefix
                                                (Optional)</label><input type="text" id="service-prefix"
                                                class="form-input w-full mt-1" placeholder="e.g., Gel Polish - "></div>
                                        <div><label for="service-name"
                                                class="block text-sm font-medium text-gray-600">Service
                                                Name</label><input type="text" id="service-name"
                                                class="form-input w-full mt-1" required></div>
                                        <div><label for="service-price"
                                                class="block text-sm font-medium text-gray-600">Price</label><input
                                                type="text" id="service-price" class="form-input w-full mt-1"
                                                placeholder="e.g., $50"></div>
                                        <div><label for="service-duration"
                                                class="block text-sm font-medium text-gray-600">Duration
                                                (minutes)</label>
                                            <input type="number" id="service-duration" class="form-input w-full mt-1"
                                                placeholder="e.g., 45" required>
                                        </div>
                                        <div class="text-right"><button type="submit"
                                                class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Save
                                                Service</button></div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>

        <footer class="bg-white mt-8">
            <div class="container mx-auto max-w-7xl p-4 flex justify-between items-center text-sm text-gray-500">
                <div>Design with  by Nails Express</div>
                <div class="hidden md:block">&copy; <span id="copyright-year"></span> Nails Express. All rights
                    reserved.</div>
            </div>
        </footer>

        <button id="floating-booking-btn"
            class="fixed bottom-6 right-6 bg-pink-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-2xl hover:bg-pink-700 transition-colors z-40">
            <i class="fas fa-plus"></i>
        </button>
    </div>

    <div id="service-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 modal-overlay"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 id="modal-title" class="text-2xl font-bold text-pink-700 mb-4">Select Services</h3>
            <div id="modal-content" class="space-y-3 max-h-96 overflow-y-auto"></div>
            <div class="mt-6 text-right">
                <button id="modal-done-btn" type="button"
                    class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Done</button>
            </div>
        </div>
    </div>

    <div id="checkout-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 checkout-modal-overlay"></div>
        <form id="checkout-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Client Feedback</h3>
            <input type="hidden" id="checkout-client-id">
            <input type="hidden" id="checkout-source-collection">
            <div class="space-y-4">
                <div>
                    <label for="color-code" class="block text-sm font-medium text-gray-600">What color code did you
                        choose today?</label>
                    <input type="text" id="color-code"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg">
                </div>
                <div>
                    <label for="technician-name-select" class="block text-sm font-medium text-gray-600">Who provided
                        your service today?</label>
                    <select id="technician-name-select"
                        class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                        <option>Any Technician</option>
                    </select>
                    <input type="text" id="technician-name-other"
                        class="form-input w-full p-2 mt-2 border border-gray-300 rounded-lg hidden"
                        placeholder="Enter technician name">
                </div>
                <div>
                    <label for="rebook-select" class="block text-sm font-medium text-gray-600">Next Appointment?</label>
                    <select id="rebook-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                        <option value="no">No, thanks</option>
                        <option value="2w">2 Weeks</option>
                        <option value="3w">3 Weeks</option>
                        <option value="other">Pick date</option>
                    </select>
                    <input type="datetime-local" id="rebook-other-input"
                        class="form-input w-full p-2 mt-2 border border-gray-300 rounded-lg hidden">
                </div>
                <div class="border-t pt-4">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Rate Your Experience</label>
                    <div id="checkout-star-rating-container" class="flex items-center text-3xl text-gray-300 cursor-pointer mb-2">
                        <i class="fas fa-star" data-value="1"></i>
                        <i class="fas fa-star" data-value="2"></i>
                        <i class="fas fa-star" data-value="3"></i>
                        <i class="fas fa-star" data-value="4"></i>
                        <i class="fas fa-star" data-value="5"></i>
                    </div>
                    <input type="hidden" id="checkout-rating-value">
                </div>
                <div>
                    <label for="checkout-review-text" class="block text-sm font-medium text-gray-600">Leave a Review (Optional)</label>
                    <textarea id="checkout-review-text" rows="3" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" placeholder="Tell us about your visit..."></textarea>
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button type="button" id="checkout-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Submit & Check
                    Out</button>
            </div>
        </form>
    </div>

    <div id="view-detail-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 view-detail-modal-overlay"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 id="view-detail-title" class="text-2xl font-bold text-pink-700 mb-6"></h3>
            <div id="view-detail-content" class="space-y-4"></div>
            <div id="view-detail-actions" class="mt-6 flex justify-end gap-3">
                <button type="button" id="view-detail-close-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
            </div>
        </div>
    </div>

    <div id="policy-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 policy-modal-overlay"></div>
        <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Salon Policy</h3>
            <div class="prose max-w-none max-h-96 overflow-y-auto text-gray-600">
                <p>To ensure a pleasant experience for all our clients, we kindly request your observance of the
                    following policies:</p>
                <h4>1. Appointments</h4>
                <p>We encourage booking appointments in advance via phone or our online system to secure your preferred
                    time and technician. Walk-ins are welcome but are subject to availability.</p>
                <h4>2. Cancellations & No-Shows</h4>
                <p>We understand that schedules can change. Please provide at least 24 hours' notice for any
                    cancellations. Cancellations with less than 24 hours' notice or no-shows may be subject to a fee on
                    your next visit.</p>
                <h4>3. Late Arrivals</h4>
                <p>To ensure our technicians have enough time to provide high-quality service, we may need to shorten
                    your service or reschedule your appointment if you arrive more than 15 minutes late.</p>
                <h4>4. Technician Requests</h4>
                <p>You may request a specific technician when booking your appointment. We will do our best to
                    accommodate your request, but we cannot guarantee availability.</p>
                <h4>5. Pricing and Service Adjustments</h4>
                <p>Prices for services are based on standard nail length and condition. Prices may be adjusted for
                    extra-long nails, complex designs, or additional preparation work required. Your technician will
                    consult with you before any price changes are made.</p>
                <h4>6. Refunds & Service Guarantee</h4>
                <p>We take pride in our work. If you are not satisfied with your service, please let us know before you
                    leave the salon. We offer a 7-day guarantee for gel polish and acrylic services and will happily fix
                    any issues within this period. We do not offer monetary refunds for services rendered.</p>
                <h4>7. Right to Refuse Service</h4>
                <p>For the safety and well-being of our clients and staff, we reserve the right to refuse service to
                    anyone with a nail condition we suspect may be contagious, or for any behavior we deem
                    inappropriate.</p>
                <p>Thank you for your understanding and cooperation!</p>
            </div>
            <div class="mt-6 text-right"><button type="button" id="policy-close-btn"
                    class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Close</button></div>
        </div>
    </div>

    <div id="add-appointment-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 add-appointment-modal-overlay"></div>
        <form id="add-appointment-form" class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6" id="add-appointment-modal-title">Add New Appointment</h3>
            <input type="hidden" id="edit-appointment-id">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto pr-2">
                <div><label for="appointment-client-name" class="block text-sm font-medium text-gray-600">Client
                        Name</label><input type="text" id="appointment-client-name" list="client-names-list"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required><datalist
                        id="client-names-list"></datalist></div>
                <div><label for="appointment-phone" class="block text-sm font-medium text-gray-600">Phone</label><input
                        type="tel" id="appointment-phone" list="appointment-client-phones"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"><datalist
                        id="appointment-client-phones"></datalist></div>
                <div><label for="appointment-email" class="block text-sm font-medium text-gray-600">Email
                        (Optional)</label>
                    <input type="email" id="appointment-email"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                        placeholder="client@example.com">
                </div>
                <div><label for="appointment-people" class="block text-sm font-medium text-gray-600">Group
                        Size</label><select id="appointment-people"
                        class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"></select></div>
                <div><label for="appointment-booking-type" class="block text-sm font-medium text-gray-600">Booking
                        Type</label><select id="appointment-booking-type"
                        class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                        <option>Booked - Calendar</option>
                        <option value="Phone">Phone</option>
                        <option value="Online">Online</option>
                    </select></div>
                <div>
                    <label for="appointment-services" class="block text-sm font-medium text-gray-600">Services</label>
                    <input type="text" id="appointment-services" list="main-services-list"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                        placeholder="Select or type a service...">
                    <datalist id="main-services-list"></datalist>
                </div>
                <div><label for="appointment-technician-select"
                        class="block text-sm font-medium text-gray-600">Technician Request</label><select
                        id="appointment-technician-select"
                        class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                        <option>Any Technician</option>
                    </select></div>
                <div><label for="appointment-datetime" class="block text-sm font-medium text-gray-600">Date &
                        Time</label><input type="datetime-local" id="appointment-datetime"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required></div>
                <div class="md:col-span-2"><label for="appointment-notes"
                        class="block text-sm font-medium text-gray-600">Notes</label><textarea id="appointment-notes"
                        rows="2" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"></textarea></div>
            </div>
            <div class="mt-8 text-center"><label class="flex items-center justify-center"><input type="checkbox"
                        id="appointment-policy-agree" class="form-checkbox" checked required><span
                        class="ml-2 text-sm text-gray-600">I agree to the <button type="button"
                            class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon
                            Policy</button>.</span></label></div>
            <div class="mt-6 flex justify-end gap-3"><button type="button" id="add-appointment-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button
                    type="submit" id="add-appointment-submit-btn"
                    class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save
                    Appointment</button></div>
              <div id="waitlist-cta" class="hidden text-center mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
    <p id="waitlist-message" class="font-semibold text-yellow-800 mb-2">This time slot is unavailable.</p>
    <p class="text-sm text-yellow-700 mb-4">Would you like to be added to the waitlist for this day?</p>
    <button type="button" id="join-waitlist-btn"
        class="bg-yellow-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-yellow-600">Join
        Waitlist</button>
</div>      
        </form>
        <div id="waitlist-cta" class="hidden text-center mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
            <p id="waitlist-message" class="font-semibold text-yellow-800 mb-2">This time slot is unavailable.</p>
            <p class="text-sm text-yellow-700 mb-4">Would you like to be added to the waitlist for this day?</p>
            <button type="button" id="join-waitlist-btn"
                class="bg-yellow-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-yellow-600">Join
                Waitlist</button>
        </div>

        <div class="mt-8 text-center">
        </div>
        <div class="mt-6 flex justify-end gap-3">
        </div>

    </div>

    <div id="edit-earning-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 edit-earning-modal-overlay"></div>
        <form id="edit-earning-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Earning</h3><input type="hidden"
                id="edit-earning-id">
            <div class="space-y-4">
                <div><label for="edit-staff-earning-date"
                        class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date"
                        id="edit-staff-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg"
                        required></div>
                <div><label for="edit-staff-name" class="block text-sm font-medium text-gray-600 mb-1">Staff
                        Name</label><select id="edit-staff-name"
                        class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select></div>
                <div>
                    <label for="edit-staff-earning-service"
                        class="block text-sm font-medium text-gray-600 mb-1">Service</label>
                    <input type="text" id="edit-staff-earning-service" list="edit-staff-earning-services-list"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg"
                        placeholder="Type or select service">
                    <datalist id="edit-staff-earning-services-list"></datalist>
                </div>
                <div><label for="edit-staff-earning"
                        class="block text-sm font-medium text-gray-600 mb-1">Earning</label><input type="number"
                        step="0.01" id="edit-staff-earning"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                <div><label for="edit-staff-tip" class="block text-sm font-medium text-gray-600 mb-1">Tip</label><input
                        type="number" step="0.01" id="edit-staff-tip"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
            </div>
            <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-earning-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button
                    type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save
                    Changes</button></div>
        </form>
    </div>

    <div id="edit-salon-earning-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 edit-salon-earning-modal-overlay"></div>
        <form id="edit-salon-earning-form" class="relative bg-white w-full max-w-4xl p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Salon Earning</h3><input type="hidden"
                id="edit-salon-earning-id">
            <div class="space-y-6">
                <div><label for="edit-salon-earning-date"
                        class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date"
                        id="edit-salon-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg"
                        required></div>
                <div id="edit-salon-earning-inputs" class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end"></div>
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                    <div><label for="edit-sell-gift-card" class="block text-sm font-medium text-gray-600">Sell Gift
                            Card</label><input type="number" step="0.01" id="edit-sell-gift-card"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount">
                    </div>
                    <div><label for="edit-return-gift-card" class="block text-sm font-medium text-gray-600">Return Gift
                            Card</label><input type="number" step="0.01" id="edit-return-gift-card"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount">
                    </div>
                    <div><label for="edit-check-payment"
                            class="block text-sm font-medium text-gray-600">Check</label><input type="number"
                            step="0.01" id="edit-check-payment"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount">
                    </div>
                    <div><label for="edit-no-of-credit" class="block text-sm font-medium text-gray-600">No. of
                            Credit</label><input type="number" id="edit-no-of-credit"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Count">
                    </div>
                    <div><label for="edit-total-credit" class="block text-sm font-medium text-gray-600">Total
                            Credit</label><input type="number" step="0.01" id="edit-total-credit"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount">
                    </div>
                    <div><label for="edit-venmo-payment"
                            class="block text-sm font-medium text-gray-600">Venmo</label><input type="number"
                            step="0.01" id="edit-venmo-payment"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount">
                    </div>
                    <div><label for="edit-square-payment"
                            class="block text-sm font-medium text-gray-600">Square</label><input type="number"
                            step="0.01" id="edit-square-payment"
                            class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount">
                    </div>
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-salon-earning-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button
                    type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save
                    Changes</button></div>
        </form>
    </div>

    <div id="client-form-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 client-form-modal-overlay"></div>
        <form id="client-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 id="client-form-title" class="text-2xl font-bold text-pink-700 mb-6">Client Information</h3>
            <input type="hidden" id="edit-client-id">
            <div class="space-y-4">
                <div>
                    <label for="client-form-name" class="block text-sm font-medium text-gray-600 mb-1">Client
                        Name</label>
                    <input type="text" id="client-form-name"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg" required>
                </div>
                <div>
                    <label for="client-form-phone" class="block text-sm font-medium text-gray-600 mb-1">Phone
                        Number</label>
                    <input type="tel" id="client-form-phone"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg">
                </div>
                <div>
                    <label for="client-form-email" class="block text-sm font-medium text-gray-600 mb-1">Email Address
                        (Optional)</label>
                    <input type="email" id="client-form-email"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg">
                </div>
                <div>
                    <label for="client-form-dob" class="block text-sm font-medium text-gray-600 mb-1">Date of
                        Birth</label>
                    <input type="date" id="client-form-dob"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg">
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button type="button" id="client-form-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save
                    Client</button>
            </div>
        </form>
    </div>

    <div id="gemini-sms-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 gemini-sms-modal-overlay"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Generated SMS Message</h3>
            <div id="gemini-sms-content" class="space-y-4"><textarea id="gemini-sms-textarea" rows="5"
                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                    placeholder="Generating message..."></textarea></div>
            <div class="mt-6 flex justify-end gap-3">
                <a id="gemini-sms-send-link" href="#" target="_blank"
                    class="bg-green-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-green-600"><i
                        class="fas fa-paper-plane mr-2"></i>Open in Messages</a>
                <button type="button" id="gemini-sms-close-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
            </div>
        </div>
    </div>

    <div id="confirm-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 confirm-modal-overlay"></div>
        <div class="relative bg-white w-full max-w-sm p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-lg font-bold text-gray-800 mb-4">Are you sure?</h3>
            <p id="confirm-modal-message" class="text-gray-600 mb-6"></p>
            <div class="flex justify-end gap-3"><button type="button" id="confirm-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button
                    type="button" id="confirm-confirm-btn"
                    class="bg-red-600 text-white font-semibold py-2 px-6 rounded-lg">Delete</button></div>
        </div>
    </div>

    <div id="log-usage-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 log-usage-modal-overlay"></div>
        <form id="log-usage-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Log Inventory Usage</h3>
            <div class="space-y-4">
                <div>
                    <label for="log-usage-product-select"
                        class="block text-sm font-medium text-gray-600 mb-1">Product</label>
                    <select id="log-usage-product-select"
                        class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select>
                </div>
                <div>
                    <label for="log-usage-quantity" class="block text-sm font-medium text-gray-600 mb-1">Quantity
                        Used</label>
                    <input type="number" id="log-usage-quantity"
                        class="form-input w-full p-3 border border-gray-300 rounded-lg" min="1" required>
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button type="button" id="log-usage-cancel-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Log
                    Usage</button>
            </div>
        </form>
    </div>

    <div id="share-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
        <div class="absolute inset-0 bg-black opacity-50 share-modal-overlay"></div>
        <div class="relative bg-white w-full max-w-sm p-6 rounded-2xl shadow-xl m-4 text-center">
            <h3 class="text-2xl font-bold text-pink-700 mb-6">Share this Design</h3>
            <div class="flex justify-center gap-4 text-4xl">
                <a href="#" id="share-facebook" target="_blank" class="text-blue-600 hover:text-blue-800"><i
                        class="fab fa-facebook-square"></i></a>
                <a href="#" id="share-pinterest" target="_blank" class="text-red-600 hover:text-red-800"><i
                        class="fab fa-pinterest-square"></i></a>
                <a href="#" id="share-twitter" target="_blank" class="text-blue-400 hover:text-blue-600"><i
                        class="fab fa-twitter-square"></i></a>
                <button id="share-copy-link" class="text-gray-600 hover:text-gray-800"><i
                        class="fas fa-link"></i></button>
            </div>
            <div class="mt-6">
                <button type="button" id="share-close-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
            </div>
        </div>
    </div>

    <div id="edit-gift-card-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4 max-h-[90vh] overflow-y-auto">
            <button id="close-edit-gift-card-modal-btn"
                class="absolute top-4 right-4 text-gray-500 hover:text-gray-800"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Manage Gift Card</h2>
            <div class="mb-4">
    <label for="edit-gc-code-input" class="block text-sm font-medium text-gray-600">Gift Card Code</label>
    <input type="text" id="edit-gc-code-input" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg font-mono" required>
</div>
            <div class="grid grid-cols-2 gap-4 mb-6 text-center">
                <div>
                    <p class="text-sm font-medium text-gray-500">Original Amount</p>
                    <p id="edit-gc-original-amount" class="text-2xl font-bold text-gray-800"></p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500">Current Balance</p>
                    <p id="edit-gc-current-balance" class="text-2xl font-bold text-green-600"></p>
                </div>
            </div>

            <form id="edit-gift-card-form">
                <input type="hidden" id="edit-gift-card-id">
                <h3 class="text-lg font-semibold text-gray-700 border-b pb-2">New Transaction</h3>
                <div class="grid grid-cols-3 gap-4 mt-4 items-end">
                    <div>
                        <label for="edit-gc-transaction-type"
                            class="block text-sm font-medium text-gray-600">Type</label>
                        <select id="edit-gc-transaction-type"
                            class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                            <option value="redeem">Redeem</option>
                            <option value="add">Add Value</option>
                        </select>
                    </div>
                    <div>
                        <label for="edit-gc-transaction-amount" class="block text-sm font-medium text-gray-600">Amount
                            ($)</label>
                        <input type="number" step="0.01" min="0.01" id="edit-gc-transaction-amount"
                            class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                    </div>
                    <button type="submit"
                        class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Apply
                        Transaction</button>
                </div>
                <div class="mt-2">
                    <label for="edit-gc-transaction-notes" class="block text-sm font-medium text-gray-600">Notes
                        (Optional)</label>
                    <input type="text" id="edit-gc-transaction-notes"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"
                        placeholder="e.g., Manicure service">
                </div>
            </form>

            <div class="mt-6">
                <h3 class="text-lg font-semibold text-gray-700 border-b pb-2">Transaction History</h3>
                <div id="edit-gc-history" class="mt-2 space-y-2 max-h-48 overflow-y-auto"></div>
            </div>
        </div>
    </div>

    <div id="client-profile-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-4xl p-6 rounded-2xl shadow-xl m-4 max-h-[90vh] overflow-y-auto">
            <button id="close-client-profile-modal-btn"
                class="absolute top-4 right-4 text-gray-500 hover:text-gray-800"><i
                    class="fas fa-times fa-lg"></i></button>
            <div id="client-profile-header" class="text-center">
                <h2 class="text-3xl font-bold text-pink-700" id="profile-client-name"></h2>
                <p class="text-gray-500" id="profile-client-phone"></p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 my-6 text-center">
                <div class="bg-pink-50 p-3 rounded-lg">
                    <p class="text-sm font-medium text-pink-700">Total Visits</p>
                    <p id="profile-total-visits" class="text-2xl font-bold"></p>
                </div>
                <div class="bg-green-50 p-3 rounded-lg">
                    <p class="text-sm font-medium text-green-700">Total Spent</p>
                    <p id="profile-total-spent" class="text-2xl font-bold"></p>
                </div>
                <div class="bg-blue-50 p-3 rounded-lg">
                    <p class="text-sm font-medium text-blue-700">Favorite Tech</p>
                    <p id="profile-fav-tech" class="text-xl font-bold"></p>
                </div>
                <div class="bg-yellow-50 p-3 rounded-lg">
                    <p class="text-sm font-medium text-yellow-700">Favorite Color</p>
                    <p id="profile-fav-color" class="text-xl font-bold"></p>
                </div>
            </div>
            <div class="mt-6">
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-2">Upcoming Appointments</h3>
                    <div id="profile-upcoming-appts" class="space-y-2"></div>
                </div>
            </div>
            <div class="mt-6">
                <h3 class="text-xl font-semibold text-gray-700 border-b pb-2">Visit History</h3>
                <div class="mt-2 max-h-64 overflow-y-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr>
                                <th class="px-4 py-2">Date</th>
                                <th class="px-4 py-2">Services</th>
                                <th class="px-4 py-2">Technician</th>
                            </tr>
                        </thead>
                        <tbody id="profile-history-table-body"></tbody>
                    </table>
                </div>
            </div>
            <div class="mt-6">
                <h3 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-2">Staff Notes</h3>
                <div id="profile-client-notes-list" class="space-y-2 max-h-48 overflow-y-auto mb-4 pr-2">
                </div>
                <form id="add-client-note-form">
                    <input type="hidden" id="note-client-id">
                    <label for="new-client-note" class="block text-sm font-medium text-gray-600">Add a new note</label>
                    <textarea id="new-client-note" rows="3" class="form-input w-full mt-1"
                        placeholder="e.g., Prefers gel, sensitive to filing..."></textarea>
                    <div class="text-right mt-2">
                        <button type="submit"
                            class="bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700">Save
                            Note</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="nail-idea-lightbox"
        class="fixed inset-0 z-[80] hidden items-center justify-center bg-black bg-opacity-80 p-4">
        <div class="relative w-full max-w-4xl h-full flex items-center justify-center">

            <button id="lightbox-prev-btn"
                class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/20 text-white text-4xl p-2 rounded-full hover:bg-white/40 z-50">
                &#10094;
            </button>
            <div
                class="flex flex-col lg:flex-row h-full max-h-[85vh] w-full bg-white rounded-lg overflow-hidden shadow-2xl">
                <div class="w-full lg:w-2/3 h-64 lg:h-full bg-gray-900 flex items-center justify-center relative group">
                    <img id="lightbox-image" src="" alt="Nail Art" class="max-h-full max-w-full object-contain">

                    <button id="lightbox-image-prev-btn"
                        class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-2 rounded-full hover:bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity text-2xl hidden"><i
                            class="fas fa-chevron-left"></i></button>
                    <button id="lightbox-image-next-btn"
                        class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-2 rounded-full hover:bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity text-2xl hidden"><i
                            class="fas fa-chevron-right"></i></button>
                    <div id="lightbox-image-counter"
                        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white text-xs px-2 py-1 rounded-full hidden">
                    </div>

                    <button id="lightbox-close-btn"
                        class="absolute top-0 right-0 mt-4 mr-4 text-white text-3xl z-50">&times;</button>
                    <button id="lightbox-fullscreen-btn"
                        class="absolute top-12 right-0 mt-5 mr-4 text-white text-xl z-50"><i
                            class="fas fa-expand"></i></button>
                    <button id="lightbox-rotate-btn"
                        class="absolute top-20 right-0 mt-6 mr-4 text-white text-xl z-50"><i
                            class="fas fa-sync-alt"></i></button>
                </div>
                <div class="w-full lg:w-1/3 p-6 overflow-y-auto">
                    <h3 id="lightbox-title" class="text-2xl font-bold text-pink-700 mb-2"></h3>
                    <div class="space-y-3 text-sm">
                        <div>
                            <p class="font-semibold text-gray-500">Shape</p>
                            <p id="lightbox-shape" class="text-gray-800"></p>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-500">Color</p>
                            <p id="lightbox-color" class="text-gray-800"></p>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-500">Categories</p>
                            <p id="lightbox-categories" class="text-gray-800 flex flex-wrap gap-2"></p>
                        </div>
                        <div class="border-t pt-3 mt-3">
                            <p class="font-semibold text-gray-500">Description</p>
                            <p id="lightbox-description" class="text-gray-800 mt-1 text-sm whitespace-pre-wrap"></p>
                        </div>
                    </div>
                </div>
            </div>
            <button id="lightbox-next-btn"
                class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/20 text-white text-4xl p-2 rounded-full hover:bg-white/40 z-50">
                &#10095;
            </button>
        </div>
    </div>

    <div id="signup-login-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-md p-8 rounded-2xl shadow-xl m-4">
            <button id="close-signup-login-modal-btn"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-2xl font-bold text-center text-pink-700 mb-2">Nails Express Login</h2>
            <div class="mb-4 border-b border-gray-200">
                <ul class="flex flex-wrap -mb-px text-sm font-medium text-center">
                    <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg active"
                            id="login-tab-btn" type="button">Log In</button></li>
                    <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg"
                            id="signup-tab-btn" type="button">Sign Up</button></li>
                </ul>
            </div>
            <div id="login-form-container">
                <form id="landing-login-form" class="space-y-4">
                    <div><label for="landing-email" class="block text-sm font-medium text-gray-600">Email</label><input
                            type="email" id="landing-email"
                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                            placeholder="Enter your email" required></div>
                    <div><label for="landing-password"
                            class="block text-sm font-medium text-gray-600">Password</label><input type="password"
                            id="landing-password" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                            placeholder="Enter your password" required></div>
                    <div id="login-lockout-message" class="hidden text-sm text-red-600"></div>
                    <div><button type="submit" id="landing-login-btn"
                            class="w-full bg-pink-600 text-white font-bold py-3 rounded-lg flex items-center justify-center"><span
                                class="btn-text">Log In</span><i
                                class="fas fa-spinner fa-spin ml-2 hidden"></i></button></div>
                </form>
            </div>
            <div id="signup-form-container" class="hidden">
                <form id="landing-signup-form" class="space-y-4">
                    <div><label for="signup-name" class="block text-sm font-medium text-gray-600">Full
                            Name</label><input type="text" id="signup-name"
                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                            placeholder="Enter your full name" required></div>
                    <div><label for="signup-email" class="block text-sm font-medium text-gray-600">Email</label><input
                            type="email" id="signup-email"
                            class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                            placeholder="Enter your email" required></div>
                    <div><label for="signup-password"
                            class="block text-sm font-medium text-gray-600">Password</label><input type="password"
                            id="signup-password" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"
                            placeholder="Create a password" required></div>
                    <div><button type="submit" id="landing-signup-btn"
                            class="w-full bg-pink-600 text-white font-bold py-3 rounded-lg flex items-center justify-center"><span
                                class="btn-text">Sign Up</span><i
                                class="fas fa-spinner fa-spin ml-2 hidden"></i></button></div>
                </form>
            </div>
        </div>
    </div>
    <div id="gift-card-purchase-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-4xl p-6 rounded-2xl shadow-xl m-4 max-h-[90vh] overflow-y-auto">
            <button id="close-gift-card-purchase-modal-btn"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Purchase a Gift Card</h2>

            <form id="landing-gift-card-form" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="space-y-6">
                    <div id="gc-user-info-section">
                        <h3 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Your Information</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="gc-buyer-name" class="block text-sm font-medium text-gray-600">Full
                                    Name</label>
                                <input type="text" id="gc-buyer-name"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label for="gc-buyer-phone" class="block text-sm font-medium text-gray-600">Phone
                                    Number</label>
                                <input type="tel" id="gc-buyer-phone"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label for="gc-buyer-email" class="block text-sm font-medium text-gray-600">Email
                                    Address</label>
                                <input type="email" id="gc-buyer-email"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg">
                                <p class="text-xs text-gray-500 mt-1">Optional. Provide an email to create an account
                                    and track your gift card online.</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Gift Card Details</h3>
                        <div class="space-y-4">
                            <div class="flex items-center gap-4">
                                <input type="checkbox" id="gc-show-to" class="form-checkbox border border-gray-300 "
                                    checked> <label for="gc-show-to">Show 'To' Field</label>
                                <input type="checkbox" id="gc-show-from" class="form-checkbox border border-gray-300 "
                                    checked> <label for="gc-show-from">Show 'From' Field</label>
                            </div>
                            <div id="gc-to-wrapper"><label for="gc-to"
                                    class="block text-sm font-medium text-gray-600">To (Recipient)</label><input
                                    type="text" id="gc-to"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"></div>
                            <div id="gc-from-wrapper"><label for="gc-from"
                                    class="block text-sm font-medium text-gray-600">From (Your Name)</label><input
                                    type="text" id="gc-from"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"></div>
                            <div>
                                <label for="gc-amount" class="block text-sm font-medium text-gray-600">Amount Per Card
                                    ($)</label>
                                <input type="number" id="gc-amount"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required
                                    min="1">
                            </div>
                            <div>
                                <label for="gc-quantity"
                                    class="block text-sm font-medium text-gray-600">Quantity</label>
                                <input type="number" id="gc-quantity"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required
                                    min="1" value="1">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div>
                        <h3 class="font-semibold text-gray-700 border-b pb-2">Card Style</h3>
                        <div id="landing-gc-background-tabs" class="flex flex-wrap gap-2 mt-2 border-b"></div>
                        <div id="landing-gc-background-options" class="grid grid-cols-3 gap-2 mt-2"></div>
                    </div>
                    <div class="flex items-center justify-center">
                        <div id="landing-gc-preview-area">
                            <div id="landing-gc-preview-card"
                                class="w-[350px] h-[200px] shadow-lg rounded-lg p-4 flex flex-col justify-between bg-cover bg-center text-white transition-all duration-300"
                                style="background-image: url('https://images.unsplash.com/photo-1596048135132-911961bd4350?q=80&w=1887&auto=format&fit=crop');">
                                <div class="flex justify-between items-start"
                                    style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
                                    <img src="https://placehold.co/100x100/d63384/FFFFFF?text=NE"
                                        class="w-12 h-12 rounded-full border-2 border-white" />
                                    <div class="text-right">
                                        <p class="font-parisienne text-3xl">Gift Card</p>
                                        <p class="text-xs font-semibold tracking-wider">Nails Express</p>
                                    </div>
                                </div>
                                <div class="text-center" style="text-shadow: 1px 1px 3px rgba(0,0,0,0.7);">
                                    <p id="landing-gc-preview-amount" class="text-5xl font-bold">$0.00</p>
                                </div>
                                <div class="text-xs" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
                                    <div class="flex justify-between font-semibold">
                                        <span>FOR: <span id="landing-gc-preview-to" class="font-normal"></span></span>
                                        <span>FROM: <span id="landing-gc-preview-from"
                                                class="font-normal"></span></span>
                                    </div>
                                    <p class="mt-2 text-center font-mono tracking-widest text-sm">CODE-PREVIEW</p>
                                    <p id="landing-gc-preview-expiry" class="mt-1 text-center text-[10px] opacity-80">
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="border-t pt-4 space-y-2">
                        <div class="flex justify-between text-lg">
                            <span>Total:</span>
                            <span id="landing-gc-total-amount" class="font-bold text-xl">$0.00</span>
                        </div>
                        <div id="landing-gc-payment-guide"
                            class="text-sm text-gray-600 bg-gray-100 p-3 rounded-lg border">
                        </div>
                        <button type="submit" id="landing-gc-submit-btn"
                            class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">
                            Submit Purchase Request
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div id="landing-booking-service-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 id="landing-booking-modal-title" class="text-2xl font-bold text-pink-700 mb-4">Select Services</h3>
            <div id="landing-booking-service-modal-content" class="space-y-3 max-h-96 overflow-y-auto"></div>
            <div class="mt-6 text-right">
                <button id="landing-booking-service-modal-done-btn" type="button"
                    class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Done</button>
            </div>
        </div>
    </div>

    <div id="edit-colors-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4 max-h-[90vh] flex flex-col">
            <h2 id="edit-colors-modal-title" class="text-2xl font-bold text-pink-700 mb-4">Edit Colors</h2>
            <input type="hidden" id="edit-color-brand-id">

            <form id="add-new-color-form"
                class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end p-4 border rounded-lg bg-gray-50 mb-4">
                <div>
                    <label for="new-color-name" class="block text-sm font-medium text-gray-600">Color Name</label>
                    <input type="text" id="new-color-name" class="form-input w-full mt-1" placeholder="e.g., Cherry Red"
                        required>
                </div>
                <div>
                    <label for="new-color-hex" class="block text-sm font-medium text-gray-600">Color</label>
                    <input type="color" id="new-color-hex" class="form-input w-full mt-1 h-10">
                </div>
                <div>
                    <label for="new-color-group" class="block text-sm font-medium text-gray-600">Group</label>
                    <input type="text" id="new-color-group" class="form-input w-full mt-1"
                        placeholder="e.g., Pinks & Nudes">
                </div>
                <button type="submit"
                    class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 h-10">Add
                    Color</button>
            </form>

            <div id="existing-colors-list" class="flex-grow overflow-y-auto space-y-2 pr-2">
            </div>

            <div class="mt-6 text-right">
                <button id="close-edit-colors-modal-btn" type="button"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Done</button>
            </div>
        </div>
    </div>
    <div id="membership-tier-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <form id="membership-tier-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 id="membership-tier-modal-title" class="text-2xl font-bold text-pink-700 mb-6">Add New Tier</h3>
            <input type="hidden" id="edit-membership-tier-id">
            <div class="space-y-4">
                <div>
                    <label for="tier-name" class="block text-sm font-medium text-gray-600">Tier Name</label>
                    <input type="text" id="tier-name" class="form-input w-full mt-1" placeholder="e.g., Gold, Platinum"
                        required>
                </div>
                <div>
                    <label for="tier-price" class="block text-sm font-medium text-gray-600">Monthly Price ($)</label>
                    <input type="number" id="tier-price" class="form-input w-full mt-1" placeholder="e.g., 49.99"
                        required>
                </div>
                <div>
                    <label for="tier-discount" class="block text-sm font-medium text-gray-600">Discount on all services
                        (%)</label>
                    <input type="number" id="tier-discount" class="form-input w-full mt-1" placeholder="e.g., 10"
                        required>
                </div>
                <div>
                    <label for="tier-benefits" class="block text-sm font-medium text-gray-600">Included Benefits</label>
                    <textarea id="tier-benefits" class="form-input w-full mt-1" rows="3"
                        placeholder="e.g., 2 Classic Manicures per month, 1 Free Paraffin Treatment"></textarea>
                    <p class="text-xs text-gray-500 mt-1">List one benefit per line.</p>
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button type="button" id="cancel-membership-tier-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save
                    Tier</button>
            </div>
        </form>
    </div>

    <div id="membership-purchase-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-4xl p-6 rounded-2xl shadow-xl m-4 max-h-[90vh] overflow-y-auto">
            <button id="close-membership-purchase-modal-btn"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Join Our Membership</h2>

            <form id="landing-membership-form" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="space-y-6">
                    <div id="membership-user-info-section">
                        <h3 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Your Information</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="ms-buyer-name" class="block text-sm font-medium text-gray-600">Full
                                    Name</label>
                                <input type="text" id="ms-buyer-name"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label for="ms-buyer-phone" class="block text-sm font-medium text-gray-600">Phone
                                    Number</label>
                                <input type="tel" id="ms-buyer-phone"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label for="ms-buyer-email" class="block text-sm font-medium text-gray-600">Email
                                    Address</label>
                                <input type="email" id="ms-buyer-email"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                                <p class="text-xs text-gray-500 mt-1">An account will be created for you to manage your
                                    membership.</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Membership Details</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="ms-tier-select" class="block text-sm font-medium text-gray-600">Membership
                                    Tier</label>
                                <select id="ms-tier-select"
                                    class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                                </select>
                            </div>
                            <div>
                                <label for="ms-amount" class="block text-sm font-medium text-gray-600">Monthly Price
                                    ($)</label>
                                <input type="number" id="ms-amount"
                                    class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" readonly>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div>
                        <h3 class="font-semibold text-gray-700 border-b pb-2">Membership Card Preview</h3>
                    </div>
                    <div class="flex items-center justify-center">
                        <div id="ms-preview-area">
                            <div id="ms-preview-card"
                                class="w-[350px] h-[200px] shadow-lg rounded-lg p-4 flex flex-col justify-between bg-gradient-to-br from-gray-700 via-gray-900 to-black text-white transition-all duration-300"
                                style="text-shadow: 1px 1px 3px rgba(0,0,0,0.4);">
                            </div>
                        </div>
                    </div>
                    <div class="border-t pt-4 space-y-2">
                        <div id="membership-payment-guide"
                            class="text-sm text-gray-600 bg-gray-100 p-3 rounded-lg border">
                        </div>
                        <button type="submit" id="landing-ms-submit-btn"
                            class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">
                            Submit Membership Request
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- PASTE THIS NEW MODAL -->
    <div id="royalty-card-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <button id="close-royalty-card-modal-btn"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-2xl font-bold text-center text-pink-700 mb-6">Join the Royalty Program</h2>
            <form id="royalty-card-form" class="space-y-4">
                <p class="text-sm text-center text-gray-600">Provide your details below to receive your digital royalty
                    card and start earning rewards!</p>
                <div>
                    <label for="rc-buyer-name" class="block text-sm font-medium text-gray-600">Full Name</label>
                    <input type="text" id="rc-buyer-name"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                </div>
                <div>
                    <label for="rc-buyer-phone" class="block text-sm font-medium text-gray-600">Phone Number</label>
                    <input type="tel" id="rc-buyer-phone"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                </div>
                <div>
                    <label for="rc-buyer-email" class="block text-sm font-medium text-gray-600">Email Address</label>
                    <input type="email" id="rc-buyer-email"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required>
                    <p class="text-xs text-gray-500 mt-1">An account will be created for you to track your rewards
                        online.</p>
                </div>
                <div class="pt-4">
                    <button type="submit" id="royalty-card-submit-btn"
                        class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">
                        Sign Up & Get My Card
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- PASTE THIS NEW MODAL AT THE END -->
    <div id="add-royalty-card-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <button id="close-add-royalty-card-modal-btn"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-2xl font-bold text-center text-pink-700 mb-6">Create Royalty Card for Existing Client</h2>
            <form id="add-royalty-card-form" class="space-y-4">
                <div>
                    <label for="add-rc-client-name" class="block text-sm font-medium text-gray-600">Client Name</label>
                    <input type="text" id="add-rc-client-name" list="add-rc-client-list"
                        class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required
                        placeholder="Start typing to search for a client...">
                    <datalist id="add-rc-client-list"></datalist>
                </div>
                <p class="text-xs text-center text-gray-500">Select an existing client to add a new royalty card to
                    their account. Their visit count will be set to zero.</p>
                <div class="pt-4">
                    <button type="submit" id="add-royalty-card-submit-btn"
                        class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">
                        Create Card
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- PASTE THIS NEW MODAL AT THE END OF THE FILE -->
    <div id="edit-task-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <button id="close-edit-task-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-2xl font-bold text-center text-pink-700 mb-6">Edit Task</h2>
            <form id="edit-task-form" class="space-y-4">
                <input type="hidden" id="edit-task-id">
                <div>
                    <label for="edit-task-description" class="block text-sm font-medium text-gray-600">Task
                        Description</label>
                    <input type="text" id="edit-task-description" class="form-input w-full mt-1" required>
                </div>
                <div>
                    <label for="edit-task-category" class="block text-sm font-medium text-gray-600">Category</label>
                    <select id="edit-task-category" class="form-select w-full mt-1">
                        <option value="Nails Supply">Nails Supply</option>
                        <option value="Maintenance">Maintenance</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="pt-4">
                    <button type="submit"
                        class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="email-marketing-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
            <h2 id="email-marketing-modal-title" class="text-2xl font-bold text-center text-pink-700 mb-6">Create Email
                Campaign</h2>
            <form id="email-marketing-form" class="space-y-4">
                <div>
                    <label for="email-marketing-subject" class="block text-sm font-medium text-gray-600">Subject</label>
                    <input type="text" id="email-marketing-subject"
                        class="form-input w-full mt-1 border border-gray-300 rounded-lg p-2" required>
                </div>
                <div>
                    <label for="email-marketing-body" class="block text-sm font-medium text-gray-600">Email Body</label>
                    <textarea id="email-marketing-body" rows="10"
                        class="form-input w-full mt-1 border border-gray-300 rounded-lg p-2" required></textarea>
                    <p class="text-xs text-gray-500 mt-1">You can use <code>{clientName}</code> to personalize the email
                        for each recipient.</p>
                </div>
                <div class="pt-4 flex justify-end gap-3">
                    <button type="button" id="close-email-marketing-modal-btn"
                        class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                    <button type="submit" class="bg-purple-600 text-white font-semibold py-2 px-6 rounded-lg">Send to
                        All Clients</button>
                </div>
            </form>
        </div>
    </div>
    <div id="cart-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4 max-h-[90vh] flex flex-col">
            <button id="close-cart-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i
                    class="fas fa-times fa-lg"></i></button>
            <h2 class="text-2xl font-bold text-center text-pink-700 mb-6">Your Shopping Cart</h2>
            <div id="cart-items-container" class="flex-grow overflow-y-auto space-y-4 pr-2">
                <!-- Cart items will be dynamically inserted here -->
            </div>
            <div id="cart-footer" class="border-t pt-4 mt-4">
                <div class="flex justify-between items-center text-lg font-bold">
                    <span>Subtotal:</span>
                    <span id="cart-subtotal">$0.00</span>
                </div>
                <div class="flex justify-between text-gray-700 py-1 border-t border-gray-200">
    <span class="font-medium">Shipping Fee:</span>
    <span id="cart-shipping-fee" class="font-medium">$0.00</span>
</div>

<div class="flex justify-between text-gray-700 py-1">
    <span class="font-medium">Tax (<span id="cart-tax-rate">0%</span>):</span>
    <span id="cart-tax" class="font-medium">$0.00</span>
</div>

<div class="flex justify-between text-xl font-bold text-pink-700 pt-2 border-t-2 border-pink-100 mt-2">
    <span>Grand Total:</span>
    <span id="cart-grand-total">$0.00</span>
</div>
                <div id="cart-payment-guide" class="hidden text-sm text-gray-600 bg-gray-100 p-3 my-3 rounded-lg border"></div>
                <button id="checkout-btn"
                    class="w-full mt-4 bg-pink-600 text-white font-bold py-3 rounded-lg hover:bg-pink-700 disabled:bg-gray-400">Proceed
                    to Checkout</button>
            </div>
        </div>
    </div>

    <div id="order-confirmation-modal" class="modal hidden fixed inset-0 z-[80] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-md p-8 rounded-2xl shadow-xl m-4 text-center">
            <h2 class="text-2xl font-bold text-green-600 mb-4">Thank You!</h2>
            <p class="text-gray-600 mb-6">Your order has been placed successfully. We will contact you shortly to
                confirm payment and shipping details.</p>
            <button id="close-confirmation-modal-btn"
                class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Close</button>
        </div>
    </div>
    <div id="product-detail-modal"
        class="modal hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black bg-opacity-50">
        <div
            class="relative bg-white w-full max-w-4xl rounded-lg shadow-xl m-4 max-h-[90vh] flex flex-col lg:flex-row overflow-hidden">
            <button id="close-product-detail-modal-btn"
                class="absolute top-2 right-3 text-gray-500 hover:text-gray-800 text-3xl z-20">&times;</button>
            <div class="w-full lg:w-1/2 bg-gray-100 flex items-center justify-center relative group">
                <img id="product-modal-image" src="" alt="Product Image"
                    class="max-h-full max-w-full object-contain h-[50vh] lg:h-auto">
                <button id="product-modal-prev-btn"
                    class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-2 rounded-full hover:bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity text-2xl hidden"><i
                        class="fas fa-chevron-left"></i></button>
                <button id="product-modal-next-btn"
                    class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 text-white p-2 rounded-full hover:bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity text-2xl hidden"><i
                        class="fas fa-chevron-right"></i></button>
                <div id="product-modal-counter"
                    class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white text-xs px-2 py-1 rounded-full hidden">
                </div>
            </div>
            <div class="w-full lg:w-1/2 p-6 overflow-y-auto">
                <h2 id="product-modal-name" class="text-3xl font-bold text-gray-800 mb-2"></h2>
                <p id="product-modal-price" class="text-2xl font-bold text-pink-600 mb-4"></p>
                <div id="product-modal-stock-status" class="mb-4"></div>
                <p id="product-modal-description" class="text-gray-600 mb-6"></p>
                <button id="product-modal-add-to-cart-btn"
                    class="w-full bg-pink-600 text-white font-bold py-3 rounded-lg hover:bg-pink-700 disabled:bg-gray-400">
                    <i class="fas fa-cart-plus mr-2"></i>Add to Cart
                </button>
            </div>
        </div>
    </div>
    <div id="announcement-modal" class="modal hidden fixed inset-0 z-[90] flex items-center justify-center p-4">
        <div id="announcement-modal-overlay" class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h2 id="announcement-title" class="text-3xl font-bold text-center text-pink-700 mb-4"></h2>
            <div class="max-h-[60vh] overflow-y-auto pr-2">
                <img id="announcement-image" src="" class="max-w-full h-auto rounded-lg mx-auto mb-4 hidden">
                <p id="announcement-text" class="text-gray-600 whitespace-pre-wrap"></p>
            </div>
            <div class="mt-6 text-center">
                <button id="close-announcement-modal-btn"
                    class="bg-pink-600 text-white font-semibold py-2 px-8 rounded-lg">Close</button>
            </div>
        </div>
    </div>
    <div id="review-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <form id="review-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
            <h3 class="text-2xl font-bold text-pink-700 mb-4">Leave a Review</h3>
            <input type="hidden" id="review-finished-id">
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-600 mb-2">Your Rating</label>
                    <div id="star-rating-container" class="flex items-center text-3xl text-gray-300 cursor-pointer">
                        <i class="fas fa-star" data-value="1"></i>
                        <i class="fas fa-star" data-value="2"></i>
                        <i class="fas fa-star" data-value="3"></i>
                        <i class="fas fa-star" data-value="4"></i>
                        <i class="fas fa-star" data-value="5"></i>
                    </div>
                    <input type="hidden" id="rating-value" required>
                </div>
                <div>
                    <label for="review-text" class="block text-sm font-medium text-gray-600">Your Review</label>
                    <textarea id="review-text" rows="4"
                        class="form-input w-full mt-1 border border-gray-300 p-2 rounded-lg"
                        placeholder="Tell us about your experience..."></textarea>
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button type="button" id="close-review-modal-btn"
                    class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Submit
                    Review</button>
            </div>
        </form>
    </div>

<div id="schedule-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
    <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
    <form id="schedule-form" class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
        <h3 id="schedule-modal-title" class="text-2xl font-bold text-pink-700 mb-6">Manage Schedule</h3>
        <input type="hidden" id="schedule-user-id">
        <div id="schedule-inputs-container" class="space-y-3 max-h-[60vh] overflow-y-auto pr-2">
            </div>
        <div class="mt-6 flex justify-end gap-3">
            <button type="button" id="close-schedule-modal-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
            <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Schedule</button>
        </div>
    </form>
</div>
<div id="notification-container" 
     class="fixed top-4 right-4 z-[9999] w-full max-w-sm pointer-events-none">
    </div>
<div id="view-review-modal" class="modal hidden fixed inset-0 z-[70] flex items-center justify-center p-4">
    <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
    <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
        <h3 id="view-review-modal-title" class="text-2xl font-bold text-pink-700 mb-4">Client Review</h3>
        <div id="view-review-modal-content" class="space-y-4">
            <div id="view-review-stars" class="text-3xl"></div>
            <p id="view-review-text" class="text-gray-700 bg-gray-50 p-4 rounded-lg border whitespace-pre-wrap"></p>
        </div>
        <div class="mt-6 text-right">
            <button type="button" id="close-view-review-modal-btn" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Close</button>
        </div>
    </div>
</div>

    <script type="module" src="script.js"></script>
</body>

</html>
