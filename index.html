<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nail Express</title>
 
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d63384">
    <link rel="icon" type="image/png" href="https://placehold.co/32x32/d63384/FFFFFF?text=NE">


    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <style>
    .gallery-item .overlay {
        opacity: 0;
        transition: opacity 0.3s ease-in-out;
    }
    .gallery-item:hover .overlay {
        opacity: 1;
    }
    /* Toggle Switch Styles */
    .toggle-checkbox:checked {
        right: 0;
        border-color: #d63384;
    }
    .toggle-checkbox:checked + .toggle-label {
        background-color: #d63384;
    }
    
    /* Notification Bell Animation */
    @keyframes ring {
      0%, 100% { transform: rotate(0); }
      10%, 30%, 50%, 70%, 90% { transform: rotate(-10deg); }
      20%, 40%, 60%, 80% { transform: rotate(10deg); }
    }
    .ring-animation {
      animation: ring 1s ease-in-out;
    }
  </style>
</head>
<body class="bg-gray-100">

    <!-- Loading Screen (Visible initially) -->
    <div id="loading-screen" class="fixed inset-0 z-[100] flex items-center justify-center bg-white">
        <h2 class="text-3xl font-bold text-pink-700">Loading Nail Express...</h2>
    </div>

    <!-- Login/Landing Page Content (Hidden initially) -->
    <div id="landing-page-content" style="display: none;">
        <!-- Header -->
        <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <div id="landing-logo" class="text-2xl font-bold text-pink-700 tracking-wider"><h2><a href="#">NailsXpress</a></h2></div>
                <nav id="landing-nav" class="hidden md:flex space-x-8 text-sm font-semibold text-gray-600">
                    <a href="#promotions-landing" class="hover:text-pink-600 nav-item-promotions">Promotions</a>
                    <a href="#nails-idea-landing" class="hover:text-pink-600 nav-item-nails-idea">Nails Idea</a>
                    <a href="#gift-card-landing" class="hover:text-pink-600 nav-item-gift-card">Gift Cards</a>
                    <a href="#booking-landing" class="hover:text-pink-600">Booking</a>
                    <a href="#about-landing" class="hover:text-pink-600">About Us</a>
                    <a href="#contact-landing" class="hover:text-pink-600">Contact Us</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <button id="user-icon" class="text-gray-600 hover:text-pink-600 flex items-center space-x-2 text-sm font-semibold">
                        <i class="fas fa-user"></i>
                        <span>Log In</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero-section-new relative">
            <div class="hero-overlay-new w-full h-full flex items-center justify-center text-center">
                <div class="container mx-auto px-6 py-16">
                    <h1 class="text-5xl md:text-7xl font-bold text-pink-700 leading-tight">Elegance at<br>Your Fingertips</h1>
                    <p class="mt-4 text-gray-600 max-w-md mx-auto">
                        Experience elegance at its finest with our nail art creations. From delicate patterns to intricate details, our salon ensures that sophistication is just a brushstroke away.
                    </p>
                    <div class="mt-8 flex justify-center items-center space-x-6">
                         <a href="https://www.facebook.com/profile.php?id=61566760681750" target="_blank" class="text-gray-600 hover:text-pink-600 transition-colors">
                            <i class="fab fa-facebook fa-2x"></i>
                        </a>
                        <a href="https://youtube.com/@NailExpressKY" target="_blank" class="text-gray-600 hover:text-pink-600 transition-colors">
                            <i class="fab fa-youtube fa-2x"></i>
                        </a>
                        <a href="https://www.tiktok.com/@nailsexpressky" target="_blank" class="text-gray-600 hover:text-pink-600 transition-colors">
                            <i class="fab fa-tiktok fa-2x"></i>
                        </a>
                    </div>
                    <div class="mt-6 flex justify-center space-x-4">
                        <a href="#booking-landing" class="bg-pink-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-pink-700 transition-colors">
                            Book your appointment now
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Promotions Section -->
        <section id="promotions-landing" class="py-20 bg-pink-50">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">Current Promotions</h2>
                <div id="promotions-container-landing" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Promotions will be dynamically inserted here -->
                </div>
            </div>
        </section>

        <!-- Nails Idea Section -->
        <section id="nails-idea-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">Nail Art Inspiration</h2>
                <div id="nails-idea-container-landing" class="columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4">
                    <!-- Nail ideas will be dynamically inserted here -->
                </div>
            </div>
        </section>
        
        <!-- Gift Card Section -->
        <section id="gift-card-landing" class="py-20 bg-pink-50">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Give the Gift of Glamour</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed mb-8">
                    Treat your loved ones to a relaxing and beautifying experience with a NailsXpress digital gift card. Perfect for birthdays, holidays, or just because!
                </p>
                <button id="buy-gift-card-btn" class="bg-pink-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-pink-700 transition-colors">
                    Buy a Gift Card
                </button>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="booking-landing" class="py-20">
            <div class="container mx-auto px-6">
                <div class="bg-white p-8 md:p-12 rounded-2xl shadow-2xl max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold text-center text-pink-700 mb-2">Book a New Appointment</h2>
                    <p class="text-center text-gray-600 mb-8">Your moment of relaxation is just a few clicks away.</p>
                    <form id="add-appointment-form-landing" class="relative">
                        
                        <!-- Step 1: Your Information -->
                        <div id="booking-step-1">
                            <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Step 1: Your Information</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div><label for="appointment-client-name-landing" class="block text-sm font-medium text-gray-600">Client Name</label><input type="text" id="appointment-client-name-landing" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="e.g., Jane Doe" required></div>
                                <div><label for="appointment-phone-landing" class="block text-sm font-medium text-gray-600">Phone</label><input type="tel" id="appointment-phone-landing" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="(555) 123-4567"></div>
                                <div><label for="appointment-people-landing" class="block text-sm font-medium text-gray-600">Group Size</label><select id="appointment-people-landing" class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg"></select></div>
                                <div><label for="appointment-technician-select-landing" class="block text-sm font-medium text-gray-600">Technician Request</label><select id="appointment-technician-select-landing" class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg"><option>Any Technician</option></select></div>
                                <div class="md:col-span-2"><label for="appointment-datetime-landing" class="block text-sm font-medium text-gray-600">Date & Time</label><input type="datetime-local" id="appointment-datetime-landing" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" required></div>
                                <div class="md:col-span-2"><label for="appointment-notes-landing" class="block text-sm font-medium text-gray-600">Notes (optional)</label><textarea id="appointment-notes-landing" rows="2" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Any special requests or notes?"></textarea></div>
                            </div>
                            <div class="mt-8 text-center">
                                <button type="button" id="booking-next-btn" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105">Next: Select Services</button>
                            </div>
                        </div>

                        <!-- Step 2: Select Services -->
                        <div id="booking-step-2" class="hidden">
                             <div class="flex justify-between items-center border-b pb-3 mb-6">
                                <h3 class="text-xl font-semibold text-gray-700">Step 2: Select Your Services</h3>
                            </div>
                            <div id="services-container-landing" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <!-- Category buttons will be injected here -->
                            </div>
                            <div id="hidden-checkbox-container-landing" class="hidden">
                                <!-- Hidden checkboxes will be injected here -->
                            </div>
                            <div class="mt-8 text-center">
                                <label class="flex items-center justify-center">
                                    <input type="checkbox" id="appointment-policy-agree-landing" class="form-checkbox" checked required>
                                    <span class="ml-2 text-sm text-gray-600">I agree to the <button type="button" class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon Policy</button>.</span>
                                </label>
                            </div>
                            <div class="mt-6 flex justify-center gap-4">
                                <button type="button" id="booking-prev-btn" class="w-full md:w-auto bg-gray-300 text-gray-800 font-bold py-3 px-12 rounded-full hover:bg-gray-400">Previous</button>
                                <button type="submit" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105">Save Appointment</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- About Us Section -->
        <section id="about-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Your Sanctuary for Beauty & Relaxation</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed">Welcome to Nail Express, your personal retreat for beauty and wellness in Danville. Our passionate team is dedicated to providing exceptional service in a clean, serene, and friendly environment.</p>
                <p class="text-gray-600 max-w-3xl mx-auto mt-4 leading-relaxed">From classic manicures to luxurious spa pedicures, we use only high-quality products to ensure lasting results. Treat yourself to our signature pedicure experience that will leave you walking on air.</p>
            </div>
        </section>

        <!-- Contact Us Section -->
        <section id="contact-landing" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Get In Touch</h2>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-12">
                    <div class="flex items-center"><i class="fas fa-map-marker-alt fa-2x text-pink-600 mr-4"></i><div><h4 class="font-semibold">Our Address</h4><p>1560 Hustonville Rd #345, Danville, KY 40422</p></div></div>
                    <div class="flex items-center"><i class="fas fa-phone fa-2x text-pink-600 mr-4"></i><div><h4 class="font-semibold">Call Us</h4><p>(859) 236-2873</p></div></div>
                    <div class="flex items-center"><i class="fas fa-envelope fa-2x text-pink-600 mr-4"></i><div><h4 class="font-semibold">Email Us</h4><p>nailsexpressky@gmail.com</p></div></div>
                </div>
            </div>
        </section>

        <!-- Login/Signup Modal -->
        <div id="signup-login-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center">
            <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-md p-8 rounded-2xl shadow-xl m-4">
                <button id="close-signup-login-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800"><i class="fas fa-times fa-lg"></i></button>
                <div class="mb-4 border-b border-gray-200">
                    <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="auth-tabs">
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg active" id="login-tab-btn" type="button">Log In</button></li>
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="signup-tab-btn" type="button">Sign Up</button></li>
                    </ul>
                </div>
                
                <!-- Login Form -->
                <div id="login-form-container">
                    <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Welcome Back!</h2>
                    <form id="landing-login-form" class="space-y-6">
                        <div id="login-lockout-message" class="hidden p-3 bg-red-100 text-red-700 rounded-lg text-center text-sm"></div>
                        <div>
                            <label for="landing-email" class="block text-sm font-medium text-gray-700">Email</label>
                            <input type="email" id="landing-email" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Enter your email">
                        </div>
                        <div>
                            <label for="landing-password" class="block text-sm font-medium text-gray-700">Password</label>
                            <input type="password" id="landing-password" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Enter your password">
                        </div>
                        <div>
                            <button type="submit" id="landing-login-btn" class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 flex items-center justify-center">
                                <span class="btn-text">Log In</span>
                                <i class="fas fa-spinner fa-spin ml-2 hidden"></i>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Signup Form -->
                <div id="signup-form-container" class="hidden">
                    <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Create Account</h2>
                    <form id="landing-signup-form" class="space-y-6">
                         <div>
                            <label for="signup-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="signup-name" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Enter your full name">
                        </div>
                        <div>
                            <label for="signup-email" class="block text-sm font-medium text-gray-700">Email</label>
                            <input type="email" id="signup-email" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Enter your email">
                        </div>
                        <div>
                            <label for="signup-password" class="block text-sm font-medium text-gray-700">Password</label>
                            <input type="password" id="signup-password" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Create a password (min. 6 characters)">
                        </div>
                        <div>
                            <button type="submit" id="landing-signup-btn" class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 flex items-center justify-center">
                                <span class="btn-text">Sign Up</span>
                                <i class="fas fa-spinner fa-spin ml-2 hidden"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Landing Page Service Menu Modal -->
        <div id="landing-service-modal" class="modal hidden fixed inset-0 z-50 items-center justify-center">
            <div class="landing-service-modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
                <div class="flex justify-between items-center border-b pb-4 mb-4">
                    <h3 id="landing-service-modal-title" class="text-2xl font-bold text-pink-700">Our Menu</h3>
                    <button id="close-landing-service-modal-btn" class="text-gray-500 hover:text-gray-800"><i class="fas fa-times fa-lg"></i></button>
                </div>
                <div id="landing-service-modal-content" class="space-y-2 max-h-[70vh] overflow-y-auto pr-4">
                    <!-- Dynamic service items will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Landing Page Booking Service Modal -->
        <div id="landing-booking-service-modal" class="modal hidden fixed inset-0 z-[60] items-center justify-center">
            <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="landing-booking-modal-title" class="text-2xl font-bold text-pink-700 mb-4">Select Services</h3>
                <div id="landing-booking-service-modal-content" class="space-y-3 max-h-96 overflow-y-auto"></div>
                <div class="mt-6 text-right">
                    <button id="landing-booking-service-modal-done-btn" type="button" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Done</button>
                </div>
            </div>
        </div>

        <!-- Gift Card Purchase Modal -->
        <div id="gift-card-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center">
            <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-lg p-8 rounded-2xl shadow-xl m-4">
                <button id="close-gift-card-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800"><i class="fas fa-times fa-lg"></i></button>
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Purchase a Gift Card</h2>
                <form id="gift-card-form" class="space-y-4">
                    <div>
                        <label for="gift-card-amount" class="block text-sm font-medium text-gray-700">Amount</label>
                        <select id="gift-card-amount" class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg">
                            <option value="25">$25</option>
                            <option value="50">$50</option>
                            <option value="75">$75</option>
                            <option value="100">$100</option>
                            <option value="custom">Custom Amount</option>
                        </select>
                        <input type="number" id="gift-card-custom-amount" class="form-input w-full p-3 mt-2 border border-gray-300 rounded-lg hidden" placeholder="Enter custom amount">
                    </div>
                    <div>
                        <label for="gift-card-recipient-name" class="block text-sm font-medium text-gray-700">Recipient's Name</label>
                        <input type="text" id="gift-card-recipient-name" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label for="gift-card-recipient-email" class="block text-sm font-medium text-gray-700">Recipient's Email</label>
                        <input type="email" id="gift-card-recipient-email" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label for="gift-card-sender-name" class="block text-sm font-medium text-gray-700">Your Name</label>
                        <input type="text" id="gift-card-sender-name" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg">
                    </div>
                     <div>
                        <label for="gift-card-message" class="block text-sm font-medium text-gray-700">Message (optional)</label>
                        <textarea id="gift-card-message" rows="2" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg"></textarea>
                    </div>
                    <div>
                        <button type="submit" class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">
                            Proceed to Payment
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- NEW: Client Dashboard Content (Hidden initially) -->
    <div id="client-dashboard-content" style="display: none;">
        <header class="bg-white shadow-md">
            <div class="container mx-auto max-w-5xl p-4 flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold text-pink-700">My Dashboard</h1>
                    <p id="client-welcome-name" class="text-sm text-gray-500">Welcome back!</p>
                </div>
                <button id="client-sign-out-btn" class="bg-pink-100 text-pink-700 font-semibold py-2 px-4 rounded-lg hover:bg-pink-200 transition-colors">
                    Sign Out <i class="fas fa-sign-out-alt ml-2"></i>
                </button>
            </div>
        </header>

        <main class="container mx-auto max-w-5xl p-4 sm:p-6 lg:p-8">
            <div class="mb-4 border-b border-gray-200">
                <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="client-dashboard-tabs">
                    <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg active" id="appointments-tab" type="button">Appointments</button></li>
                    <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="history-tab" type="button">History</button></li>
                    <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="favorites-tab" type="button">My Favorites</button></li>
                    <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="gallery-tab" type="button">My Gallery</button></li>
                </ul>
            </div>

            <!-- Client Appointments Content -->
            <div id="appointments-content" class="client-tab-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold text-gray-700">Upcoming Appointments</h3>
                    <button id="client-book-new-btn" class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700">Book New Appointment</button>
                </div>
                <div id="client-upcoming-appointments" class="space-y-4">
                    <!-- Upcoming appointments will be loaded here -->
                </div>
            </div>

            <!-- Client History Content -->
            <div id="history-content" class="client-tab-content hidden">
                 <h3 class="text-xl font-semibold text-gray-700 mb-4">Appointment History</h3>
                 <div id="client-appointment-history" class="space-y-4">
                    <!-- History will be loaded here -->
                 </div>
            </div>

            <!-- Client Favorites Content -->
            <div id="favorites-content" class="client-tab-content hidden">
                <h3 class="text-xl font-semibold text-gray-700 mb-4">My Favorites</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-pink-800 mb-2">Favorite Technician</h4>
                        <p id="favorite-technician" class="text-2xl font-bold text-pink-600">-</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h4 class="font-bold text-pink-800 mb-2">Favorite Color</h4>
                        <p id="favorite-color" class="text-2xl font-bold text-pink-600">-</p>
                    </div>
                </div>
            </div>

            <!-- Client Gallery Content -->
            <div id="gallery-content" class="client-tab-content hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold text-gray-700">My Photo Gallery</h3>
                    <label class="bg-purple-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-600 cursor-pointer">
                        <i class="fas fa-upload mr-2"></i> Upload Photo
                        <input type="file" id="client-photo-upload" class="hidden" accept="image/*">
                    </label>
                </div>
                <div id="client-photo-gallery" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- Client photos will be loaded here -->
                </div>
            </div>
        </main>
    </div>

    <!-- Main Check-in App Content (Hidden initially) -->
    <div id="app-content" style="display: none;">
        <header class="bg-white shadow-md">
            <div class="container mx-auto max-w-7xl p-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <div id="logo-link" class="cursor-pointer">
                        <h1 class="text-2xl font-bold text-pink-700">Nails Express</h1>
                        <p class="text-sm text-gray-500">Nails salon & Spa</p>
                    </div>
                    <div id="notification-bell" class="relative cursor-pointer">
                        <i class="fas fa-bell text-xl text-gray-600"></i>
                        <span id="notification-count" class="notification-badge">0</span>
                        <div id="notification-dropdown" class="notification-dropdown hidden">
                            <!-- Notifications will be inserted here -->
                        </div>
                    </div>
                </div>
                <nav id="top-nav" class="hidden md:flex items-center gap-2 text-sm font-semibold text-gray-600">
                    <button class="top-nav-btn relative" data-target="check-in">
                        Check-in
                        <span id="check-in-nav-count" class="absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center hidden">0</span>
                    </button>
                    <button class="top-nav-btn relative" data-target="booking">
                        Booking
                        <span id="booking-nav-count" class="absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center hidden">0</span>
                    </button>
                    <button class="top-nav-btn" data-target="nails-idea">Nails Idea</button>
                    <button class="top-nav-btn" data-target="report">Report</button>
                    <button class="top-nav-btn" data-target="setting">Setting</button>
                </nav>
                <div class="text-right flex items-center gap-4">
                    <div>
                        <div id="live-clock" class="clock text-3xl font-bold text-gray-800"></div>
                        <div id="live-date" class="text-sm text-gray-500"></div>
                    </div>
                    <button id="sign-out-btn" class="bg-pink-100 text-pink-700 font-semibold py-2 px-4 rounded-lg hover:bg-pink-200 transition-colors">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <main class="container mx-auto max-w-7xl p-4 sm:p-6 lg:p-8">
            <!-- DASHBOARD CONTENT -->
            <div id="dashboard-content">
                <div class="flex justify-end items-center mb-6">
                    <label for="dashboard-date-filter" class="text-sm font-medium text-gray-700 mr-2">Date Range:</label>
                    <select id="dashboard-date-filter" class="form-select p-2 border border-gray-300 rounded-lg">
                        <option value="today">Today</option>
                        <option value="this_week">This Week</option>
                        <option value="this_month" selected>This Month</option>
                        <option value="this_year">This Year</option>
                    </select>
                </div>

                <!-- Summary Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card bg-pink-100">
                        <h4 class="font-bold text-pink-800">Total Bookings</h4>
                        <p id="total-bookings-card" class="text-3xl font-bold text-pink-600">0</p>
                    </div>
                    <div class="dashboard-card bg-green-100">
                        <h4 class="font-bold text-green-800">Total Revenue</h4>
                        <p id="total-revenue-card" class="text-3xl font-bold text-green-600">$0</p>
                    </div>
                    <div class="dashboard-card bg-yellow-100">
                        <h4 class="font-bold text-yellow-800">Low Stock Items</h4>
                        <p id="low-stock-card" class="text-3xl font-bold text-yellow-600">0</p>
                    </div>
                    <div class="dashboard-card bg-blue-100">
                        <h4 class="font-bold text-blue-800">Top Technician</h4>
                        <p id="top-technician-card" class="text-xl font-bold text-blue-600">-</p>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-lg h-96">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Booking Trends</h3>
                        <canvas id="bookings-chart"></canvas>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg h-96">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Top Services</h3>
                        <canvas id="services-chart"></canvas>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg lg:col-span-2 h-96">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Technician Earnings</h3>
                        <canvas id="earnings-chart"></canvas>
                    </div>
                </div>
                
                <!-- Daily Notes Section -->
                <div class="mt-8 bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold text-gray-700 mb-4">Daily Notes</h3>
                    <form id="daily-notes-form" class="mb-4">
                        <textarea id="daily-note-input" class="form-input w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="Add a note for today..."></textarea>
                        <div class="text-right mt-2">
                            <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-pink-700">Save Note</button>
                        </div>
                    </form>
                    <div id="daily-notes-container" class="space-y-3">
                        <!-- Notes will be displayed here -->
                    </div>
                </div>

            </div>

            <!-- MAIN APP CONTAINER -->
            <div id="main-app-container" class="hidden">
                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl">
                    
                    <div id="check-in-section" class="main-section">
                        <div id="main-tabs-container" class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="main-tabs">
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg active" id="check-in-tab" type="button">Check In</button></li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="queue-tab" type="button">Active Queue <span id="active-count" class="ml-2 bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="processing-tab" type="button">Processing <span id="processing-count" class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                                <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="finished-tab" type="button">Finished Clients <span id="finished-count" class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                            </ul>
                        </div>
                        <div id="check-in-content" class="tab-content">
                            <form id="check-in-form">
                                <div class="space-y-8">
                                     <div>
                                        <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Your Information</h3>
                                        <div class="grid grid-cols-2 md:grid-cols-5 gap-6">
                                            <div class="col-span-2 md:col-span-1">
                                                <label for="full-name" class="block text-sm font-medium text-gray-600 mb-1">Full Name</label>
                                                <input type="text" id="full-name" list="checkin-client-names" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., Jane Doe" required>
                                                <datalist id="checkin-client-names"></datalist>
                                            </div>
                                            <div class="col-span-2 md:col-span-1">
                                                <label for="phone-number" class="block text-sm font-medium text-gray-600 mb-1">Phone</label>
                                                <input type="tel" id="phone-number" list="checkin-client-phones" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="(555) 123-4567">
                                                <datalist id="checkin-client-phones"></datalist>
                                            </div>
                                            <div>
                                                <label for="checkin-technician-select" class="block text-sm font-medium text-gray-600 mb-1">Technician</label>
                                                <select id="checkin-technician-select" class="form-select w-full p-3 border border-gray-300 rounded-lg">
                                                    <option>Any Technician</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label for="people-count" class="block text-sm font-medium text-gray-600 mb-1">Group Size</label>
                                                <select id="people-count" class="form-select w-full p-3 border border-gray-300 rounded-lg"></select>
                                            </div>
                                            <div>
                                                <label for="booking-type" class="block text-sm font-medium text-gray-600 mb-1">Booking Type</label>
                                                <select id="booking-type" class="form-select w-full p-3 border border-gray-300 rounded-lg">
                                                    <option>Walk-in</option>
                                                    <option value="Phone">Phone</option>
                                                    <option value="Online">Online</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="flex justify-between items-center border-b pb-3 mb-6">
                                            <h3 class="text-xl font-semibold text-gray-700">Select Your Services</h3>
                                        </div>
                                        <div id="services-container" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
                                        <div id="hidden-checkbox-container" class="hidden"></div>
                                    </div>
                                </div>
                                 <div class="mt-8 text-center">
                                     <label class="flex items-center justify-center">
                                        <input type="checkbox" id="policy-agree" class="form-checkbox" checked required>
                                        <span class="ml-2 text-sm text-gray-600">I agree to the <button type="button" class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon Policy</button>.</span>
                                    </label>
                                </div>
                                <div class="mt-4 text-center">
                                    <button type="submit" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transition-all duration-300 transform hover:scale-105">
                                        <i class="fas fa-check mr-2"></i> Check In
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div id="queue-content" class="tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-active" class="w-64 p-2 border border-gray-300 rounded-lg" placeholder="Search active clients by name...">
                                <div id="tech-filter-container-active" class="tech-filter-container flex gap-2">
                                     <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                     <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="clients-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-center">No.</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="processing-content" class="tab-content hidden">
                             <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-processing" class="w-64 p-2 border border-gray-300 rounded-lg" placeholder="Search processing clients by name...">
                                <div id="tech-filter-container-processing" class="tech-filter-container flex gap-2">
                                     <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                     <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="processing-table" class="w-full text-sm text-left text-gray-600">
                                     <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-center">No.</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3">Technician</th>
                                            <th scope="col" class="px-6 py-3">Check-in Time</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="finished-content" class="tab-content hidden">
                             <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-finished" class="w-64 p-2 border border-gray-300 rounded-lg" placeholder="Search finished clients by name...">
                                <div class="flex items-center gap-4">
                                    <div id="tech-filter-container-finished" class="tech-filter-container flex gap-2">
                                         <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                         <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                                    </div>
                                    <div>
                                        <label for="finished-date-filter" class="text-sm font-medium text-gray-700 mr-2">Date:</label>
                                        <input type="date" id="finished-date-filter" class="p-2 border border-gray-300 rounded-lg">
                                   </div>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="finished-clients-table" class="w-full text-sm text-left text-gray-600">
                                     <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-center">No.</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Group</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3">Check-in Time</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="calendar-content" class="main-section hidden">
                         <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center gap-2">
                                 <button id="today-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg">List all Booking <span id="today-count" class="ml-2 bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button>
                                 <button id="month-view-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hidden">Month View</button>
                            </div>
                            <div id="tech-filter-container-calendar" class="tech-filter-container flex gap-2">
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                            </div>
                            <div id="month-nav" class="flex items-center gap-2">
                                <button id="prev-month-btn" class="px-4 py-2 bg-pink-600 text-white rounded-lg"><i class="fas fa-chevron-left"></i></button>
                                <h3 id="month-year-display" class="text-xl font-bold"></h3>
                                <button id="next-month-btn" class="px-4 py-2 bg-pink-600 text-white rounded-lg"><i class="fas fa-chevron-right"></i></button>
                            </div>
                         </div>
                         <div id="list-view" class="hidden">
                             <div class="overflow-x-auto">
                                <table id="today-bookings-table" class="w-full text-sm text-left text-gray-600">
                                     <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3">Technician</th>
                                            <th scope="col" class="px-6 py-3">Group</th>
                                            <th scope="col" class="px-6 py-3">Date & Time</th>
                                            <th scope="col" class="px-6 py-3">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                         </div>
                         <div id="month-view">
                            <div class="grid grid-cols-7 text-center font-semibold mb-2">
                                <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
                            </div>
                            <div id="calendar"></div>
                         </div>
                    </div>

                    <!-- NEW: Nails Idea Section -->
                    <div id="nails-idea-content" class="main-section hidden">
                        <div class="mb-6 border-b pb-3">
                            <h3 class="text-xl font-semibold text-gray-700">Nail Art Gallery</h3>
                        </div>
                        <!-- Filters -->
                        <div class="flex flex-wrap gap-4 mb-8">
                            <input type="text" id="nail-idea-search" placeholder="Search by name or category..." class="form-input p-2 border border-gray-300 rounded-lg flex-grow">
                            <select id="nail-idea-shape-filter" class="form-select p-2 border border-gray-300 rounded-lg">
                                <option value="">All Shapes</option>
                                <!-- JS will populate this -->
                            </select>
                            <select id="nail-idea-category-filter" class="form-select p-2 border border-gray-300 rounded-lg">
                                <option value="">All Categories</option>
                                <!-- JS will populate this -->
                            </select>
                        </div>
                        <!-- Gallery -->
                        <div id="nails-idea-gallery" class="columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4">
                             <!-- Placeholder Images for Pinterest-style board -->
                            <div class="break-inside-avoid relative gallery-item">
                                <img class="w-full rounded-lg shadow-md" src="https://placehold.co/400x600/d63384/FFFFFF?text=Nail+Art+1" alt="Nail Art Idea 1">
                                <div class="overlay absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center rounded-lg">
                                    <button class="share-nail-idea-btn text-white text-3xl"><i class="fas fa-share-alt"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div id="reports-content" class="main-section hidden">
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="reports-sub-tabs">
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active" id="salon-earning-report-tab" type="button">Salon Earning</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="staff-earning-report-tab" type="button">Staff Earning</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="expense-report-tab" type="button">Expense Report</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="clients-list-report-tab" type="button">Clients List</button></li>
                            </ul>
                        </div>

                        <!-- Salon Earning Content -->
                        <div id="salon-earning-report-content" class="sub-tab-content">
                            <div class="mb-6 border-b pb-3">
                                <h3 class="text-xl font-semibold text-gray-700">Salon Earning Report</h3>
                            </div>
                            <form id="salon-earning-form" class="space-y-6 mb-8">
                                 <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                    <div>
                                        <label for="salon-earning-date" class="block text-sm font-medium text-gray-600">Date</label>
                                        <input type="date" id="salon-earning-date" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" required>
                                    </div>
                                </div>
                                <div id="salon-earning-inputs" class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end"></div>
                                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                    <div><label for="sell-gift-card" class="block text-sm font-medium text-gray-600">Sell Gift Card</label><input type="number" step="0.01" id="sell-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="return-gift-card" class="block text-sm font-medium text-gray-600">Return Gift Card</label><input type="number" step="0.01" id="return-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="check-payment" class="block text-sm font-medium text-gray-600">Check</label><input type="number" step="0.01" id="check-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="no-of-credit" class="block text-sm font-medium text-gray-600">No. of Credit</label><input type="number" id="no-of-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Count"></div>
                                    <div><label for="total-credit" class="block text-sm font-medium text-gray-600">Total Credit</label><input type="number" step="0.01" id="total-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="venmo-payment" class="block text-sm font-medium text-gray-600">Venmo</label><input type="number" step="0.01" id="venmo-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="square-payment" class="block text-sm font-medium text-gray-600">Square</label><input type="number" step="0.01" id="square-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                </div>
                                <div class="text-center pt-4">
                                    <button type="submit" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">Add Salon Earning</button>
                                </div>
                            </form>
                            <div class="flex justify-end items-center mb-4 gap-2">
                                <button id="export-salon-earnings-btn" class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600"><i class="fas fa-file-excel mr-2"></i>Export</button>
                                <button id="print-salon-earnings-btn" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600"><i class="fas fa-print mr-2"></i>Print</button>
                                <select id="salon-earning-range-filter" class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                <input type="date" id="salon-earning-date-filter" class="p-2 border border-gray-300 rounded-lg hidden">
                            </div>
                            <div class="overflow-x-auto">
                                <table id="salon-earning-table" class="w-full text-sm text-left text-gray-600">
                                    <thead id="salon-earning-table-head" class="text-xs text-gray-700 uppercase bg-gray-50"></thead>
                                    <tbody></tbody>
                                    <tfoot id="salon-earning-table-foot" class="bg-gray-100 font-semibold"></tfoot>
                                </table>
                            </div>
                        </div>

                        <!-- Staff Earning Content -->
                        <div id="staff-earning-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6 flex justify-between items-center">
                                <span>Staff Earning Report</span>
                                <div class="flex gap-4">
                                    <span id="filtered-earning-total-main" class="ml-2 bg-pink-100 text-pink-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                    <span id="filtered-earning-total-tip" class="ml-2 bg-green-100 text-green-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                </div>
                            </h3>
                            <form id="staff-earning-form" class="grid grid-cols-1 md:grid-cols-5 gap-6 mb-8 items-end">
                                <div><label for="staff-earning-date" class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date" id="staff-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                                <div><label for="staff-name" class="block text-sm font-medium text-gray-600 mb-1">Staff Name</label><select id="staff-name" class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select></div>
                                <div><label for="staff-earning" class="block text-sm font-medium text-gray-600 mb-1">Earning</label><input type="number" step="0.01" id="staff-earning" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 100" required></div>
                                <div><label for="staff-tip" class="block text-sm font-medium text-gray-600 mb-1">Tip</label><input type="number" step="0.01" id="staff-tip" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 20" required></div>
                                <div><button type="submit" class="w-full bg-pink-600 text-white font-bold py-3 px-6 rounded-full hover:bg-pink-700">Add Earning</button></div>
                            </form>
                            <div class="flex justify-between items-center mb-4">
                                <div id="tech-filter-container-earning" class="tech-filter-container flex gap-2 flex-wrap"><button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button></div>
                                <div class="flex items-center gap-2">
                                    <select id="earning-range-filter" class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                    <input type="date" id="earning-date-filter" class="p-2 border border-gray-300 rounded-lg">
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="staff-earning-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Staff Name</th>
                                            <th scope="col" class="px-6 py-3">Earning</th>
                                            <th scope="col" class="px-6 py-3">Tip</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot class="bg-gray-100 font-semibold">
                                        <tr>
                                            <td colspan="2" class="px-6 py-3 text-right">Total:</td>
                                            <td id="total-earning" class="px-6 py-3"></td>
                                            <td id="total-tip" class="px-6 py-3"></td>
                                            <td class="px-6 py-3"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>

                        <!-- Expense Report Content -->
                        <div id="expense-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Monthly Expense Report</h3>
                            <form id="add-expense-form" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-expense-id">
                                <div><label for="expense-date" class="block text-sm font-medium text-gray-600">Date</label><input type="date" id="expense-date" class="form-input w-full mt-1" required></div>
                                <div><label for="expense-name" class="block text-sm font-medium text-gray-600">Expense Name</label><input type="text" id="expense-name" class="form-input w-full mt-1" placeholder="e.g., Rent, Supplies" required></div>
                                <div><label for="expense-amount" class="block text-sm font-medium text-gray-600">Amount</label><input type="number" id="expense-amount" step="0.01" class="form-input w-full mt-1" placeholder="e.g., 1500.00" required></div>
                                <div><label for="expense-category" class="block text-sm font-medium text-gray-600">Category</label><select id="expense-category" class="form-select w-full mt-1"><option value="">Select Category</option></select></div>
                                <div><label for="expense-supplier" class="block text-sm font-medium text-gray-600">Supplier</label><select id="expense-supplier" class="form-select w-full mt-1"><option value="">Select Supplier</option></select></div>
                                <div><label for="expense-payment-account" class="block text-sm font-medium text-gray-600">Payment Account</label><select id="expense-payment-account" class="form-select w-full mt-1"><option value="">Select Account</option></select></div>
                                <div class="md:col-span-2"><label for="expense-attachment" class="block text-sm font-medium text-gray-600">Attachment</label><input type="file" id="expense-attachment" class="form-input w-full mt-1 text-sm"><div id="current-attachment-info" class="text-xs text-gray-500 mt-1"></div></div>
                                <div class="self-end flex gap-2">
                                    <button type="submit" id="add-expense-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add Expense</button>
                                    <button type="button" id="cancel-edit-expense-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>

                            <div class="flex justify-end items-center mb-4">
                                <label for="expense-month-filter" class="text-sm font-medium text-gray-700 mr-2">Filter by Month:</label>
                                <select id="expense-month-filter" class="form-select p-2 border border-gray-300 rounded-lg"></select>
                            </div>

                            <div class="overflow-x-auto">
                                <table id="expense-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Expense Name</th>
                                            <th scope="col" class="px-6 py-3">Category</th>
                                            <th scope="col" class="px-6 py-3">Supplier</th>
                                            <th scope="col" class="px-6 py-3">Paid Via</th>
                                            <th scope="col" class="px-6 py-3">Attachment</th>
                                            <th scope="col" class="px-6 py-3 text-right">Amount</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot class="bg-gray-100 font-semibold">
                                        <tr>
                                            <td colspan="6" class="px-6 py-3 text-right">Total:</td>
                                            <td id="total-expense" class="px-6 py-3 text-right"></td>
                                            <td class="px-6 py-3"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Clients List Content -->
                        <div id="clients-list-report-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <input type="text" id="search-clients-list" class="w-1/2 p-2 border border-gray-300 rounded-lg" placeholder="Search by client name...">
                                <div class="flex gap-2">
                                    <button id="create-new-client-btn" class="bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-700 transition-colors"><i class="fas fa-plus mr-2"></i>Create New</button>
                                    <input type="file" id="import-clients-input" class="hidden" accept=".xlsx, .xls">
                                    <button id="import-clients-btn" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors"><i class="fas fa-file-import mr-2"></i>Import</button>
                                    <button id="export-clients-btn" class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors"><i class="fas fa-file-export mr-2"></i>Export</button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="clients-list-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Phone</th>
                                            <th scope="col" class="px-6 py-3">Last Visit</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div id="admin-content" class="main-section hidden">
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="admin-sub-tabs">
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active" id="user-management-tab" type="button">User Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="inventory-management-tab" type="button">Inventory Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="inventory-report-tab" type="button">Inventory Report</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="service-management-tab" type="button">Service Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="nail-ideas-management-tab" type="button">Nail Ideas Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="gift-card-management-tab" type="button">Gift Card Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="promotions-management-tab" type="button">Promotions</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="settings-management-tab" type="button">Settings</button></li>
                            </ul>
                        </div>

                        <!-- User Management Content -->
                        <div id="user-management-content" class="sub-tab-content">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Users</h3>
                            <form id="add-user-form" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-user-id">
                                <div><label for="new-user-name" class="block text-sm font-medium text-gray-600">Name</label><input type="text" id="new-user-name" class="form-input w-full mt-1" required></div>
                                <div><label for="new-user-phone" class="block text-sm font-medium text-gray-600">Phone</label><input type="tel" id="new-user-phone" class="form-input w-full mt-1"></div>
                                <div><label for="new-user-email" class="block text-sm font-medium text-gray-600">Email</label><input type="email" id="new-user-email" class="form-input w-full mt-1" required></div>
                                <div><label for="new-user-password" class="block text-sm font-medium text-gray-600">Password</label><input type="password" id="new-user-password" class="form-input w-full mt-1" placeholder="Min. 6 characters"></div>
                                <div><label for="user-role" class="block text-sm font-medium text-gray-600">Role</label><select id="user-role" class="form-select w-full mt-1"><option value="technician">Technician</option><option value="staff">Staff</option><option value="admin">Admin</option></select></div>
                                <div class="self-end"><button type="submit" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add/Update User</button></div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="users-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th><th scope="col" class="px-6 py-3">Email</th><th scope="col" class="px-6 py-3">Phone</th><th scope="col" class="px-6 py-3">Role</th><th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Inventory Management Content -->
                        <div id="inventory-management-content" class="sub-tab-content hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-700">Manage Inventory</h3>
                                <button id="log-usage-btn" class="bg-purple-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-600"><i class="fas fa-dolly-flatbed mr-2"></i>Log Product Usage</button>
                            </div>
                            <form id="add-product-form" class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-product-id">
                                <div><label for="product-name" class="block text-sm font-medium text-gray-600">Product Name</label><input type="text" id="product-name" class="form-input w-full mt-1" required></div>
                                <div><label for="product-category" class="block text-sm font-medium text-gray-600">Category</label><input type="text" id="product-category" class="form-input w-full mt-1"></div>
                                <div><label for="product-supplier" class="block text-sm font-medium text-gray-600">Supplier</label><select id="product-supplier" class="form-select w-full mt-1"><option value="">Select Supplier</option></select></div>
                                <div><label for="product-quantity" class="block text-sm font-medium text-gray-600">Quantity</label><input type="number" id="product-quantity" class="form-input w-full mt-1" required></div>
                                <div><label for="product-price" class="block text-sm font-medium text-gray-600">Price Per Unit</label><input type="number" step="0.01" id="product-price" class="form-input w-full mt-1" required></div>
                                <div><label for="low-stock-alert" class="block text-sm font-medium text-gray-600">Low Stock Alert</label><input type="number" id="low-stock-alert" class="form-input w-full mt-1" value="10" required></div>
                                <div class="self-end flex gap-2 col-span-2">
                                    <button type="submit" id="add-product-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add Product</button>
                                    <button type="button" id="cancel-edit-product-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="inventory-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Product Name</th>
                                            <th scope="col" class="px-6 py-3">Category</th>
                                            <th scope="col" class="px-6 py-3">Supplier</th>
                                            <th scope="col" class="px-6 py-3 text-center">Quantity</th>
                                            <th scope="col" class="px-6 py-3 text-right">Price/Unit</th>
                                            <th scope="col" class="px-6 py-3 text-right">Total Price</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Inventory Report Content -->
                        <div id="inventory-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Inventory Reorder Suggestions</h3>
                            <p class="text-sm text-gray-600 mb-6">This report shows items that are below their low stock threshold and suggests reorder quantities based on usage in the last 30 days.</p>
                            <div class="overflow-x-auto">
                                <table id="inventory-report-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Product Name</th>
                                            <th scope="col" class="px-6 py-3 text-center">Current Qty</th>
                                            <th scope="col" class="px-6 py-3 text-center">Low Stock At</th>
                                            <th scope="col" class="px-6 py-3 text-center">Usage (Last 30d)</th>
                                            <th scope="col" class="px-6 py-3 text-center font-bold">Suggested Reorder</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Nail Ideas Management Content -->
                        <div id="nail-ideas-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Nail Ideas</h3>
                            <form id="add-nail-idea-form" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-nail-idea-id">
                                <div><label for="nail-idea-name" class="block text-sm font-medium text-gray-600">Image Name</label><input type="text" id="nail-idea-name" class="form-input w-full mt-1" required></div>
                                <div><label for="nail-idea-color" class="block text-sm font-medium text-gray-600">Color Code</label><input type="text" id="nail-idea-color" class="form-input w-full mt-1" placeholder="e.g., #FFC0CB, Red"></div>
                                <div><label for="nail-idea-shape" class="block text-sm font-medium text-gray-600">Nail Shape</label><input type="text" id="nail-idea-shape" class="form-input w-full mt-1" placeholder="e.g., Almond, Square"></div>
                                <div class="md:col-span-2"><label for="nail-idea-categories" class="block text-sm font-medium text-gray-600">Categories</label><input type="text" id="nail-idea-categories" class="form-input w-full mt-1" placeholder="e.g., minimalist, glitter, holiday (comma-separated)"></div>
                                <div class="md:col-span-3"><label for="nail-idea-image" class="block text-sm font-medium text-gray-600">Image</label><input type="file" id="nail-idea-image" class="form-input w-full mt-1 text-sm" accept="image/*"></div>
                                <div class="self-end flex gap-2">
                                    <button type="submit" id="add-nail-idea-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add Idea</button>
                                    <button type="button" id="cancel-edit-nail-idea-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="nail-ideas-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Image</th>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Shape</th>
                                            <th scope="col" class="px-6 py-3">Categories</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- JS will populate this -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Gift Card Management Content -->
                        <div id="gift-card-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Gift Card Sales</h3>
                            <div class="overflow-x-auto">
                                <table id="gift-cards-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Code</th>
                                            <th scope="col" class="px-6 py-3">Amount</th>
                                            <th scope="col" class="px-6 py-3">Recipient</th>
                                            <th scope="col" class="px-6 py-3">Sender</th>
                                            <th scope="col" class="px-6 py-3">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- JS will populate this -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Promotions Management Content -->
                        <div id="promotions-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Promotions</h3>
                            <form id="add-promotion-form" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-promotion-id">
                                <div class="md:col-span-2"><label for="promotion-title" class="block text-sm font-medium text-gray-600">Title</label><input type="text" id="promotion-title" class="form-input w-full mt-1" required></div>
                                <div class="md:col-span-2"><label for="promotion-description" class="block text-sm font-medium text-gray-600">Description</label><textarea id="promotion-description" rows="2" class="form-input w-full mt-1" required></textarea></div>
                                <div><label for="promotion-start-date" class="block text-sm font-medium text-gray-600">Start Date</label><input type="date" id="promotion-start-date" class="form-input w-full mt-1" required></div>
                                <div><label for="promotion-end-date" class="block text-sm font-medium text-gray-600">End Date</label><input type="date" id="promotion-end-date" class="form-input w-full mt-1" required></div>
                                <div class="md:col-span-2 self-end flex gap-2">
                                    <button type="submit" id="add-promotion-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add Promotion</button>
                                    <button type="button" id="cancel-edit-promotion-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="promotions-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Title</th>
                                            <th scope="col" class="px-6 py-3">Description</th>
                                            <th scope="col" class="px-6 py-3">Duration</th>
                                            <th scope="col" class="px-6 py-3">Status</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Settings Management Content -->
                        <div id="settings-management-content" class="sub-tab-content hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <!-- General Settings -->
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">General Settings</h3>
                                    <form id="settings-form" class="p-4 border rounded-lg bg-gray-50 mb-6 space-y-4">
                                        <div>
                                            <label for="min-booking-hours" class="block text-sm font-medium text-gray-600">Minimum Booking Notice (in hours)</label>
                                            <input type="number" id="min-booking-hours" class="form-input w-full md:w-1/3 mt-1" placeholder="e.g., 2" required>
                                            <p class="text-xs text-gray-500 mt-1">Set the minimum number of hours in advance a client can book an appointment.</p>
                                        </div>
                                         <div class="border-t pt-4">
                                            <h4 class="font-semibold text-gray-800 mb-2">Login Security</h4>
                                            <div>
                                                <label for="max-login-attempts" class="block text-sm font-medium text-gray-600">Max Login Attempts</label>
                                                <input type="number" id="max-login-attempts" class="form-input w-full md:w-1/3 mt-1" value="5" required>
                                                <p class="text-xs text-gray-500 mt-1">Number of failed login attempts before lockout.</p>
                                            </div>
                                            <div class="mt-4">
                                                <label for="login-lockout-minutes" class="block text-sm font-medium text-gray-600">Login Lockout Duration (in minutes)</label>
                                                <input type="number" id="login-lockout-minutes" class="form-input w-full md:w-1/3 mt-1" value="15" required>
                                                <p class="text-xs text-gray-500 mt-1">How long to disable login after too many failures.</p>
                                            </div>
                                        </div>
                                        <div class="text-right"><button type="submit" class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save Settings</button></div>
                                    </form>

                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Frontend Feature Management</h3>
                                    <div id="feature-toggles-form" class="p-4 border rounded-lg bg-gray-50 space-y-4">
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Enable Client Registration</span>
                                            <label for="toggle-client-login" class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-client-login" class="sr-only peer">
                                                <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600"></div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Promotions Section</span>
                                            <label for="toggle-promotions" class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-promotions" class="sr-only peer">
                                                <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600"></div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Gift Card Section</span>
                                            <label for="toggle-gift-card" class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-gift-card" class="sr-only peer">
                                                <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600"></div>
                                            </label>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-medium text-gray-900">Show Nail Art Gallery</span>
                                            <label for="toggle-nails-idea" class="relative inline-flex items-center cursor-pointer">
                                                <input type="checkbox" id="toggle-nails-idea" class="sr-only peer">
                                                <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-pink-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600"></div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- Expense Settings -->
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Expense Settings</h3>
                                    <div class="space-y-6">
                                        <!-- Manage Categories -->
                                        <div class="p-4 border rounded-lg bg-gray-50">
                                            <h4 class="font-semibold mb-2">Manage Categories</h4>
                                            <form id="add-expense-category-form" class="flex gap-2 mb-2"><input type="text" id="new-expense-category-name" class="form-input w-full" placeholder="New category name" required><button type="submit" class="bg-blue-500 text-white px-4 rounded-lg">Add</button></form>
                                            <div id="expense-categories-list" class="text-sm max-h-32 overflow-y-auto"></div>
                                        </div>
                                        <!-- Manage Payment Accounts -->
                                        <div class="p-4 border rounded-lg bg-gray-50">
                                            <h4 class="font-semibold mb-2">Manage Payment Accounts</h4>
                                            <form id="add-payment-account-form" class="flex gap-2 mb-2"><input type="text" id="new-payment-account-name" class="form-input w-full" placeholder="New account name" required><button type="submit" class="bg-blue-500 text-white px-4 rounded-lg">Add</button></form>
                                            <div id="payment-accounts-list" class="text-sm max-h-32 overflow-y-auto"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Manage Suppliers -->
                            <div class="mt-8">
                                <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Suppliers</h3>
                                <form id="add-supplier-form" class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                    <input type="hidden" id="edit-supplier-id">
                                    <div><label for="supplier-name" class="block text-sm font-medium">Name</label><input type="text" id="supplier-name" class="form-input w-full mt-1" required></div>
                                    <div><label for="supplier-phone" class="block text-sm font-medium">Phone</label><input type="tel" id="supplier-phone" class="form-input w-full mt-1"></div>
                                    <div><label for="supplier-email" class="block text-sm font-medium">Email</label><input type="email" id="supplier-email" class="form-input w-full mt-1"></div>
                                    <div><label for="supplier-website" class="block text-sm font-medium">Website</label><input type="url" id="supplier-website" class="form-input w-full mt-1"></div>
                                    <div class="flex gap-2"><button type="submit" id="add-supplier-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg">Add Supplier</button><button type="button" id="cancel-edit-supplier-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hidden">Cancel</button></div>
                                </form>
                                <div class="overflow-x-auto">
                                    <table id="suppliers-table" class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50"><tr><th class="px-6 py-3">Name</th><th class="px-6 py-3">Phone</th><th class="px-6 py-3">Email</th><th class="px-6 py-3">Website</th><th class="px-6 py-3 text-center">Action</th></tr></thead><tbody></tbody></table>
                                </div>
                            </div>
                        </div>

                        <!-- Service Management Content -->
                        <div id="service-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Services</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <form id="add-category-form" class="p-4 border rounded-lg bg-gray-50 mb-6">
                                        <label for="new-category-name" class="block text-sm font-medium text-gray-600">New Category Name</label>
                                        <div class="flex gap-2 mt-1">
                                            <input type="text" id="new-category-name" class="form-input w-full" required>
                                            <button type="submit" class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add</button>
                                        </div>
                                    </form>
                                    <div id="service-categories-admin" class="space-y-4"></div>
                                </div>
                                <div id="edit-service-section" class="p-4 border rounded-lg bg-gray-50 hidden">
                                    <h4 id="edit-service-title" class="text-lg font-semibold mb-3">Add/Edit Service</h4>
                                    <form id="add-service-form" class="space-y-3">
                                        <input type="hidden" id="edit-category-id"><input type="hidden" id="edit-service-index">
                                        <div><label for="service-prefix" class="block text-sm font-medium text-gray-600">Prefix (Optional)</label><input type="text" id="service-prefix" class="form-input w-full mt-1" placeholder="e.g., Gel Polish - "></div>
                                        <div><label for="service-name" class="block text-sm font-medium text-gray-600">Service Name</label><input type="text" id="service-name" class="form-input w-full mt-1" required></div>
                                        <div><label for="service-price" class="block text-sm font-medium text-gray-600">Price</label><input type="text" id="service-price" class="form-input w-full mt-1" placeholder="e.g., $50"></div>
                                        <div class="text-right"><button type="submit" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Save Service</button></div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="bg-white mt-8">
             <div class="container mx-auto max-w-7xl p-4 flex justify-between items-center text-sm text-gray-500">
                <div>Design with ❤️ by Nails Express</div>
                <div>&copy; <span id="copyright-year"></span> Nails Express. All rights reserved.</div>
             </div>
        </footer>

        <button id="floating-booking-btn" class="fixed bottom-6 right-6 bg-pink-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-2xl hover:bg-pink-700 transition-colors z-40">
            <i class="fas fa-plus"></i>
        </button>

        <div id="service-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 modal-overlay"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="modal-title" class="text-2xl font-bold text-pink-700 mb-4">Select Services</h3>
                <div id="modal-content" class="space-y-3 max-h-96 overflow-y-auto"></div>
                <div class="mt-6 text-right">
                    <button id="modal-done-btn" type="button" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Done</button>
                </div>
            </div>
        </div>

        <div id="checkout-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 checkout-modal-overlay"></div>
            <form id="checkout-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Client Feedback</h3>
                <input type="hidden" id="checkout-client-id">
                <div class="space-y-4">
                     <div>
                        <label for="color-code" class="block text-sm font-medium text-gray-600">What color code did you choose today?</label>
                        <input type="text" id="color-code" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg">
                    </div>
                     <div>
                        <label for="technician-name-select" class="block text-sm font-medium text-gray-600">Who provided your service today?</label>
                        <select id="technician-name-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                            <option>Any Technician</option>
                        </select>
                         <input type="text" id="technician-name-other" class="form-input w-full p-2 mt-2 border border-gray-300 rounded-lg hidden" placeholder="Enter technician name">
                    </div>
                     <div>
                        <label for="rebook-select" class="block text-sm font-medium text-gray-600">Next Appointment?</label>
                        <select id="rebook-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                            <option value="no">No, thanks</option>
                            <option value="2w">2 Weeks</option>
                            <option value="3w">3 Weeks</option>
                            <option value="other">Pick date</option>
                        </select>
                        <input type="datetime-local" id="rebook-other-input" class="form-input w-full p-2 mt-2 border border-gray-300 rounded-lg hidden">
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-3">
                    <button type="button" id="checkout-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                    <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Submit & Check Out</button>
                </div>
            </form>
        </div>

        <div id="view-detail-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 view-detail-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="view-detail-title" class="text-2xl font-bold text-pink-700 mb-6"></h3>
                <div id="view-detail-content" class="space-y-4"></div>
                <div id="view-detail-actions" class="mt-6 flex justify-end gap-3">
                    <button type="button" id="view-detail-close-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
                </div>
            </div>
        </div>

        <div id="policy-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 policy-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Salon Policy</h3>
                <div class="prose max-w-none max-h-96 overflow-y-auto text-gray-600">
                    <p>To ensure a pleasant experience for all our clients, we kindly request your observance of the following policies:</p>
                    <h4>1. Appointments</h4><p>We encourage booking appointments in advance via phone or our online system to secure your preferred time and technician. Walk-ins are welcome but are subject to availability.</p>
                    <h4>2. Cancellations & No-Shows</h4><p>We understand that schedules can change. Please provide at least 24 hours' notice for any cancellations. Cancellations with less than 24 hours' notice or no-shows may be subject to a fee on your next visit.</p>
                    <h4>3. Late Arrivals</h4><p>To ensure our technicians have enough time to provide high-quality service, we may need to shorten your service or reschedule your appointment if you arrive more than 15 minutes late.</p>
                    <h4>4. Technician Requests</h4><p>You may request a specific technician when booking your appointment. We will do our best to accommodate your request, but we cannot guarantee availability.</p>
                    <h4>5. Pricing and Service Adjustments</h4><p>Prices for services are based on standard nail length and condition. Prices may be adjusted for extra-long nails, complex designs, or additional preparation work required. Your technician will consult with you before any price changes are made.</p>
                    <h4>6. Refunds & Service Guarantee</h4><p>We take pride in our work. If you are not satisfied with your service, please let us know before you leave the salon. We offer a 7-day guarantee for gel polish and acrylic services and will happily fix any issues within this period. We do not offer monetary refunds for services rendered.</p>
                    <h4>7. Right to Refuse Service</h4><p>For the safety and well-being of our clients and staff, we reserve the right to refuse service to anyone with a nail condition we suspect may be contagious, or for any behavior we deem inappropriate.</p>
                    <p>Thank you for your understanding and cooperation!</p>
                </div>
                <div class="mt-6 text-right"><button type="button" id="policy-close-btn" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Close</button></div>
            </div>
        </div>

        <div id="add-appointment-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 add-appointment-modal-overlay"></div>
            <form id="add-appointment-form" class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Add New Appointment</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto pr-2">
                    <div><label for="appointment-client-name" class="block text-sm font-medium text-gray-600">Client Name</label><input type="text" id="appointment-client-name" list="client-names-list" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required><datalist id="client-names-list"></datalist></div>
                    <div><label for="appointment-phone" class="block text-sm font-medium text-gray-600">Phone</label><input type="tel" id="appointment-phone" list="appointment-client-phones" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"><datalist id="appointment-client-phones"></datalist></div>
                    <div><label for="appointment-people" class="block text-sm font-medium text-gray-600">Group Size</label><select id="appointment-people" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"></select></div>
                    <div><label for="appointment-booking-type" class="block text-sm font-medium text-gray-600">Booking Type</label><select id="appointment-booking-type" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"><option>Booked - Calendar</option><option value="Phone">Phone</option><option value="Online">Online</option></select></div>
                    <div><label for="appointment-services" class="block text-sm font-medium text-gray-600">Services</label><input type="text" id="appointment-services" list="main-services-list" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" placeholder="Select or type a service..."><datalist id="main-services-list"></datalist></div>
                    <div><label for="appointment-technician-select" class="block text-sm font-medium text-gray-600">Technician Request</label><select id="appointment-technician-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"><option>Any Technician</option></select></div>
                    <div class="md:col-span-2"><label for="appointment-datetime" class="block text-sm font-medium text-gray-600">Date & Time</label><input type="datetime-local" id="appointment-datetime" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required></div>
                    <div class="md:col-span-2"><label for="appointment-notes" class="block text-sm font-medium text-gray-600">Notes</label><textarea id="appointment-notes" rows="2" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"></textarea></div>
                </div>
                <div class="mt-8 text-center"><label class="flex items-center justify-center"><input type="checkbox" id="appointment-policy-agree" class="form-checkbox" checked required><span class="ml-2 text-sm text-gray-600">I agree to the <button type="button" class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon Policy</button>.</span></label></div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="add-appointment-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Appointment</button></div>
            </form>
        </div>

        <div id="edit-earning-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 edit-earning-modal-overlay"></div>
            <form id="edit-earning-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Earning</h3><input type="hidden" id="edit-earning-id">
                <div class="space-y-4">
                    <div><label for="edit-staff-earning-date" class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date" id="edit-staff-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div><label for="edit-staff-name" class="block text-sm font-medium text-gray-600 mb-1">Staff Name</label><select id="edit-staff-name" class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select></div>
                    <div><label for="edit-staff-earning" class="block text-sm font-medium text-gray-600 mb-1">Earning</label><input type="number" step="0.01" id="edit-staff-earning" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div><label for="edit-staff-tip" class="block text-sm font-medium text-gray-600 mb-1">Tip</label><input type="number" step="0.01" id="edit-staff-tip" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                </div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-earning-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Changes</button></div>
            </form>
        </div>

        <div id="edit-salon-earning-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 edit-salon-earning-modal-overlay"></div>
            <form id="edit-salon-earning-form" class="relative bg-white w-full max-w-4xl p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Salon Earning</h3><input type="hidden" id="edit-salon-earning-id">
                <div class="space-y-6">
                    <div><label for="edit-salon-earning-date" class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date" id="edit-salon-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div id="edit-salon-earning-inputs" class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end"></div>
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                        <div><label for="edit-sell-gift-card" class="block text-sm font-medium text-gray-600">Sell Gift Card</label><input type="number" step="0.01" id="edit-sell-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-return-gift-card" class="block text-sm font-medium text-gray-600">Return Gift Card</label><input type="number" step="0.01" id="edit-return-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-check-payment" class="block text-sm font-medium text-gray-600">Check</label><input type="number" step="0.01" id="edit-check-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-no-of-credit" class="block text-sm font-medium text-gray-600">No. of Credit</label><input type="number" id="edit-no-of-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Count"></div>
                        <div><label for="edit-total-credit" class="block text-sm font-medium text-gray-600">Total Credit</label><input type="number" step="0.01" id="edit-total-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-venmo-payment" class="block text-sm font-medium text-gray-600">Venmo</label><input type="number" step="0.01" id="edit-venmo-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-square-payment" class="block text-sm font-medium text-gray-600">Square</label><input type="number" step="0.01" id="edit-square-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-salon-earning-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Changes</button></div>
            </form>
        </div>

        <div id="client-form-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 client-form-modal-overlay"></div>
            <form id="client-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="client-form-title" class="text-2xl font-bold text-pink-700 mb-6">Client Information</h3>
                <input type="hidden" id="edit-client-id">
                <div class="space-y-4">
                    <div>
                        <label for="client-form-name" class="block text-sm font-medium text-gray-600 mb-1">Client Name</label>
                        <input type="text" id="client-form-name" class="form-input w-full p-3 border border-gray-300 rounded-lg" required>
                    </div>
                    <div>
                        <label for="client-form-phone" class="block text-sm font-medium text-gray-600 mb-1">Phone Number</label>
                        <input type="tel" id="client-form-phone" class="form-input w-full p-3 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label for="client-form-dob" class="block text-sm font-medium text-gray-600 mb-1">Date of Birth</label>
                        <input type="date" id="client-form-dob" class="form-input w-full p-3 border border-gray-300 rounded-lg">
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-3">
                    <button type="button" id="client-form-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                    <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Client</button>
                </div>
            </form>
        </div>
        
        <div id="gemini-sms-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 gemini-sms-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Generated SMS Message</h3>
                <div id="gemini-sms-content" class="space-y-4"><textarea id="gemini-sms-textarea" rows="5" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" placeholder="Generating message..."></textarea></div>
                <div class="mt-6 flex justify-end gap-3">
                    <a id="gemini-sms-send-link" href="#" target="_blank" class="bg-green-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-green-600"><i class="fas fa-paper-plane mr-2"></i>Open in Messages</a>
                    <button type="button" id="gemini-sms-close-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
                </div>
            </div>
        </div>
        
        <div id="confirm-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 confirm-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-sm p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-lg font-bold text-gray-800 mb-4">Are you sure?</h3>
                <p id="confirm-modal-message" class="text-gray-600 mb-6"></p>
                <div class="flex justify-end gap-3"><button type="button" id="confirm-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="button" id="confirm-confirm-btn" class="bg-red-600 text-white font-semibold py-2 px-6 rounded-lg">Delete</button></div>
            </div>
        </div>

        <div id="log-usage-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 log-usage-modal-overlay"></div>
            <form id="log-usage-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Log Inventory Usage</h3>
                <div class="space-y-4">
                    <div>
                        <label for="log-usage-product-select" class="block text-sm font-medium text-gray-600 mb-1">Product</label>
                        <select id="log-usage-product-select" class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select>
                    </div>
                    <div>
                        <label for="log-usage-quantity" class="block text-sm font-medium text-gray-600 mb-1">Quantity Used</label>
                        <input type="number" id="log-usage-quantity" class="form-input w-full p-3 border border-gray-300 rounded-lg" min="1" required>
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-3">
                    <button type="button" id="log-usage-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                    <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Log Usage</button>
                </div>
            </form>
        </div>

        <div id="share-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 share-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-sm p-6 rounded-2xl shadow-xl m-4 text-center">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Share this Design</h3>
                <div class="flex justify-center gap-4 text-4xl">
                    <a href="#" id="share-facebook" target="_blank" class="text-blue-600 hover:text-blue-800"><i class="fab fa-facebook-square"></i></a>
                    <a href="#" id="share-pinterest" target="_blank" class="text-red-600 hover:text-red-800"><i class="fab fa-pinterest-square"></i></a>
                    <a href="#" id="share-twitter" target="_blank" class="text-blue-400 hover:text-blue-600"><i class="fab fa-twitter-square"></i></a>
                    <button id="share-copy-link" class="text-gray-600 hover:text-gray-800"><i class="fas fa-link"></i></button>
                </div>
                <div class="mt-6">
                    <button type="button" id="share-close-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
                </div>
            </div>
        </div>

    </div>
 <script  type="module" src="script.js"></script>
</body>
</html>
