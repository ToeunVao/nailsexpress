<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nail Express</title>
 
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d63384">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <link rel="stylesheet" href="style.css">

   
</head>
<body class="bg-gray-100">

    <!-- Loading Screen (Visible initially) -->
    <div id="loading-screen" class="fixed inset-0 z-[100] flex items-center justify-center bg-white">
        <h2 class="text-3xl font-bold text-pink-700">Loading Nail Express...</h2>
    </div>

    <!-- Login/Landing Page Content (Hidden initially) -->
    <div id="landing-page-content" style="display: none;">
        <!-- Header -->
        <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <div class="text-2xl font-bold text-pink-700 tracking-wider"><a href="#">NAIL EXPRESS</a></div>
                <nav class="hidden md:flex space-x-8 text-sm font-semibold text-gray-600">
                    <a href="#booking-landing" class="hover:text-pink-600">Booking</a>
                    <a href="#about-landing" class="hover:text-pink-600">About Us</a>
                    <a href="#contact-landing" class="hover:text-pink-600">Contact Us</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <button id="user-icon" class="text-gray-600 hover:text-pink-600 flex items-center space-x-2 text-sm font-semibold">
                        <i class="fas fa-user"></i>
                        <span>Log In</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero-section-new relative">
            <div class="hero-overlay-new w-full h-full">
                <div class="container mx-auto px-6 py-24 md:py-32 flex items-center">
                    <div class="text-left md:w-1/2">
                        <h1 class="text-5xl md:text-7xl font-bold text-pink-700 leading-tight">Elegance at<br>Your Fingertips</h1>
                        <p class="mt-4 text-gray-600 max-w-md">
                            Experience elegance at its finest with our nail art creations. From delicate patterns to intricate details, our salon ensures that sophistication is just a brushstroke away.
                        </p>
                        <div class="mt-8 flex justify-start items-center space-x-6">
                             <a href="https://www.facebook.com/profile.php?id=61566760681750" target="_blank" class="text-gray-600 hover:text-pink-600 transition-colors">
                                <i class="fab fa-facebook fa-2x"></i>
                            </a>
                            <a href="https://youtube.com/@NailExpressKY" target="_blank" class="text-gray-600 hover:text-pink-600 transition-colors">
                                <i class="fab fa-youtube fa-2x"></i>
                            </a>
                            <a href="https://www.tiktok.com/@nailsexpressky" target="_blank" class="text-gray-600 hover:text-pink-600 transition-colors">
                                <i class="fab fa-tiktok fa-2x"></i>
                            </a>
                        </div>
                        <div class="mt-6 flex justify-start space-x-4">
                            <a href="#booking-landing" class="bg-pink-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-pink-700 transition-colors">
                                Book your appointment now
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="booking-landing" class="py-20">
            <div class="container mx-auto px-6">
                <div class="bg-white p-8 md:p-12 rounded-2xl shadow-2xl max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold text-center text-pink-700 mb-2">Book a New Appointment</h2>
                    <p class="text-center text-gray-600 mb-8">Your moment of relaxation is just a few clicks away.</p>
                    <form id="add-appointment-form-landing" class="relative">
                        
                        <!-- Step 1: Your Information -->
                        <div id="booking-step-1">
                            <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Step 1: Your Information</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div><label for="appointment-client-name-landing" class="block text-sm font-medium text-gray-600">Client Name</label><input type="text" id="appointment-client-name-landing" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="e.g., Jane Doe" required></div>
                                <div><label for="appointment-phone-landing" class="block text-sm font-medium text-gray-600">Phone</label><input type="tel" id="appointment-phone-landing" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="(555) 123-4567"></div>
                                <div><label for="appointment-people-landing" class="block text-sm font-medium text-gray-600">Group Size</label><select id="appointment-people-landing" class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg"></select></div>
                                <div><label for="appointment-technician-select-landing" class="block text-sm font-medium text-gray-600">Technician Request</label><select id="appointment-technician-select-landing" class="form-select w-full p-3 mt-1 border border-gray-300 rounded-lg"><option>Any Technician</option></select></div>
                                <div class="md:col-span-2"><label for="appointment-datetime-landing" class="block text-sm font-medium text-gray-600">Date & Time</label><input type="datetime-local" id="appointment-datetime-landing" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" required></div>
                                <div class="md:col-span-2"><label for="appointment-notes-landing" class="block text-sm font-medium text-gray-600">Notes (optional)</label><textarea id="appointment-notes-landing" rows="2" class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Any special requests or notes?"></textarea></div>
                            </div>
                            <div class="mt-8 text-center">
                                <button type="button" id="booking-next-btn" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105">Next: Select Services</button>
                            </div>
                        </div>

                        <!-- Step 2: Select Services -->
                        <div id="booking-step-2" class="hidden">
                             <div class="flex justify-between items-center border-b pb-3 mb-6">
                                <h3 class="text-xl font-semibold text-gray-700">Step 2: Select Your Services</h3>
                            </div>
                            <div id="services-container-landing" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <!-- Category buttons will be injected here -->
                            </div>
                            <div id="hidden-checkbox-container-landing" class="hidden">
                                <!-- Hidden checkboxes will be injected here -->
                            </div>
                            <div class="mt-8 text-center">
                                <label class="flex items-center justify-center">
                                    <input type="checkbox" id="appointment-policy-agree-landing" class="form-checkbox" checked required>
                                    <span class="ml-2 text-sm text-gray-600">I agree to the <button type="button" class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon Policy</button>.</span>
                                </label>
                            </div>
                            <div class="mt-6 flex justify-center gap-4">
                                <button type="button" id="booking-prev-btn" class="w-full md:w-auto bg-gray-300 text-gray-800 font-bold py-3 px-12 rounded-full hover:bg-gray-400">Previous</button>
                                <button type="submit" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105">Save Appointment</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- About Us Section -->
        <section id="about-landing" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Your Sanctuary for Beauty & Relaxation</h2>
                <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed">Welcome to Nail Express, your personal retreat for beauty and wellness in Danville. Our passionate team is dedicated to providing exceptional service in a clean, serene, and friendly environment.</p>
                <p class="text-gray-600 max-w-3xl mx-auto mt-4 leading-relaxed">From classic manicures to luxurious spa pedicures, we use only high-quality products to ensure lasting results. Treat yourself to our signature pedicure experience that will leave you walking on air.</p>
            </div>
        </section>

        <!-- Contact Us Section -->
        <section id="contact-landing" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4 text-pink-700">Get In Touch</h2>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-12">
                    <div class="flex items-center"><i class="fas fa-map-marker-alt fa-2x text-pink-600 mr-4"></i><div><h4 class="font-semibold">Our Address</h4><p>1560 Hustonville Rd #345, Danville, KY 40422</p></div></div>
                    <div class="flex items-center"><i class="fas fa-phone fa-2x text-pink-600 mr-4"></i><div><h4 class="font-semibold">Call Us</h4><p>(859) 236-2873</p></div></div>
                    <div class="flex items-center"><i class="fas fa-envelope fa-2x text-pink-600 mr-4"></i><div><h4 class="font-semibold">Email Us</h4><p>nailsexpressky@gmail.com</p></div></div>
                </div>
            </div>
        </section>

        <!-- Login Modal -->
        <div id="login-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center">
            <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-md p-8 rounded-2xl shadow-xl m-4">
                <button id="close-login-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800"><i class="fas fa-times fa-lg"></i></button>
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">Admin Login</h2>
                <form id="landing-login-form" class="space-y-6">
                    <div>
                        <label for="landing-email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="landing-email" name="email" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Enter your email">
                    </div>
                    <div>
                        <label for="landing-password" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="landing-password" name="password" required class="form-input w-full p-3 mt-1 border border-gray-300 rounded-lg" placeholder="Enter your password">
                    </div>
                    <div>
                        <button type="submit" id="landing-login-btn" class="w-full bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transform hover:scale-105 flex items-center justify-center">
                            <span class="btn-text">Log In</span>
                            <i class="fas fa-spinner fa-spin ml-2 hidden"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Landing Page Service Menu Modal -->
        <div id="landing-service-modal" class="modal hidden fixed inset-0 z-50 items-center justify-center">
            <div class="landing-service-modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
                <div class="flex justify-between items-center border-b pb-4 mb-4">
                    <h3 id="landing-service-modal-title" class="text-2xl font-bold text-pink-700">Our Menu</h3>
                    <button id="close-landing-service-modal-btn" class="text-gray-500 hover:text-gray-800"><i class="fas fa-times fa-lg"></i></button>
                </div>
                <div id="landing-service-modal-content" class="space-y-2 max-h-[70vh] overflow-y-auto pr-4">
                    <!-- Dynamic service items will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Landing Page Booking Service Modal -->
        <div id="landing-booking-service-modal" class="modal hidden fixed inset-0 z-[60] items-center justify-center">
            <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="landing-booking-modal-title" class="text-2xl font-bold text-pink-700 mb-4">Select Services</h3>
                <div id="landing-booking-service-modal-content" class="space-y-3 max-h-96 overflow-y-auto"></div>
                <div class="mt-6 text-right">
                    <button id="landing-booking-service-modal-done-btn" type="button" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Done</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Check-in App Content (Hidden initially) -->
    <div id="app-content" style="display: none;">
        <header class="bg-white shadow-md">
            <div class="container mx-auto max-w-7xl p-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <div id="logo-link" class="cursor-pointer">
                        <h1 class="text-2xl font-bold text-pink-700">Nails Express</h1>
                        <p class="text-sm text-gray-500">Nails salon & Spa</p>
                    </div>
                    <div id="notification-bell" class="relative cursor-pointer">
                        <i class="fas fa-bell text-xl text-gray-600"></i>
                        <span id="notification-count" class="notification-badge">0</span>
                        <div id="notification-dropdown" class="notification-dropdown hidden">
                            <!-- Notifications will be inserted here -->
                        </div>
                    </div>
                </div>
                <div class="text-center hidden md:block">
                     <h2 id="header-title" class="text-3xl font-bold text-gray-800">Dashboard</h2>
                </div>
                <div class="text-right flex items-center gap-4">
                    <div>
                        <div id="live-clock" class="clock text-3xl font-bold text-gray-800"></div>
                        <div id="live-date" class="text-sm text-gray-500"></div>
                    </div>
                    <button id="sign-out-btn" class="bg-pink-100 text-pink-700 font-semibold py-2 px-4 rounded-lg hover:bg-pink-200 transition-colors">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <main class="container mx-auto max-w-7xl p-4 sm:p-6 lg:p-8">
            <!-- DASHBOARD CONTENT -->
            <div id="dashboard-content">
                <div class="flex justify-end items-center mb-6">
                    <label for="dashboard-date-filter" class="text-sm font-medium text-gray-700 mr-2">Date Range:</label>
                    <select id="dashboard-date-filter" class="form-select p-2 border border-gray-300 rounded-lg">
                        <option value="today">Today</option>
                        <option value="this_week">This Week</option>
                        <option value="this_month" selected>This Month</option>
                        <option value="this_year">This Year</option>
                    </select>
                </div>

                <!-- Summary Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card bg-pink-100">
                        <h4 class="font-bold text-pink-800">Total Bookings</h4>
                        <p id="total-bookings-card" class="text-3xl font-bold text-pink-600">0</p>
                    </div>
                    <div class="dashboard-card bg-green-100">
                        <h4 class="font-bold text-green-800">Total Revenue</h4>
                        <p id="total-revenue-card" class="text-3xl font-bold text-green-600">$0</p>
                    </div>
                    <div class="dashboard-card bg-yellow-100">
                        <h4 class="font-bold text-yellow-800">Low Stock Items</h4>
                        <p id="low-stock-card" class="text-3xl font-bold text-yellow-600">0</p>
                    </div>
                    <div class="dashboard-card bg-blue-100">
                        <h4 class="font-bold text-blue-800">Top Technician</h4>
                        <p id="top-technician-card" class="text-xl font-bold text-blue-600">-</p>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Booking Trends</h3>
                        <canvas id="bookings-chart"></canvas>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Top Services</h3>
                        <canvas id="services-chart"></canvas>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg lg:col-span-2">
                        <h3 class="text-xl font-bold text-gray-700 mb-4">Technician Earnings</h3>
                        <canvas id="earnings-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- MAIN APP CONTAINER -->
            <div id="main-app-container" class="hidden">
                <div class="mb-4 border-b border-gray-200 bg-white rounded-t-2xl shadow-md p-2">
                    <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="main-tabs">
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg active" id="check-in-tab" type="button">Check In</button></li>
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="queue-tab" type="button">Active Queue <span id="active-count" class="ml-2 bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="processing-tab" type="button">Processing <span id="processing-count" class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="finished-tab" type="button">Finished Clients <span id="finished-count" class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="calendar-tab" type="button">Clients Booking <span id="calendar-count" class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                        <li class="mr-2"><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="clients-list-tab" type="button">Clients List <span id="clients-list-count" class="ml-2 bg-gray-200 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button></li>
                        <li><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="reports-tab" type="button">Reports</button></li>
                        <li><button class="tab-btn inline-block p-4 border-b-2 rounded-t-lg" id="admin-tab" type="button">Admin</button></li>
                    </ul>
                </div>

                <div class="bg-white p-6 sm:p-8 rounded-b-2xl shadow-xl">
                    <div id="check-in-content" class="tab-content">
                        <form id="check-in-form">
                            <div class="space-y-8">
                                 <div>
                                    <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6">Your Information</h3>
                                    <div class="grid grid-cols-2 md:grid-cols-5 gap-6">
                                        <div class="col-span-2 md:col-span-1">
                                            <label for="full-name" class="block text-sm font-medium text-gray-600 mb-1">Full Name</label>
                                            <input type="text" id="full-name" list="checkin-client-names" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., Jane Doe" required>
                                            <datalist id="checkin-client-names"></datalist>
                                        </div>
                                        <div class="col-span-2 md:col-span-1">
                                            <label for="phone-number" class="block text-sm font-medium text-gray-600 mb-1">Phone</label>
                                            <input type="tel" id="phone-number" list="checkin-client-phones" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="(555) 123-4567">
                                            <datalist id="checkin-client-phones"></datalist>
                                        </div>
                                        <div>
                                            <label for="checkin-technician-select" class="block text-sm font-medium text-gray-600 mb-1">Technician</label>
                                            <select id="checkin-technician-select" class="form-select w-full p-3 border border-gray-300 rounded-lg">
                                                <option>Any Technician</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label for="people-count" class="block text-sm font-medium text-gray-600 mb-1">Group Size</label>
                                            <select id="people-count" class="form-select w-full p-3 border border-gray-300 rounded-lg"></select>
                                        </div>
                                        <div>
                                            <label for="booking-type" class="block text-sm font-medium text-gray-600 mb-1">Booking Type</label>
                                            <select id="booking-type" class="form-select w-full p-3 border border-gray-300 rounded-lg">
                                                <option>Walk-in</option>
                                                <option value="Phone">Phone</option>
                                                <option value="Online">Online</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between items-center border-b pb-3 mb-6">
                                        <h3 class="text-xl font-semibold text-gray-700">Select Your Services</h3>
                                    </div>
                                    <div id="services-container" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
                                    <div id="hidden-checkbox-container" class="hidden"></div>
                                </div>
                            </div>
                             <div class="mt-8 text-center">
                                 <label class="flex items-center justify-center">
                                    <input type="checkbox" id="policy-agree" class="form-checkbox" checked required>
                                    <span class="ml-2 text-sm text-gray-600">I agree to the <button type="button" class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon Policy</button>.</span>
                                </label>
                            </div>
                            <div class="mt-4 text-center">
                                <button type="submit" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700 transition-all duration-300 transform hover:scale-105">
                                    <i class="fas fa-check mr-2"></i> Check In
                                </button>
                            </div>
                        </form>
                    </div>

                    <div id="queue-content" class="tab-content hidden">
                        <div class="flex justify-between items-center mb-4">
                            <input type="text" id="search-active" class="w-64 p-2 border border-gray-300 rounded-lg" placeholder="Search active clients by name...">
                            <div id="tech-filter-container-active" class="tech-filter-container flex gap-2">
                                 <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                 <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table id="clients-table" class="w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-center">No.</th>
                                        <th scope="col" class="px-6 py-3">Name</th>
                                        <th scope="col" class="px-6 py-3">Services</th>
                                        <th scope="col" class="px-6 py-3 text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div id="processing-content" class="tab-content hidden">
                         <div class="flex justify-between items-center mb-4">
                            <input type="text" id="search-processing" class="w-64 p-2 border border-gray-300 rounded-lg" placeholder="Search processing clients by name...">
                            <div id="tech-filter-container-processing" class="tech-filter-container flex gap-2">
                                 <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                 <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table id="processing-table" class="w-full text-sm text-left text-gray-600">
                                 <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-center">No.</th>
                                        <th scope="col" class="px-6 py-3">Name</th>
                                        <th scope="col" class="px-6 py-3">Services</th>
                                        <th scope="col" class="px-6 py-3">Technician</th>
                                        <th scope="col" class="px-6 py-3">Check-in Time</th>
                                        <th scope="col" class="px-6 py-3 text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div id="finished-content" class="tab-content hidden">
                         <div class="flex justify-between items-center mb-4">
                            <input type="text" id="search-finished" class="w-64 p-2 border border-gray-300 rounded-lg" placeholder="Search finished clients by name...">
                            <div class="flex items-center gap-4">
                                <div id="tech-filter-container-finished" class="tech-filter-container flex gap-2">
                                     <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                     <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                                </div>
                                <div>
                                    <label for="finished-date-filter" class="text-sm font-medium text-gray-700 mr-2">Date:</label>
                                    <input type="date" id="finished-date-filter" class="p-2 border border-gray-300 rounded-lg">
                               </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table id="finished-clients-table" class="w-full text-sm text-left text-gray-600">
                                 <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-center">No.</th>
                                        <th scope="col" class="px-6 py-3">Name</th>
                                        <th scope="col" class="px-6 py-3">Group</th>
                                        <th scope="col" class="px-6 py-3">Services</th>
                                        <th scope="col" class="px-6 py-3">Check-in Time</th>
                                        <th scope="col" class="px-6 py-3 text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div id="calendar-content" class="tab-content hidden">
                         <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center gap-2">
                                 <button id="today-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg">List all Booking <span id="today-count" class="ml-2 bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span></button>
                                 <button id="month-view-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hidden">Month View</button>
                            </div>
                            <div id="tech-filter-container-calendar" class="tech-filter-container flex gap-2">
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button>
                                <button class="tech-filter-btn px-3 py-1 rounded-full text-sm" data-tech="Any Technician">Any Technician</button>
                            </div>
                            <div id="month-nav" class="flex items-center gap-2">
                                <button id="prev-month-btn" class="px-4 py-2 bg-pink-600 text-white rounded-lg"><i class="fas fa-chevron-left"></i></button>
                                <h3 id="month-year-display" class="text-xl font-bold"></h3>
                                <button id="next-month-btn" class="px-4 py-2 bg-pink-600 text-white rounded-lg"><i class="fas fa-chevron-right"></i></button>
                            </div>
                         </div>
                         <div id="list-view" class="hidden">
                             <div class="overflow-x-auto">
                                <table id="today-bookings-table" class="w-full text-sm text-left text-gray-600">
                                     <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th>
                                            <th scope="col" class="px-6 py-3">Services</th>
                                            <th scope="col" class="px-6 py-3">Technician</th>
                                            <th scope="col" class="px-6 py-3">Group</th>
                                            <th scope="col" class="px-6 py-3">Date & Time</th>
                                            <th scope="col" class="px-6 py-3">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                         </div>
                         <div id="month-view">
                            <div class="grid grid-cols-7 text-center font-semibold mb-2">
                                <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
                            </div>
                            <div id="calendar"></div>
                         </div>
                    </div>

                    <div id="clients-list-content" class="tab-content hidden">
                        <div class="flex justify-between items-center mb-4">
                            <input type="text" id="search-clients-list" class="w-1/2 p-2 border border-gray-300 rounded-lg" placeholder="Search by client name...">
                            <button id="export-clients-btn" class="ml-4 bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors">Export to Excel</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table id="clients-list-table" class="w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">Name</th>
                                        <th scope="col" class="px-6 py-3">Phone</th>
                                        <th scope="col" class="px-6 py-3">Favorite Tech</th>
                                        <th scope="col" class="px-6 py-3">Favorite Color</th>
                                        <th scope="col" class="px-6 py-3">Last Visit</th>
                                        <th scope="col" class="px-6 py-3 text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div id="reports-content" class="tab-content hidden">
                        <!-- NEW: Sub-tabs for reports -->
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="reports-sub-tabs">
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active" id="salon-earning-report-tab" type="button">Salon Earning</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="staff-earning-report-tab" type="button">Staff Earning</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="expense-report-tab" type="button">Expense Report</button></li>
                            </ul>
                        </div>

                        <!-- Salon Earning Content -->
                        <div id="salon-earning-report-content" class="sub-tab-content">
                            <div class="mb-6 border-b pb-3">
                                <h3 class="text-xl font-semibold text-gray-700">Salon Earning Report</h3>
                            </div>
                            <form id="salon-earning-form" class="space-y-6 mb-8">
                                 <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                    <div>
                                        <label for="salon-earning-date" class="block text-sm font-medium text-gray-600">Date</label>
                                        <input type="date" id="salon-earning-date" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" required>
                                    </div>
                                </div>
                                <div id="salon-earning-inputs" class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end"></div>
                                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                                    <div><label for="sell-gift-card" class="block text-sm font-medium text-gray-600">Sell Gift Card</label><input type="number" step="0.01" id="sell-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="return-gift-card" class="block text-sm font-medium text-gray-600">Return Gift Card</label><input type="number" step="0.01" id="return-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="check-payment" class="block text-sm font-medium text-gray-600">Check</label><input type="number" step="0.01" id="check-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="no-of-credit" class="block text-sm font-medium text-gray-600">No. of Credit</label><input type="number" id="no-of-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Count"></div>
                                    <div><label for="total-credit" class="block text-sm font-medium text-gray-600">Total Credit</label><input type="number" step="0.01" id="total-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="venmo-payment" class="block text-sm font-medium text-gray-600">Venmo</label><input type="number" step="0.01" id="venmo-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                    <div><label for="square-payment" class="block text-sm font-medium text-gray-600">Square</label><input type="number" step="0.01" id="square-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                                </div>
                                <div class="text-center pt-4">
                                    <button type="submit" class="w-full md:w-auto bg-pink-600 text-white font-bold py-3 px-12 rounded-full hover:bg-pink-700">Add Salon Earning</button>
                                </div>
                            </form>
                            <div class="flex justify-end items-center mb-4 gap-2">
                                <button id="export-salon-earnings-btn" class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600"><i class="fas fa-file-excel mr-2"></i>Export</button>
                                <button id="print-salon-earnings-btn" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600"><i class="fas fa-print mr-2"></i>Print</button>
                                <select id="salon-earning-range-filter" class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                <input type="date" id="salon-earning-date-filter" class="p-2 border border-gray-300 rounded-lg hidden">
                            </div>
                            <div class="overflow-x-auto">
                                <table id="salon-earning-table" class="w-full text-sm text-left text-gray-600">
                                    <thead id="salon-earning-table-head" class="text-xs text-gray-700 uppercase bg-gray-50"></thead>
                                    <tbody></tbody>
                                    <tfoot id="salon-earning-table-foot" class="bg-gray-100 font-semibold"></tfoot>
                                </table>
                            </div>
                        </div>

                        <!-- Staff Earning Content -->
                        <div id="staff-earning-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 border-b pb-3 mb-6 flex justify-between items-center">
                                <span>Staff Earning Report</span>
                                <div class="flex gap-4">
                                    <span id="filtered-earning-total-main" class="ml-2 bg-pink-100 text-pink-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                    <span id="filtered-earning-total-tip" class="ml-2 bg-green-100 text-green-800 text-sm font-semibold px-2.5 py-0.5 rounded-full"></span>
                                </div>
                            </h3>
                            <form id="staff-earning-form" class="grid grid-cols-1 md:grid-cols-5 gap-6 mb-8 items-end">
                                <div><label for="staff-earning-date" class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date" id="staff-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                                <div><label for="staff-name" class="block text-sm font-medium text-gray-600 mb-1">Staff Name</label><select id="staff-name" class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select></div>
                                <div><label for="staff-earning" class="block text-sm font-medium text-gray-600 mb-1">Earning</label><input type="number" step="0.01" id="staff-earning" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 100" required></div>
                                <div><label for="staff-tip" class="block text-sm font-medium text-gray-600 mb-1">Tip</label><input type="number" step="0.01" id="staff-tip" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 20" required></div>
                                <div><button type="submit" class="w-full bg-pink-600 text-white font-bold py-3 px-6 rounded-full hover:bg-pink-700">Add Earning</button></div>
                            </form>
                            <div class="flex justify-between items-center mb-4">
                                <div id="tech-filter-container-earning" class="tech-filter-container flex gap-2 flex-wrap"><button class="tech-filter-btn px-3 py-1 rounded-full text-sm active" data-tech="All">All</button></div>
                                <div class="flex items-center gap-2">
                                    <select id="earning-range-filter" class="form-select p-2 border border-gray-300 rounded-lg"></select>
                                    <input type="date" id="earning-date-filter" class="p-2 border border-gray-300 rounded-lg">
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table id="staff-earning-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Staff Name</th>
                                            <th scope="col" class="px-6 py-3">Earning</th>
                                            <th scope="col" class="px-6 py-3">Tip</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot class="bg-gray-100 font-semibold">
                                        <tr>
                                            <td colspan="2" class="px-6 py-3 text-right">Total:</td>
                                            <td id="total-earning" class="px-6 py-3"></td>
                                            <td id="total-tip" class="px-6 py-3"></td>
                                            <td class="px-6 py-3"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>

                        <!-- MOVED: Expense Report Content -->
                        <div id="expense-report-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Monthly Expense Report</h3>
                            <form id="add-expense-form" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-expense-id">
                                <div><label for="expense-date" class="block text-sm font-medium text-gray-600">Date</label><input type="date" id="expense-date" class="form-input w-full mt-1" required></div>
                                <div><label for="expense-name" class="block text-sm font-medium text-gray-600">Expense Name</label><input type="text" id="expense-name" class="form-input w-full mt-1" placeholder="e.g., Rent, Supplies" required></div>
                                <div><label for="expense-amount" class="block text-sm font-medium text-gray-600">Amount</label><input type="number" id="expense-amount" step="0.01" class="form-input w-full mt-1" placeholder="e.g., 1500.00" required></div>
                                <div><label for="expense-category" class="block text-sm font-medium text-gray-600">Category</label><select id="expense-category" class="form-select w-full mt-1"><option value="">Select Category</option></select></div>
                                <div><label for="expense-supplier" class="block text-sm font-medium text-gray-600">Supplier</label><select id="expense-supplier" class="form-select w-full mt-1"><option value="">Select Supplier</option></select></div>
                                <div><label for="expense-payment-account" class="block text-sm font-medium text-gray-600">Payment Account</label><select id="expense-payment-account" class="form-select w-full mt-1"><option value="">Select Account</option></select></div>
                                <div class="md:col-span-2"><label for="expense-attachment" class="block text-sm font-medium text-gray-600">Attachment</label><input type="file" id="expense-attachment" class="form-input w-full mt-1 text-sm"><div id="current-attachment-info" class="text-xs text-gray-500 mt-1"></div></div>
                                <div class="self-end flex gap-2">
                                    <button type="submit" id="add-expense-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add Expense</button>
                                    <button type="button" id="cancel-edit-expense-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>

                            <div class="flex justify-end items-center mb-4">
                                <label for="expense-month-filter" class="text-sm font-medium text-gray-700 mr-2">Filter by Month:</label>
                                <select id="expense-month-filter" class="form-select p-2 border border-gray-300 rounded-lg"></select>
                            </div>

                            <div class="overflow-x-auto">
                                <table id="expense-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Date</th>
                                            <th scope="col" class="px-6 py-3">Expense Name</th>
                                            <th scope="col" class="px-6 py-3">Category</th>
                                            <th scope="col" class="px-6 py-3">Supplier</th>
                                            <th scope="col" class="px-6 py-3">Paid Via</th>
                                            <th scope="col" class="px-6 py-3">Attachment</th>
                                            <th scope="col" class="px-6 py-3 text-right">Amount</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot class="bg-gray-100 font-semibold">
                                        <tr>
                                            <td colspan="6" class="px-6 py-3 text-right">Total:</td>
                                            <td id="total-expense" class="px-6 py-3 text-right"></td>
                                            <td class="px-6 py-3"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div id="admin-content" class="tab-content hidden">
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="admin-sub-tabs">
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg active" id="user-management-tab" type="button">User Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="inventory-management-tab" type="button">Inventory Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="service-management-tab" type="button">Service Management</button></li>
                                <li class="mr-2"><button class="sub-tab-btn inline-block p-4 rounded-t-lg" id="settings-management-tab" type="button">Settings</button></li>
                            </ul>
                        </div>

                        <!-- User Management Content -->
                        <div id="user-management-content" class="sub-tab-content">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Users</h3>
                            <form id="add-user-form" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-user-id">
                                <div><label for="new-user-name" class="block text-sm font-medium text-gray-600">Name</label><input type="text" id="new-user-name" class="form-input w-full mt-1" required></div>
                                <div><label for="new-user-phone" class="block text-sm font-medium text-gray-600">Phone</label><input type="tel" id="new-user-phone" class="form-input w-full mt-1"></div>
                                <div><label for="new-user-email" class="block text-sm font-medium text-gray-600">Email</label><input type="email" id="new-user-email" class="form-input w-full mt-1" required></div>
                                <div><label for="new-user-password" class="block text-sm font-medium text-gray-600">Password</label><input type="password" id="new-user-password" class="form-input w-full mt-1" placeholder="Min. 6 characters"></div>
                                <div><label for="user-role" class="block text-sm font-medium text-gray-600">Role</label><select id="user-role" class="form-select w-full mt-1"><option value="technician">Technician</option><option value="staff">Staff</option><option value="admin">Admin</option></select></div>
                                <div class="self-end"><button type="submit" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add/Update User</button></div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="users-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Name</th><th scope="col" class="px-6 py-3">Email</th><th scope="col" class="px-6 py-3">Phone</th><th scope="col" class="px-6 py-3">Role</th><th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Inventory Management Content -->
                        <div id="inventory-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Inventory</h3>
                            <form id="add-product-form" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                <input type="hidden" id="edit-product-id">
                                <div><label for="product-name" class="block text-sm font-medium text-gray-600">Product Name</label><input type="text" id="product-name" class="form-input w-full mt-1" required></div>
                                <div><label for="product-category" class="block text-sm font-medium text-gray-600">Category</label><input type="text" id="product-category" class="form-input w-full mt-1"></div>
                                <div><label for="product-supplier" class="block text-sm font-medium text-gray-600">Supplier</label><select id="product-supplier" class="form-select w-full mt-1"><option value="">Select Supplier</option></select></div>
                                <div><label for="product-quantity" class="block text-sm font-medium text-gray-600">Quantity</label><input type="number" id="product-quantity" class="form-input w-full mt-1" required></div>
                                <div><label for="product-price" class="block text-sm font-medium text-gray-600">Price</label><input type="number" step="0.01" id="product-price" class="form-input w-full mt-1" required></div>
                                <div class="self-end flex gap-2">
                                    <button type="submit" id="add-product-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add Product</button>
                                    <button type="button" id="cancel-edit-product-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 hidden">Cancel</button>
                                </div>
                            </form>
                            <div class="overflow-x-auto">
                                <table id="inventory-table" class="w-full text-sm text-left text-gray-600">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">Product Name</th>
                                            <th scope="col" class="px-6 py-3">Category</th>
                                            <th scope="col" class="px-6 py-3">Supplier</th>
                                            <th scope="col" class="px-6 py-3 text-center">Quantity</th>
                                            <th scope="col" class="px-6 py-3 text-right">Price</th>
                                            <th scope="col" class="px-6 py-3 text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Settings Management Content -->
                        <div id="settings-management-content" class="sub-tab-content hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <!-- General Settings -->
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">General Settings</h3>
                                    <form id="settings-form" class="p-4 border rounded-lg bg-gray-50 mb-6 space-y-4">
                                        <div>
                                            <label for="min-booking-hours" class="block text-sm font-medium text-gray-600">Minimum Booking Notice (in hours)</label>
                                            <input type="number" id="min-booking-hours" class="form-input w-full md:w-1/3 mt-1" placeholder="e.g., 2" required>
                                            <p class="text-xs text-gray-500 mt-1">Set the minimum number of hours in advance a client can book an appointment.</p>
                                        </div>
                                        <div class="text-right"><button type="submit" class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Save Settings</button></div>
                                    </form>
                                </div>
                                <!-- Expense Settings -->
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Expense Settings</h3>
                                    <div class="space-y-6">
                                        <!-- Manage Categories -->
                                        <div class="p-4 border rounded-lg bg-gray-50">
                                            <h4 class="font-semibold mb-2">Manage Categories</h4>
                                            <form id="add-expense-category-form" class="flex gap-2 mb-2"><input type="text" id="new-expense-category-name" class="form-input w-full" placeholder="New category name" required><button type="submit" class="bg-blue-500 text-white px-4 rounded-lg">Add</button></form>
                                            <div id="expense-categories-list" class="text-sm max-h-32 overflow-y-auto"></div>
                                        </div>
                                        <!-- Manage Payment Accounts -->
                                        <div class="p-4 border rounded-lg bg-gray-50">
                                            <h4 class="font-semibold mb-2">Manage Payment Accounts</h4>
                                            <form id="add-payment-account-form" class="flex gap-2 mb-2"><input type="text" id="new-payment-account-name" class="form-input w-full" placeholder="New account name" required><button type="submit" class="bg-blue-500 text-white px-4 rounded-lg">Add</button></form>
                                            <div id="payment-accounts-list" class="text-sm max-h-32 overflow-y-auto"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Manage Suppliers -->
                            <div class="mt-8">
                                <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Suppliers</h3>
                                <form id="add-supplier-form" class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 border rounded-lg bg-gray-50 items-end">
                                    <input type="hidden" id="edit-supplier-id">
                                    <div><label for="supplier-name" class="block text-sm font-medium">Name</label><input type="text" id="supplier-name" class="form-input w-full mt-1" required></div>
                                    <div><label for="supplier-phone" class="block text-sm font-medium">Phone</label><input type="tel" id="supplier-phone" class="form-input w-full mt-1"></div>
                                    <div><label for="supplier-email" class="block text-sm font-medium">Email</label><input type="email" id="supplier-email" class="form-input w-full mt-1"></div>
                                    <div><label for="supplier-website" class="block text-sm font-medium">Website</label><input type="url" id="supplier-website" class="form-input w-full mt-1"></div>
                                    <div class="flex gap-2"><button type="submit" id="add-supplier-btn" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-lg">Add Supplier</button><button type="button" id="cancel-edit-supplier-btn" class="w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hidden">Cancel</button></div>
                                </form>
                                <div class="overflow-x-auto">
                                    <table id="suppliers-table" class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50"><tr><th class="px-6 py-3">Name</th><th class="px-6 py-3">Phone</th><th class="px-6 py-3">Email</th><th class="px-6 py-3">Website</th><th class="px-6 py-3 text-center">Action</th></tr></thead><tbody></tbody></table>
                                </div>
                            </div>
                        </div>

                        <!-- Service Management Content -->
                        <div id="service-management-content" class="sub-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">Manage Services</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <form id="add-category-form" class="p-4 border rounded-lg bg-gray-50 mb-6">
                                        <label for="new-category-name" class="block text-sm font-medium text-gray-600">New Category Name</label>
                                        <div class="flex gap-2 mt-1">
                                            <input type="text" id="new-category-name" class="form-input w-full" required>
                                            <button type="submit" class="bg-pink-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-700">Add</button>
                                        </div>
                                    </form>
                                    <div id="service-categories-admin" class="space-y-4"></div>
                                </div>
                                <div id="edit-service-section" class="p-4 border rounded-lg bg-gray-50 hidden">
                                    <h4 id="edit-service-title" class="text-lg font-semibold mb-3">Add/Edit Service</h4>
                                    <form id="add-service-form" class="space-y-3">
                                        <input type="hidden" id="edit-category-id"><input type="hidden" id="edit-service-index">
                                        <div><label for="service-prefix" class="block text-sm font-medium text-gray-600">Prefix (Optional)</label><input type="text" id="service-prefix" class="form-input w-full mt-1" placeholder="e.g., Gel Polish - "></div>
                                        <div><label for="service-name" class="block text-sm font-medium text-gray-600">Service Name</label><input type="text" id="service-name" class="form-input w-full mt-1" required></div>
                                        <div><label for="service-price" class="block text-sm font-medium text-gray-600">Price</label><input type="text" id="service-price" class="form-input w-full mt-1" placeholder="e.g., $50"></div>
                                        <div class="text-right"><button type="submit" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Save Service</button></div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="bg-white mt-8">
             <div class="container mx-auto max-w-7xl p-4 flex justify-between items-center text-sm text-gray-500">
                <div>Design with ❤️ by Nails Express</div>
                <div>&copy; <span id="copyright-year"></span> Nails Express. All rights reserved.</div>
             </div>
        </footer>

        <button id="floating-booking-btn" class="fixed bottom-6 right-6 bg-pink-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-2xl hover:bg-pink-700 transition-colors z-40">
            <i class="fas fa-plus"></i>
        </button>

        <div id="service-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 modal-overlay"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="modal-title" class="text-2xl font-bold text-pink-700 mb-4">Select Services</h3>
                <div id="modal-content" class="space-y-3 max-h-96 overflow-y-auto"></div>
                <div class="mt-6 text-right">
                    <button id="modal-done-btn" type="button" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Done</button>
                </div>
            </div>
        </div>

        <div id="checkout-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 checkout-modal-overlay"></div>
            <form id="checkout-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Client Feedback</h3>
                <input type="hidden" id="checkout-client-id">
                <div class="space-y-4">
                     <div>
                        <label for="color-code" class="block text-sm font-medium text-gray-600">What color code did you choose today?</label>
                        <input type="text" id="color-code" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg">
                    </div>
                     <div>
                        <label for="technician-name-select" class="block text-sm font-medium text-gray-600">Who provided your service today?</label>
                        <select id="technician-name-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                            <option>Any Technician</option>
                        </select>
                         <input type="text" id="technician-name-other" class="form-input w-full p-2 mt-2 border border-gray-300 rounded-lg hidden" placeholder="Enter technician name">
                    </div>
                     <div>
                        <label for="rebook-select" class="block text-sm font-medium text-gray-600">Next Appointment?</label>
                        <select id="rebook-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg">
                            <option value="no">No, thanks</option>
                            <option value="2w">2 Weeks</option>
                            <option value="3w">3 Weeks</option>
                            <option value="other">Pick date</option>
                        </select>
                        <input type="datetime-local" id="rebook-other-input" class="form-input w-full p-2 mt-2 border border-gray-300 rounded-lg hidden">
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-3">
                    <button type="button" id="checkout-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button>
                    <button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Submit & Check Out</button>
                </div>
            </form>
        </div>

        <div id="view-detail-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 view-detail-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 id="view-detail-title" class="text-2xl font-bold text-pink-700 mb-6"></h3>
                <div id="view-detail-content" class="space-y-4"></div>
                <div id="view-detail-actions" class="mt-6 flex justify-end gap-3">
                    <button type="button" id="view-detail-close-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
                </div>
            </div>
        </div>

        <div id="policy-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 policy-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Salon Policy</h3>
                <div class="prose max-w-none max-h-96 overflow-y-auto text-gray-600">
                    <p>To ensure a pleasant experience for all our clients, we kindly request your observance of the following policies:</p>
                    <h4>1. Appointments</h4><p>We encourage booking appointments in advance via phone or our online system to secure your preferred time and technician. Walk-ins are welcome but are subject to availability.</p>
                    <h4>2. Cancellations & No-Shows</h4><p>We understand that schedules can change. Please provide at least 24 hours' notice for any cancellations. Cancellations with less than 24 hours' notice or no-shows may be subject to a fee on your next visit.</p>
                    <h4>3. Late Arrivals</h4><p>To ensure our technicians have enough time to provide high-quality service, we may need to shorten your service or reschedule your appointment if you arrive more than 15 minutes late.</p>
                    <h4>4. Technician Requests</h4><p>You may request a specific technician when booking your appointment. We will do our best to accommodate your request, but we cannot guarantee availability.</p>
                    <h4>5. Pricing and Service Adjustments</h4><p>Prices for services are based on standard nail length and condition. Prices may be adjusted for extra-long nails, complex designs, or additional preparation work required. Your technician will consult with you before any price changes are made.</p>
                    <h4>6. Refunds & Service Guarantee</h4><p>We take pride in our work. If you are not satisfied with your service, please let us know before you leave the salon. We offer a 7-day guarantee for gel polish and acrylic services and will happily fix any issues within this period. We do not offer monetary refunds for services rendered.</p>
                    <h4>7. Right to Refuse Service</h4><p>For the safety and well-being of our clients and staff, we reserve the right to refuse service to anyone with a nail condition we suspect may be contagious, or for any behavior we deem inappropriate.</p>
                    <p>Thank you for your understanding and cooperation!</p>
                </div>
                <div class="mt-6 text-right"><button type="button" id="policy-close-btn" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Close</button></div>
            </div>
        </div>

        <div id="add-appointment-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 add-appointment-modal-overlay"></div>
            <form id="add-appointment-form" class="relative bg-white w-full max-w-2xl p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Add New Appointment</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto pr-2">
                    <div><label for="appointment-client-name" class="block text-sm font-medium text-gray-600">Client Name</label><input type="text" id="appointment-client-name" list="client-names-list" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required><datalist id="client-names-list"></datalist></div>
                    <div><label for="appointment-phone" class="block text-sm font-medium text-gray-600">Phone</label><input type="tel" id="appointment-phone" list="appointment-client-phones" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"><datalist id="appointment-client-phones"></datalist></div>
                    <div><label for="appointment-people" class="block text-sm font-medium text-gray-600">Group Size</label><select id="appointment-people" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"></select></div>
                    <div><label for="appointment-booking-type" class="block text-sm font-medium text-gray-600">Booking Type</label><select id="appointment-booking-type" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"><option>Booked - Calendar</option><option value="Phone">Phone</option><option value="Online">Online</option></select></div>
                    <div><label for="appointment-services" class="block text-sm font-medium text-gray-600">Services</label><input type="text" id="appointment-services" list="main-services-list" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" placeholder="Select or type a service..."><datalist id="main-services-list"></datalist></div>
                    <div><label for="appointment-technician-select" class="block text-sm font-medium text-gray-600">Technician Request</label><select id="appointment-technician-select" class="form-select w-full p-2 mt-1 border border-gray-300 rounded-lg"><option>Any Technician</option></select></div>
                    <div class="md:col-span-2"><label for="appointment-datetime" class="block text-sm font-medium text-gray-600">Date & Time</label><input type="datetime-local" id="appointment-datetime" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" required></div>
                    <div class="md:col-span-2"><label for="appointment-notes" class="block text-sm font-medium text-gray-600">Notes</label><textarea id="appointment-notes" rows="2" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg"></textarea></div>
                </div>
                <div class="mt-8 text-center"><label class="flex items-center justify-center"><input type="checkbox" id="appointment-policy-agree" class="form-checkbox" checked required><span class="ml-2 text-sm text-gray-600">I agree to the <button type="button" class="text-pink-600 hover:underline font-semibold view-policy-btn">Salon Policy</button>.</span></label></div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="add-appointment-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Appointment</button></div>
            </form>
        </div>

        <div id="edit-earning-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 edit-earning-modal-overlay"></div>
            <form id="edit-earning-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Earning</h3><input type="hidden" id="edit-earning-id">
                <div class="space-y-4">
                    <div><label for="edit-staff-earning-date" class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date" id="edit-staff-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div><label for="edit-staff-name" class="block text-sm font-medium text-gray-600 mb-1">Staff Name</label><select id="edit-staff-name" class="form-select w-full p-3 border border-gray-300 rounded-lg" required></select></div>
                    <div><label for="edit-staff-earning" class="block text-sm font-medium text-gray-600 mb-1">Earning</label><input type="number" step="0.01" id="edit-staff-earning" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div><label for="edit-staff-tip" class="block text-sm font-medium text-gray-600 mb-1">Tip</label><input type="number" step="0.01" id="edit-staff-tip" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                </div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-earning-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Changes</button></div>
            </form>
        </div>

        <div id="edit-salon-earning-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 edit-salon-earning-modal-overlay"></div>
            <form id="edit-salon-earning-form" class="relative bg-white w-full max-w-4xl p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Salon Earning</h3><input type="hidden" id="edit-salon-earning-id">
                <div class="space-y-6">
                    <div><label for="edit-salon-earning-date" class="block text-sm font-medium text-gray-600 mb-1">Date</label><input type="date" id="edit-salon-earning-date" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div id="edit-salon-earning-inputs" class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end"></div>
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
                        <div><label for="edit-sell-gift-card" class="block text-sm font-medium text-gray-600">Sell Gift Card</label><input type="number" step="0.01" id="edit-sell-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-return-gift-card" class="block text-sm font-medium text-gray-600">Return Gift Card</label><input type="number" step="0.01" id="edit-return-gift-card" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-check-payment" class="block text-sm font-medium text-gray-600">Check</label><input type="number" step="0.01" id="edit-check-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-no-of-credit" class="block text-sm font-medium text-gray-600">No. of Credit</label><input type="number" id="edit-no-of-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Count"></div>
                        <div><label for="edit-total-credit" class="block text-sm font-medium text-gray-600">Total Credit</label><input type="number" step="0.01" id="edit-total-credit" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-venmo-payment" class="block text-sm font-medium text-gray-600">Venmo</label><input type="number" step="0.01" id="edit-venmo-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                        <div><label for="edit-square-payment" class="block text-sm font-medium text-gray-600">Square</label><input type="number" step="0.01" id="edit-square-payment" class="form-input mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="Amount"></div>
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-salon-earning-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Changes</button></div>
            </form>
        </div>

        <div id="edit-client-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 edit-client-modal-overlay"></div>
            <form id="edit-client-form" class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Edit Client Information</h3><input type="hidden" id="edit-client-original-name">
                <div class="space-y-4">
                    <div><label for="edit-client-name" class="block text-sm font-medium text-gray-600 mb-1">Client Name</label><input type="text" id="edit-client-name" class="form-input w-full p-3 border border-gray-300 rounded-lg" required></div>
                    <div><label for="edit-client-phone" class="block text-sm font-medium text-gray-600 mb-1">Phone Number</label><input type="tel" id="edit-client-phone" class="form-input w-full p-3 border border-gray-300 rounded-lg"></div>
                </div>
                <div class="mt-6 flex justify-end gap-3"><button type="button" id="edit-client-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="submit" class="bg-pink-600 text-white font-semibold py-2 px-6 rounded-lg">Save Changes</button></div>
            </form>
        </div>
        
        <div id="gemini-sms-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 gemini-sms-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-lg p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-6">Generated SMS Message</h3>
                <div id="gemini-sms-content" class="space-y-4"><textarea id="gemini-sms-textarea" rows="5" class="form-input w-full p-2 mt-1 border border-gray-300 rounded-lg" placeholder="Generating message..."></textarea></div>
                <div class="mt-6 flex justify-end gap-3">
                    <a id="gemini-sms-send-link" href="#" target="_blank" class="bg-green-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-green-600"><i class="fas fa-paper-plane mr-2"></i>Open in Messages</a>
                    <button type="button" id="gemini-sms-close-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Close</button>
                </div>
            </div>
        </div>
        
        <div id="confirm-modal" class="fixed inset-0 z-[70] hidden items-center justify-center">
            <div class="absolute inset-0 bg-black opacity-50 confirm-modal-overlay"></div>
            <div class="relative bg-white w-full max-w-sm p-6 rounded-2xl shadow-xl m-4">
                <h3 class="text-lg font-bold text-gray-800 mb-4">Are you sure?</h3>
                <p id="confirm-modal-message" class="text-gray-600 mb-6"></p>
                <div class="flex justify-end gap-3"><button type="button" id="confirm-cancel-btn" class="bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-lg">Cancel</button><button type="button" id="confirm-confirm-btn" class="bg-red-600 text-white font-semibold py-2 px-6 rounded-lg">Delete</button></div>
            </div>
        </div>

    </div>
 <script  type="module" src="script.js"></script>
</body>
</html>
